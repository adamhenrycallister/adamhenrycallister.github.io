/*! For license information please see main.22591e2f.js.LICENSE.txt */
(()=>{var e={2189:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(5043),i=n(579);const r=e=>{let{children:t,solution:n}=e;const[r,s]=(0,a.useState)(!1);return(0,i.jsxs)("div",{className:"example-box",children:[(0,i.jsx)("div",{className:"problem-text",children:t})," ",(0,i.jsx)("span",{className:"toggle-button",onClick:()=>s(!r),children:r?"Hide Solution":"Show Solution"}),r&&(0,i.jsx)("div",{className:"solution-text",children:n})]})}},2638:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var a=n(3216),i=n(5475),r=n(1840),s=n(579);const l=e=>{let{group:t}=e;const n=(0,a.zy)(),l=r.A.filter((e=>e.group===t)),o=l.findIndex((e=>e.path===n.pathname)),c=o>0?l[o-1]:null,h=o<l.length-1?l[o+1]:null;return(0,s.jsxs)("div",{className:"page-navigator",children:[c&&(0,s.jsxs)(i.N_,{to:c.path,className:"nav-link left",children:["\u2b05 ",c.title]}),h&&(0,s.jsxs)(i.N_,{to:h.path,className:"nav-link right",children:[h.title," \u27a1"]})]})}},5898:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});n(5043),n(6483);var a=n(579);const i=function(){return(0,a.jsxs)("div",{className:"cv-container",children:[(0,a.jsx)("div",{className:"cv-embed",children:(0,a.jsx)("iframe",{src:"https://drive.google.com/file/d/1jkxm7kJstUlWbaieu3q3UAIRMv88GV3P/preview",width:"100%",height:"600",allow:"autoplay"})}),(0,a.jsx)("a",{className:"cv-download",href:"https://drive.google.com/uc?export=download&id=1jkxm7kJstUlWbaieu3q3UAIRMv88GV3P",target:"_blank",rel:"noopener noreferrer",children:"Download CV"})]})}},355:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(5043),i=n(6980),r=n(579);const s=e=>{let{width:t=250,height:n=250,duration:s=5e4,stepSize:l=10}=e;const o=(0,a.useRef)();return(0,a.useEffect)((()=>{const e=i.Ltv(o.current);e.selectAll("*").remove();const a=i.m4Y().domain([-t/2,t/2]).range([20,t-20]),r=i.m4Y().domain([-n/2,n/2]).range([n-20,20]),c=e.append("g"),h=c.append("path").attr("fill","none").attr("stroke","steelblue").attr("stroke-width",2),d=c.append("circle").attr("r",5).attr("fill","red");let u=[{x:0,y:0}];!function e(){u=[{x:0,y:0}],h.attr("d",null),function e(t){if(t>=s/100)return;const n=u[u.length-1],o={x:n.x+l*(2*Math.random()-1),y:n.y+l*(2*Math.random()-1)};u.push(o),h.attr("d",i.n8j().x((e=>a(e.x))).y((e=>r(e.y)))(u)),d.attr("cx",a(o.x)).attr("cy",r(o.y)),setTimeout((()=>e(t+1)),s/400)}(0),setTimeout(e,s)}()}),[t,n,s,l]),(0,r.jsx)("svg",{ref:o,width:t,height:n,style:{border:"1px solid black"}})}},1488:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});n(5043),n(992);var a=n(5475),i=n(2638),r=n(4257),s=n(7971),l=n(579);const o=function(){return(0,l.jsxs)("div",{className:"BlackScholes",children:[(0,l.jsx)(i.A,{group:"BS"}),(0,l.jsx)("p",{className:"heading1",children:"Black-Scholes Derivative Pricing"}),(0,l.jsx)("p",{children:"The famous Black-Scholes equation is used to price derivatives, or financial contracts whose value is determined by the price of another, underlying asset. Here, we'll go through the process of deriving the Black-Scholes equation, use it to price a European call option, and talk about how different factors influence derivative pricing. A working knowledge of first-year calculus is assumed. We'll introduce more advanced topics as needed for the derivation. To follow along, make sure you are comfortable with the concepts in the \"Preliminaries\" section. "}),(0,l.jsx)(r.A,{children:(0,l.jsx)("div",{style:{display:"flex",paddingLeft:"10vw"},children:(0,l.jsxs)("ul",{className:"toc-list",children:[(0,l.jsxs)("div",{className:"content-group",children:[(0,l.jsx)("li",{children:(0,l.jsx)(a.k2,{className:"BS-link",to:"/corporate_finance/black_scholes/preliminaries",children:"Preliminaries"})}),(0,l.jsxs)("ul",{className:"toc-list",children:[(0,l.jsx)("li",{className:"BS-content",children:"Change of Variables"}),(0,l.jsx)("li",{className:"BS-content",children:"Differential Equations"}),(0,l.jsx)("li",{className:"BS-content",children:"Normal Distribution"}),(0,l.jsx)("li",{className:"BS-content",children:"Implicit Differentiation"})]})]}),(0,l.jsxs)("div",{className:"content-group",children:[(0,l.jsx)("li",{children:(0,l.jsx)(a.k2,{className:"BS-link",to:"/corporate_finance/black_scholes/stochastic_calculus",children:"Stochastic Calculus"})}),(0,l.jsxs)("ul",{className:"toc-list",children:[(0,l.jsx)("li",{className:"BS-content",children:"Brownian Motion"}),(0,l.jsx)("li",{className:"BS-content",children:"Ito's Lemma"}),(0,l.jsx)("li",{className:"BS-content",children:"Geometric Brownian Motion"})]})]}),(0,l.jsxs)("div",{className:"content-group",children:[(0,l.jsx)("li",{children:(0,l.jsx)(a.k2,{className:"BS-link",to:"/corporate_finance/black_scholes/equation",children:"Black-Scholes Equation"})}),(0,l.jsxs)("ul",{className:"toc-list",children:[(0,l.jsx)("li",{className:"BS-content",children:"Setup"}),(0,l.jsx)("li",{className:"BS-content",children:"Risk-Free Portfolio"}),(0,l.jsx)("li",{className:"BS-content",children:"No-Arbitrage Condition"})]})]}),(0,l.jsxs)("div",{className:"content-group",children:[(0,l.jsx)("li",{children:(0,l.jsx)(a.k2,{className:"BS-link",to:"/corporate_finance/black_scholes/transformation",children:"Black-Scholes Transformation"})}),(0,l.jsxs)("ul",{className:"toc-list",children:[(0,l.jsx)("li",{className:"BS-content",children:"Overview"}),(0,l.jsx)("li",{className:"BS-content",children:"Change of Variables - Stock Price"}),(0,l.jsx)("li",{className:"BS-content",children:"Change of Variables - Time and Derivative Price"})]})]}),(0,l.jsxs)("div",{className:"content-group",children:[(0,l.jsx)("li",{children:(0,l.jsx)(a.k2,{className:"BS-link",to:"/corporate_finance/black_scholes/pricing",children:"Pricing a European Call Option"})}),(0,l.jsxs)("ul",{className:"toc-list",children:[(0,l.jsx)("li",{className:"BS-content",children:"Overview"}),(0,l.jsx)("li",{className:"BS-content",children:"Initial Condition"}),(0,l.jsx)("li",{className:"BS-content",children:"Transformed Solution"}),(0,l.jsx)("li",{className:"BS-content",children:"Pricing Equation"}),(0,l.jsx)("li",{className:"BS-content",children:"Example"})]})]}),(0,l.jsxs)("div",{className:"content-group",children:[(0,l.jsx)("li",{children:(0,l.jsx)(a.k2,{className:"BS-link",to:"/corporate_finance/black_scholes/statics",children:"Comparative Statics"})}),(0,l.jsxs)("ul",{className:"toc-list",children:[(0,l.jsx)("li",{className:"BS-content",children:"Overview"}),(0,l.jsx)("li",{className:"BS-content",children:"Stock Price"}),(0,l.jsx)("li",{className:"BS-content",children:"Strike Price"}),(0,l.jsx)("li",{className:"BS-content",children:"Risk-free Rate"}),(0,l.jsx)("li",{className:"BS-content",children:"Volatility"}),(0,l.jsx)("li",{className:"BS-content",children:"Time to Expiration"}),(0,l.jsx)("li",{className:"BS-content",children:"Summary"})]})]}),(0,l.jsx)("div",{className:"content-group",children:(0,l.jsx)("li",{children:(0,l.jsx)(a.k2,{className:"BS-link",to:"/corporate_finance/black_scholes/calculator_graph",children:"Calculator/Graph"})})}),(0,l.jsxs)("div",{className:"content-group",children:[(0,l.jsx)("li",{children:(0,l.jsx)(a.k2,{className:"BS-link",to:"/corporate_finance/black_scholes/volatility",children:"Volatility"})}),(0,l.jsxs)("ul",{className:"toc-list",children:[(0,l.jsx)("li",{className:"BS-content",children:"Realized Volatility"}),(0,l.jsx)("li",{className:"BS-content",children:"Implied Volatility"}),(0,l.jsx)("li",{className:"BS-content",children:"Expected Volatility"}),(0,l.jsxs)("li",{className:"BS-content",children:["Implied Volatility ",(0,l.jsx)(s.A,{inline:!0,children:"\\( \\neq \\)"})," Expected Volatility"]}),(0,l.jsx)("li",{className:"BS-content",children:"Imperfect Hedging Graph"})]})]})]})})}),(0,l.jsx)(i.A,{group:"BS"})]})}},8359:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});n(5043);var a=n(4257),i=n(7971),r=(n(992),n(5475)),s=n(2638),l=n(579);const o=function(){return(0,l.jsxs)("div",{className:"BlackScholes",children:[(0,l.jsx)(s.A,{group:"BS"}),(0,l.jsx)("p",{className:"heading1",children:"Preliminaries"}),(0,l.jsxs)(a.A,{children:[(0,l.jsxs)("div",{id:"change_of_variables",children:[(0,l.jsx)("p",{className:"heading2",children:"Change of Variables"}),(0,l.jsxs)("p",{children:["Sometimes we have a derivative or an integral taken with respect to one variable (",(0,l.jsx)(i.A,{inline:!0,children:"\\( x \\)"}),") and we want to know what that derivative or integral would look like if it was instead taken with respect to a function of the variable (",(0,l.jsx)(i.A,{inline:!0,children:"\\( g(x) \\)"}),")."]}),(0,l.jsxs)("p",{children:["In the case of a derivative, we use the chain rule to get",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n            \\frac{\\partial f}{\\partial g(x)} = \\frac{\\partial f/\\partial x}{\\partial g(x)/\\partial x}\n          \\]"}),"For example, if we want to consider ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\log{x} \\)"})," rather than ",(0,l.jsx)(i.A,{inline:!0,children:"\\( x \\)"}),", we can solve for ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial f}{\\partial x} \\)"})," in terms of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\log{x} \\)"}),":",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            &\\frac{\\partial f}{\\partial \\log{x}} = \\frac{\\partial f/\\partial x}{\\partial \\log{x}/\\partial x} = x\\frac{\\partial f}{\\partial x} \\\\\n            \\Leftrightarrow & \\frac{\\partial f}{\\partial x} = \\frac{1}{x}\\frac{\\partial f}{\\partial \\log{x}} \n            \\end{aligned}\n          \\]"})]}),(0,l.jsxs)("p",{children:["In the case of an integral, we can directly substitute in our new expression for ",(0,l.jsx)(i.A,{inline:!0,children:"\\( x \\)"}),", but we need to be careful about the bounds and the differential. Consider the following integral:",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n          \\int^b_a f(x) dx\n        \\]"}),"Suppose we want to rewrite ",(0,l.jsx)(i.A,{inline:!0,children:"\\( x \\)"})," as some function of a new variable ",(0,l.jsx)(i.A,{inline:!0,children:"\\( y \\)"}),", or ",(0,l.jsx)(i.A,{inline:!0,children:"\\( x = h(y) \\)"}),". To do this, we can rewrite the integral as",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n          \\int^{h^{-1}(b)}_{h^{-1}(a)} f(h(y)) dh(y)\n        \\]"}),"For example, if we wanted to consider the integral in terms of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( x = \\log{y} \\)"}),", we could write",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n          \\int^{e^b}_{e^a} \\frac{f(\\log{y})}{y} dy\n        \\]"}),"since ",(0,l.jsx)(i.A,{inline:!0,children:"\\( dh(y) = \\frac{dy}{y} \\)"})," and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( h^{-1}(z) = e^z \\)"})," in this case."]})]}),(0,l.jsxs)("div",{id:"differential_equations",children:[(0,l.jsx)("p",{className:"heading2",children:"Differential Equations"}),(0,l.jsxs)("p",{children:["A differential equation is an equation with one or more derivatives in it. If all the derivatives are with respect to the same variable, then we call it an ordinary differential equation (ODE). If the equation involves partial derivatives with respect to multiple different variables, we call it a partial differential equation (PDE). For example, ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{d f}{d x} = Af(x) \\)"})," is an ODE, and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial u}{\\partial t} = \\alpha \\frac{\\partial^2 u}{\\partial x^2} \\)"})," is a PDE."]}),(0,l.jsxs)("p",{children:["The strategy for finding a closed-form solution for the function of interest in a differential equation depends on how the equation is structured. For our purposes, we will worry only about differential equations of the form ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{d f}{d x} = Af(x) \\)"}),", which we can solve as",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              &\\frac{d f/ dx}{f(x)} = A \\\\\n              \\Leftrightarrow &\\frac{d}{dx}\\left(\\log{(f(x))}\\right) = A \\\\\n              \\Leftrightarrow & d\\log{(f(x))} = A dx \\\\\n              \\Leftrightarrow & \\int d\\log{(f(x))} = \\int A dx \\\\\n              \\Leftrightarrow & \\log{(f(x))} = Ax + C_0 \\\\\n              \\Leftrightarrow & f(x) = e^{Ax + C_0} \\\\\n              \\Leftrightarrow & f(x) = C_1e^{Ax}\n            \\end{aligned}\n          \\]"}),"where ",(0,l.jsx)(i.A,{inline:!0,children:"\\( C_1 \\)"})," is some integration constant. Just remember, as we go through the derivation, if we ever see the derivative of a function divided by the function itself, we might use this strategy to find a solution for the function."]}),(0,l.jsxs)("p",{children:["We'll say one more thing about differential equations before we go on. Many PDEs do not have nice, closed-form solutions. Even when they do, the process of arriving at such a solution can get pretty complicated. The Black-Scholes equation itself is a complicated PDE. Rather than directly solve this complicated PDE, we will try to make the Black-Scholes equation look like a nicer PDE that we already know the solution for. To do this, we'll transform the Black-Scholes equation into the heat equation. The heat equation models the diffusion of heat through a medium by relating the temperature at a specific location in the medium as a function of the location's distance from some fixed point, ",(0,l.jsx)(i.A,{inline:!0,children:"\\( x \\)"}),", and time, ",(0,l.jsx)(i.A,{inline:!0,children:"\\( t \\)"}),". For a temperature function ",(0,l.jsx)(i.A,{inline:!0,children:"\\( u(x,t) \\)"})," and a positive constant ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\alpha \\)"}),", the one-dimensional heat equation can be written as",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n              \\frac{\\partial u}{\\partial t} = \\alpha \\frac{\\partial^2 u}{\\partial x^2}\n            \\]"}),"People have spent a lot of time thinking about solutions to the heat equation. For our purposes, we will simply apply a well-known solution of the heat equation to our specific setting rather than derive the solution ourselves. For a look at the specifics of the derivation, see the lesson on ",(0,l.jsx)(r.k2,{className:"inline-link",to:"/fourier/heat_equation",children:"Fourier transforms"}),"."]})]}),(0,l.jsxs)("div",{id:"normal_dist",children:[(0,l.jsx)("p",{className:"heading2",children:"Normal Distribution"}),(0,l.jsxs)("p",{children:["A normally distributed random variable ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\tilde x \\sim N(\\mu, \\sigma^2)\\)"})," has a probability density function (pdf) given by",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n            f(x) = \\frac{e^{\\frac{-(x-\\mu)^2}{2\\sigma^2}}}{\\sqrt{2\\pi \\sigma^2}}\n          \\]"}),"and a cumulative distribution function (cdf) given by",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n            F(x) = \\int_{-\\infty}^x\\frac{e^{\\frac{-(z-\\mu)^2}{2\\sigma^2}}}{\\sqrt{2\\pi \\sigma^2}}dz\n          \\]"}),"The cdf gives the probability that ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\tilde x \\)"})," will take on a value that is less than or equal to the function's argument. Put differently, ",(0,l.jsx)(i.A,{inline:!0,children:"\\( F(c) = \\text{Pr}(\\tilde x < c) \\)"})," for some constant ",(0,l.jsx)(i.A,{inline:!0,children:"\\( c \\)"})," ."]}),(0,l.jsxs)("p",{children:["A standard normal random variable has mean 0 and variance 1, which reduces the pdf and cdf to",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              \\phi(x) &= \\frac{e^{\\frac{-x^2}{2}}}{\\sqrt{2\\pi}} \\\\\n              \\Phi(x) &= \\int_{-\\infty}^x\\frac{e^{\\frac{-z^2}{2}}}{\\sqrt{2\\pi}}dz\n            \\end{aligned}\n          \\]"})]}),(0,l.jsxs)("p",{children:["The sum of two independent, normally distributed random variables ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\tilde y \\sim N(\\mu_y, \\sigma^2_y) \\)"})," and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\tilde z \\sim N(\\mu_z, \\sigma^2_z) \\)"})," is itself a normally distributed random variable with mean ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\mu_y + \\mu_z \\)"})," and variance ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\sigma^2_y + \\sigma^2_z \\)"}),"."]})]}),(0,l.jsxs)("div",{id:"implicit_differentiation",children:[(0,l.jsx)("p",{className:"heading2",children:"Implicit Differentiation"}),(0,l.jsxs)("p",{children:["Sometimes we want to take a derivative of a function, but we don't actually know what the function looks like. Suppose we have some function ",(0,l.jsx)(i.A,{inline:!0,children:"\\( f \\)"})," that depends on ",(0,l.jsx)(i.A,{inline:!0,children:"\\( x \\)"}),", ",(0,l.jsx)(i.A,{inline:!0,children:"\\( y \\)"}),", and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( t \\)"}),". Let's also assume that ",(0,l.jsx)(i.A,{inline:!0,children:"\\( x \\)"})," and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( y \\)"})," are themselves functions of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( t \\)"}),". Maybe ",(0,l.jsx)(i.A,{inline:!0,children:"\\( f \\)"})," is the number of bananas I eat on a given day, which depends on how much peanut butter I have left (",(0,l.jsx)(i.A,{inline:!0,children:"\\( x \\)"}),"), how much cereal I have left (",(0,l.jsx)(i.A,{inline:!0,children:"\\( y \\)"}),"), and how much time has passed since we last went grocery shopping (",(0,l.jsx)(i.A,{inline:!0,children:"\\( t \\)"}),"). If I have more peanut butter, I'll generally eat more bananas because they go well together. But if I have more cereal, I might eat that instead of a banana. The amount of peanut butter and cereal I have depends on how long it's been since I last went grocery shopping. My banana consumption also directly depends on how long it's been since I last went grocery shopping because I have to stop eating bananas once I run out."]}),(0,l.jsxs)("p",{children:["Without imposing a functional form on anything, what can we say about how the amount of time since I last went grocery shopping affects my banana consumption? To take a partial derivative of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( f \\)"})," with respect to ",(0,l.jsx)(i.A,{inline:!0,children:"\\( t \\)"}),", we apply the following to each argument of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( f \\)"}),": (1) differentiate ",(0,l.jsx)(i.A,{inline:!0,children:"\\( f \\)"})," with respect to the argument, (2) differentiate the argument with respect to ",(0,l.jsx)(i.A,{inline:!0,children:"\\( t \\)"}),", and (3) take the product of (1) and (2). After calculating (3) for each argument, we sum up all the products to get the partial derivative. This looks like",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n              \\begin{aligned}\n                \\frac{\\partial f(x(t), y(t), t)}{\\partial t} &= \\frac{\\partial f}{\\partial x}\\frac{\\partial x}{\\partial t} + \\frac{\\partial f}{\\partial y}\\frac{\\partial y}{\\partial t} + \\frac{\\partial f}{\\partial t}\\frac{\\partial t}{\\partial t} \\\\\n                &= \\frac{\\partial f}{\\partial x}\\frac{\\partial x}{\\partial t} + \\frac{\\partial f}{\\partial y}\\frac{\\partial y}{\\partial t} + \\frac{\\partial f}{\\partial t}\n              \\end{aligned}\n            \\]"}),"In our example, we might assume:",(0,l.jsxs)("ul",{children:[(0,l.jsxs)("li",{children:[(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial f}{\\partial x} > 0\\)"})," since I eat more bananas when I have more peanut butter;"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial x}{\\partial t} < 0\\)"})," since the amount of peanut butter I have decreases as more time passes since I last went grocery shopping;"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial f}{\\partial y} < 0\\)"})," since I eat fewer bananas when I have more cereal;"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial y}{\\partial t} < 0\\)"})," since the amount of cereal I have decreases as more time passes since I last went to the grocery store; and"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial f}{\\partial t} < 0\\)"})," since the number of bananas I have left to eat decreases the longer it's been since I last went grocery shopping."]})]}),"Thus, increasing the amount of time it's been since I last went grocery shopping has a positive effect on my banana consumption by reducing the amount of cereal I have left and a negative effect on my banana consumption by reducing the amount of peanut butter I can eat with my bananas and the store of bananas I have remaining. The overall effect depends on the magnitudes of the different partial derivatives."]})]})]}),(0,l.jsx)(s.A,{group:"BS"})]})}},1338:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(5043),i=n(4257),r=n(7971),s=(n(992),n(3808)),l=n(355),o=n(5475),c=n(2638),h=n(579);const d=function(){const[e,t]=(0,a.useState)(.1),[n,d]=(0,a.useState)(.5),[u,p]=(0,a.useState)(120);return(0,h.jsxs)("div",{className:"BlackScholes",children:[(0,h.jsx)(c.A,{group:"BS"}),(0,h.jsxs)(i.A,{children:[(0,h.jsx)("p",{className:"heading1",children:"Stochastic Calculus"}),(0,h.jsxs)("div",{id:"brownian_motion",children:[(0,h.jsx)("p",{className:"heading2",children:"Brownian Motion"}),(0,h.jsxs)("p",{children:["Brownian motion describes random movement. We model this type of movement using a Wiener process, which describes the location of a randomly moving particle, ",(0,h.jsx)(r.A,{inline:!0,children:"\\(W_t\\)"}),", at any point in continuous time, ",(0,h.jsx)(r.A,{inline:!0,children:"\\( t \\)"}),". To build some intuition, let's pretend for a moment that we are dealing with discrete time so that ",(0,h.jsx)(r.A,{inline:!0,children:"\\(t \\in \\{0,1,2,...\\}\\)"}),". At ",(0,h.jsx)(r.A,{inline:!0,children:"\\(t = 0\\)"}),", the particle starts at location 0 (i.e., ",(0,h.jsx)(r.A,{inline:!0,children:"\\(W_0 = 0\\)"}),"). At ",(0,h.jsx)(r.A,{inline:!0,children:"\\(t = 1\\)"}),", we draw a value from a standard normal distribution, ",(0,h.jsx)(r.A,{inline:!0,children:"\\(x_1\\)"}),", and move the particle to ",(0,h.jsx)(r.A,{inline:!0,children:"\\( W_1 = W_0 + x_1 = x_1\\)"}),". At ",(0,h.jsx)(r.A,{inline:!0,children:"\\(t = 2\\)"}),", we draw another value from a standard normal distribution, ",(0,h.jsx)(r.A,{inline:!0,children:"\\(x_2\\)"}),", and move the particle to ",(0,h.jsx)(r.A,{inline:!0,children:"\\(W_2 = W_1 + x_2 = x_1 + x_2\\)"}),". In general, we have that the location at time ",(0,h.jsx)(r.A,{inline:!0,children:"\\(t = n\\)"})," is given by the sum of the independent draws in each previous period, ",(0,h.jsx)(r.A,{inline:!0,children:"\\(W_n = x_1 + x_2 + ... + x_n\\)"}),". At ",(0,h.jsx)(r.A,{inline:!0,children:"\\(t = 0\\)"}),", before we make any draws, we know that the distribution of possible locations at time ",(0,h.jsx)(r.A,{inline:!0,children:"\\(t = n\\)"})," is a normally distributed random variable with mean 0 and variance ",(0,h.jsx)(r.A,{inline:!0,children:"\\( n \\)"}),". More generally, let's say we've reached period ",(0,h.jsx)(r.A,{inline:!0,children:"\\(t = k\\)"})," and we want to consider the distribution of possible locations at period ",(0,h.jsx)(r.A,{inline:!0,children:"\\(t = n\\)"}),". We know the particle is at location ",(0,h.jsx)(r.A,{inline:!0,children:"\\(W_k\\)"}),". In ",(0,h.jsx)(r.A,{inline:!0,children:"\\(n - k\\)"})," more periods, the particle will be at ",(0,h.jsx)(r.A,{inline:!0,children:"\\(W_n = W_k + \\tilde x_{k+1} + \\tilde x_{k+2} + ... + \\tilde x_{n}\\)"}),". Thus, ",(0,h.jsx)(r.A,{inline:!0,children:"\\( W_n - W_k\\)"})," is a normally distributed random variable with mean 0 and variance ",(0,h.jsx)(r.A,{inline:!0,children:"\\( n - k\\)"}),"."]}),(0,h.jsxs)("p",{children:["Now, let's think about continuous time. Instead of restricting draws to a standard normal distribution at equal time lengths, we'll allow for draws at arbitrarily small time increments from a normal distribution with arbitrarily small variance. We'll simply impose that the variance of the normal distribution for our next draw be equal to the time elapsed since the last draw. In this way, we can characterize a Wiener process, ",(0,h.jsx)(r.A,{inline:!0,children:"\\( W_t\\)"}),", as a path through time meeting the following criteria:",(0,h.jsxs)("ol",{children:[(0,h.jsxs)("li",{children:[(0,h.jsx)(r.A,{inline:!0,children:"\\(W_0 = 0\\)"}),";"]}),(0,h.jsxs)("li",{children:[(0,h.jsx)(r.A,{inline:!0,children:"\\(W_t\\)"})," is almost surely continuous;"]}),(0,h.jsxs)("li",{children:[(0,h.jsx)(r.A,{inline:!0,children:"\\(W_t\\)"})," has independent increments (i.e., if ",(0,h.jsx)(r.A,{inline:!0,children:"\\(0 \\leq a < b \\leq c < d\\)"}),", then ",(0,h.jsx)(r.A,{inline:!0,children:"\\(W_b- W_a\\)"})," and ",(0,h.jsx)(r.A,{inline:!0,children:"\\(W_d- W_c\\)"})," are independent random variables); and"]}),(0,h.jsxs)("li",{children:[(0,h.jsx)(r.A,{inline:!0,children:"\\(W_b- W_a \\sim N(0, b-a)\\)"})," for ",(0,h.jsx)(r.A,{inline:!0,children:"\\(0 \\leq a \\leq b\\)"}),"."]})]})]}),(0,h.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,h.jsx)("p",{className:"graph-text",children:"2D Brownian Motion"}),(0,h.jsx)(l.default,{})]})]}),(0,h.jsxs)("div",{id:"itos_lemma",children:[(0,h.jsx)("p",{className:"heading2",children:"Ito's Lemma"}),(0,h.jsx)("p",{children:"Although Brownian motion is continuous, it is nowhere differentiable. Thus, when we model a stochastic process using Brownian motion, we cannot rely on the normal differentiation rules. Instead, we use Ito's Lemma."}),(0,h.jsxs)("p",{children:["Suppose we know that some random, time-varying quantity of interest, ",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_t\\)"}),", evolves through time according to the stochastic differential equation",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n\t            dX_t = \\mu\\left(X_t, t\\right)dt + \\sigma\\left(X_t, t\\right)d W_t\n\t          \\]"}),"In other words, ",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_t\\)"})," depends on some certain component, ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\mu\\left(X_t, t\\right)dt \\)"}),", that changes deterministically through time (we'll call this drift) and some random component, ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\sigma\\left(X_t, t\\right)d W_t \\)"}),", that varies according to Brownian motion (we'll call this volatility)."]}),(0,h.jsxs)("p",{children:["Now, suppose we are interested in the random variable ",(0,h.jsx)(r.A,{inline:!0,children:"\\( f\\left(X_t, t\\right)\\)"}),", which is some function of ",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_t\\)"})," and time. Ito's lemma gives us that",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n\t            df\\left(X_t, t\\right) = \\left(\\frac{\\partial f}{\\partial t} + \\mu \\frac{\\partial f}{\\partial X} + \\frac{\\sigma^2}{2}\\frac{\\partial^2 f}{\\partial X^2}\\right) + \\sigma \\frac{\\partial f}{\\partial X}d W_t\n\t          \\]"})]})]}),(0,h.jsxs)("div",{id:"gbm",children:[(0,h.jsx)("p",{className:"heading2",children:"Geometric Brownian Motion"}),(0,h.jsxs)("p",{children:["To see how Ito's lemma works, let's go through the process of solving for Geometric Brownian Motion (GBM). GBM evolves according to the stochastic differential equation",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n\t            dX_t = X_t \\bar \\mu dt + X_t \\bar \\sigma d W_t\n\t          \\]"}),"where ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\bar \\mu \\)"})," and ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\bar \\sigma \\)"})," are constants."]}),(0,h.jsxs)("p",{children:["Suppose this differential equation wasn't stochastic, or we just had ",(0,h.jsx)(r.A,{inline:!0,children:"\\( d X_t = X_t (\\bar \\mu + \\bar \\sigma)dt \\)"}),". In this familiar case, we could separate ",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_t \\)"})," and ",(0,h.jsx)(r.A,{inline:!0,children:"\\( t \\)"})," to get",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n\t          \t\\begin{aligned}\n\t            \t&\\frac{d X_t}{X_t} = (\\bar \\mu + \\bar \\sigma)dt \\\\\n\t            \t\\Leftrightarrow &\\int^t_0 d \\left(\\log{(X_t)}\\right) = \\int^t_0(\\bar \\mu + \\bar \\sigma)dt \\\\\n\t            \t\\Leftrightarrow &\\log{(X_t)} - \\log{(X_0)} = (\\bar \\mu + \\bar \\sigma)t \\\\\n     \t\t\t\t\\Leftrightarrow &X_t = X_0e^{(\\bar \\mu + \\bar \\sigma)t} \n\t            \\end{aligned}\n\t          \\]"}),"Because of the stochastic component, we can't say that ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\frac{d X_t}{X_t} = d(\\log{(X_t)}) \\)"}),". Instead, we have to use Ito's Lemma to find an expression for ",(0,h.jsx)(r.A,{inline:!0,children:"\\( d(\\log{(X_t)}) \\)"}),". Let ",(0,h.jsx)(r.A,{inline:!0,children:"\\( f(X_t) = \\log{(X_t)} \\)"}),", and note that, in terms of Ito's Lemma,",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n\t             dX_t = \\overbrace{X_t \\bar \\mu}^{=\\mu(X_t,t)} dt + \\overbrace{X_t \\bar \\sigma}^{=\\sigma(X_t,t)} d W_t\n\t          \\]"}),"then we have",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n\t          \t\\begin{aligned}\n\t            \td f(X_t) &= \\left(X_t \\bar \\mu \\frac{\\partial f}{\\partial X} + \\frac{{X_t^2 \\bar \\sigma}^2}{2}\\frac{\\partial^2 f}{\\partial X^2}\\right)dt + X_t \\bar \\sigma \\frac{\\partial f}{\\partial X}dW_t \\\\\n    \t\t\t\t&= \\left(\\bar \\mu - \\frac{\\bar \\sigma^2}{2}\\right)dt + \\bar \\sigma dW_t \n\t            \\end{aligned}\n\t          \\]"}),"Now, we can integrate both sides to get",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n\t          \t\\begin{aligned}\n\t            \t&f(X_t) - f(X_0) = \\left(\\bar \\mu - \\frac{\\bar \\sigma^2}{2}\\right)t + \\bar \\sigma W_t \\\\\n    \t\t\t\t\\Leftrightarrow &\\log{\\left(X_t/X_0\\right)} = \\left(\\bar \\mu - \\frac{\\bar \\sigma^2}{2}\\right)t + \\bar \\sigma W_t \\\\\n    \t\t\t\t\\Leftrightarrow &X_t = X_0 e^{\\left(\\bar \\mu - \\frac{\\bar \\sigma^2}{2}\\right)t + \\bar \\sigma W_t}\n\t            \\end{aligned}\n\t          \\]"})]}),(0,h.jsxs)("div",{className:"graph-container",children:[(0,h.jsx)(s.default,{mu:e,sigma:n,S0:u}),(0,h.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,h.jsxs)("div",{className:"input-bars",children:[(0,h.jsxs)("label",{children:[(0,h.jsx)(r.A,{inline:!0,children:"\\( \\bar \\mu \\)"})," (Drift)"]}),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",paddingTop:"2px"},children:[(0,h.jsx)("button",{onClick:()=>t((e=>Math.max(-.5,e-.1))),children:"\u25c0"}),(0,h.jsx)("span",{style:{margin:"0 10px"},children:e.toFixed(2)}),(0,h.jsx)("button",{onClick:()=>t((e=>Math.min(.5,e+.1))),children:"\u25b6"})]})]}),(0,h.jsxs)("div",{className:"input-bars",children:[(0,h.jsxs)("label",{children:[(0,h.jsx)(r.A,{inline:!0,children:"\\( \\bar \\sigma \\)"})," (Volatility)"]}),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",paddingTop:"2px"},children:[(0,h.jsx)("button",{onClick:()=>d((e=>Math.max(0,e-.1))),children:"\u25c0"}),(0,h.jsx)("span",{style:{margin:"0 10px"},children:n.toFixed(2)}),(0,h.jsx)("button",{onClick:()=>d((e=>Math.min(1,e+.1))),children:"\u25b6"})]})]}),(0,h.jsxs)("div",{className:"input-bars",children:[(0,h.jsxs)("label",{children:[(0,h.jsx)(r.A,{inline:!0,children:"\\( X_0 \\)"})," (Initial Value)"]}),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",paddingTop:"2px"},children:[(0,h.jsx)("button",{onClick:()=>p((e=>Math.max(50,e-5))),children:"\u25c0"}),(0,h.jsx)("span",{style:{margin:"0 10px"},children:u.toFixed(0)}),(0,h.jsx)("button",{onClick:()=>p((e=>Math.min(200,e+5))),children:"\u25b6"})]})]})]})]})]}),(0,h.jsx)("p",{children:"We'll use GBM to model the price of the underlying stock in the derivation of the Black-Scholes equation. Take some time to see how varying the drift parameter, the volatility parameter, and the initial value affects the path of GBM in the above graph."})]}),(0,h.jsx)(c.A,{group:"BS"}),(0,h.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,h.jsx)(o.k2,{className:"BS-link",to:"/corporate_finance/black_scholes",children:"Contents"})})]})}},1849:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});n(5043);var a=n(4257),i=n(7971),r=(n(992),n(5475)),s=n(2638),l=n(579);const o=function(){return(0,l.jsxs)("div",{className:"BlackScholes",children:[(0,l.jsx)(s.A,{group:"BS"}),(0,l.jsx)("p",{className:"heading1",children:"The Black-Scholes Equation"}),(0,l.jsxs)(a.A,{children:[(0,l.jsxs)("div",{id:"setup",children:[(0,l.jsx)("p",{className:"heading2",children:"Setup"}),(0,l.jsxs)("p",{children:["We want to find the price of some derivative security as a function of the price of the underlying stock, ",(0,l.jsx)(i.A,{inline:!0,children:"\\(S_t\\)"}),", and time, ",(0,l.jsx)(i.A,{inline:!0,children:"\\(t\\)"}),". Let's call the derivative price ",(0,l.jsx)(i.A,{inline:!0,children:"\\(V(S_t,t)\\)"}),". Assume that the stock price follows geometric Brownian motion (GBM), and there is a risk-free bond with continuously compounding interest at a rate of ",(0,l.jsx)(i.A,{inline:!0,children:"\\(r\\)"}),". This gives us the following differential equations for the stock and bond prices:",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\begin{aligned}\n\t\t            dS_t &= S_t \\mu dt + S_t \\sigma dW_t \\quad  &\\text{(1)} \\\\\n\t\t            dB_t &= rB_tdt \\quad  &\\text{(2)} \n\t\t          \\end{aligned}\n\t\t        \\]"}),"If this way of defining the stock and bond prices looks intimidating, remember that GBM means the stock price is determined according to ",(0,l.jsx)(i.A,{inline:!0,children:"\\(S_t = S_0 e^{\\left(\\mu - \\frac{\\sigma^2}{2}\\right)t + \\sigma W_t}\\)"}),", and the bond equation can be solved as ",(0,l.jsx)(i.A,{inline:!0,children:"\\( B_t = B_0e^{rt}\\)"}),"."]})]}),(0,l.jsxs)("div",{id:"risk_free_portfolio",children:[(0,l.jsx)("p",{className:"heading2",children:"Risk-Free Portfolio"}),(0,l.jsx)("p",{children:"Our first move will be to construct a risk-free portfolio with the stock and the derivative. The idea here is that, if I purchase a given number of stock shares, I should be able to perfectly hedge my exposure to the stock price risk by shorting some number of derivative shares. In other words, I should be able to come up with a ratio of purchased stock shares to shorted derivative shares that will guarantee me a certain (risk-free) return."}),(0,l.jsxs)("p",{children:["Before we construct our risk-free portfolio, let's find an expression involving the derivative price. Note that the derivative price, ",(0,l.jsx)(i.A,{inline:!0,children:"\\(V(S_t,t)\\)"}),", is a function of a stochastic process ",(0,l.jsx)(i.A,{inline:!0,children:"\\( S_t \\)"}),". Thus, we can apply Ito's lemma to get that",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\begin{aligned}\n\t\t            d V(S_t, t) = \\left(\\frac{\\partial V}{\\partial t} + S_t \\mu \\frac{\\partial V}{\\partial S} \n\t\t            + \\frac{S_t^2 \\sigma^2}{2}\\frac{\\partial^2 V}{\\partial S^2}\\right)dt \n\t\t            + S_t \\sigma \\frac{\\partial V}{\\partial S}d W_t \\quad \\quad  \\text{(3)} \n\t\t          \\end{aligned}\n\t\t        \\]"})]}),(0,l.jsxs)("p",{children:["Now, for a given number of stock shares, we want to find out how many derivative shares we should short to guarantee us a certain return. To normalize things, let's assume we short one derivative share and purchase ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\Delta \\)"})," shares of stock. The value of our investment at time ",(0,l.jsx)(i.A,{inline:!0,children:"\\(t\\)"})," is given by",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\Pi = \\Delta S_t - V(S_t, t) \\quad \\quad  \\text{(4)} \n\t\t        \\]"}),"This value evolves according to the differential equation",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          d \\Pi = \\Delta d S_t - d V(S_t, t)\n\t\t        \\]"}),"Plugging in for ",(0,l.jsx)(i.A,{inline:!0,children:"\\( d S_t \\)"})," in equation 1 and using our expression for ",(0,l.jsx)(i.A,{inline:!0,children:"\\( d V(S_t, t) \\)"})," in equation 3, we get",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t              d \\Pi = \\left(\\Delta S_t \\mu - \\frac{\\partial V}{\\partial t} - S_t \\mu \\frac{\\partial V}{\\partial S} - \n\t\t              \\frac{S_t^2\\sigma^2}{2}\\frac{\\partial^2 V}{\\partial S^2}\\right)dt + \\left(\\Delta S_t \\sigma \n\t\t              \t- S_t \\sigma \\frac{\\partial V}{\\partial S}\\right)dW_t \\quad \\text{(5)}\n\t\t        \\]"}),"Now, we can choose ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\Delta \\)"})," to eliminate the stochastic component of the portfolio return",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\left(\\left(\\Delta S_t \\sigma - S_t \\sigma \\frac{\\partial V}{\\partial S}\\right)dW_t\\right) \\)"})," and make the return risk-free. To do this, we must have that",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\begin{aligned}\n\t\t            \\Delta S_t \\sigma = S_t \\sigma \\frac{\\partial V}{\\partial S} \\\\\n\t    \t\t\t\\Leftrightarrow \\Delta = \\frac{\\partial V}{\\partial S} \n\t    \t\t  \\end{aligned}\n\t\t        \\]"})]})]}),(0,l.jsxs)("div",{id:"no_arbitrage",children:[(0,l.jsx)("p",{className:"heading2",children:"No-Arbitrage Condition"}),(0,l.jsx)("p",{children:"Next, we apply a no-arbitrage condition. No arbitrage requires that two assets with the same payoff in all possible states of the world have the same price. An arbitrage opportunity arises when there are two differently priced assets with the same future payoff. Such an opportunity would allow for a risk-free future payoff by simply shorting the overpriced asset and purchasing the underpriced asset. Under no arbitrage, we assume such opportunities do not exist."}),(0,l.jsxs)("p",{children:["Since the portfolio we just constructed is risk-free, no arbitrage requires that its value matches the price of the risk-free asset at every point in time. Thus, using equation 2, we have that",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          d\\Pi = r\\Pi dt\n\t\t        \\]"}),"Plugging in equation 5 for ",(0,l.jsx)(i.A,{inline:!0,children:"\\( d \\Pi \\)"})," and equation 4 for ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\Pi \\)"})," gives us",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\left(\\Delta S_t \\mu - \\frac{\\partial V}{\\partial t} - S_t \\mu \\frac{\\partial V}{\\partial S} - \\frac{S_t^2\\sigma^2}{2}\\frac{\\partial^2 V}{\\partial S^2}\\right)dt\n\t\t           + \\left(\\Delta S_t \\sigma - S_t \\sigma \\frac{\\partial V}{\\partial S}\\right)dW_t  = r\\left(\\Delta S_t - V\\right)dt\n\t\t        \\]"}),"We can also plug in ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\Delta = \\frac{\\partial V}{\\partial S} \\)"}),(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t        \t\\begin{aligned}\n\t\t \t\t\t\t\\left(S_t \\mu \\frac{\\partial V}{\\partial S} - \\frac{\\partial V}{\\partial t} - S_t \\mu \\frac{\\partial V}{\\partial S} - \\frac{S_t^2\\sigma^2}{2}\\frac{\\partial^2 V}{\\partial S^2}\\right)dt  \n\t\t \t\t\t\t&=  \\left(rS_t \\frac{\\partial V}{\\partial S} - rV\\right)dt \\\\\n\t    \t\t\t\t\\frac{\\partial V}{\\partial t} + \\frac{S_t^2\\sigma^2}{2}\\frac{\\partial^2 V}{\\partial S^2} + rS_t \\frac{\\partial V}{\\partial S} - rV &= 0 \n\t\t            \\end{aligned}\n\t\t        \\]"}),"This is the famous Black-Scholes equation. Notice that we do not have an explicit formula for the derivative price ",(0,l.jsx)(i.A,{inline:!0,children:"\\( V \\)"}),", but a partial differential equation (PDE) relating the derivative price to the underlying stock price, the volatility of the underlying stock price, the risk-free rate, and time."]}),(0,l.jsx)("p",{children:"In the next section, we'll transform this complicated PDE into a PDE for which there is a known solution."})]})]}),(0,l.jsx)(s.A,{group:"BS"}),(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,l.jsx)(r.k2,{className:"BS-link",to:"/corporate_finance/black_scholes",children:"Contents"})})]})}},860:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});n(5043);var a=n(4257),i=n(7971),r=(n(992),n(5475)),s=n(2638),l=n(579);const o=function(){return(0,l.jsxs)("div",{className:"BlackScholes",children:[(0,l.jsx)(s.A,{group:"BS"}),(0,l.jsx)("p",{className:"heading1",children:"Black-Scholes Transformation"}),(0,l.jsxs)(a.A,{children:[(0,l.jsxs)("div",{id:"Overview",children:[(0,l.jsx)("p",{className:"heading2",children:"Overview"}),(0,l.jsxs)("p",{children:["So far, we've derived the Black-Scholes equation as",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t    \t\t\t\t\\frac{\\partial V}{\\partial t} + \\frac{S_t^2\\sigma^2}{2}\\frac{\\partial^2 V}{\\partial S^2} + rS_t \\frac{\\partial V}{\\partial S} - rV = 0 \n\t    \t\t\t\t\\quad \\quad \\quad  \\text{(1)}\n\t\t\t        \\]"}),"but we still don't have a closed-form solution for the derivative price, ",(0,l.jsx)(i.A,{inline:!0,children:"\\( V(S_t, t) \\)"}),". To proceed further, we need to turn equation 1 into a PDE that we know how to solve. Thus, our next goal is to make equation 1 look like the heat equation, which has a known solution. Recall that for some positive constant ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\alpha \\)"}),", the one-dimensional heat equation is given by",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\frac{\\partial u}{\\partial t} = \\alpha \\frac{\\partial^2 u}{\\partial x^2} \\quad \\quad \\quad \\text{(2)}\n\t\t\t        \\]"})]}),(0,l.jsxs)("p",{children:["The plan of attack is to come up with a change of variables for ",(0,l.jsx)(i.A,{inline:!0,children:"\\( S_t \\)"}),", ",(0,l.jsx)(i.A,{inline:!0,children:"\\( t \\)"}),", and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( V(S_t, t) \\)"})," that will",(0,l.jsxs)("ol",{children:[(0,l.jsxs)("li",{children:["Get rid of the extra ",(0,l.jsx)(i.A,{inline:!0,children:"\\( S_t \\)"}),"'s on the ",(0,l.jsx)(i.A,{inline:!0,children:"\\( rS_t \\frac{\\partial V}{\\partial S} \\)"})," and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{S_t^2\\sigma^2}{2}\\frac{\\partial^2 V}{\\partial S^2} \\)"})," terms;"]}),(0,l.jsxs)("li",{children:["Put a negative sign on the ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial V}{\\partial t} \\)"})," term; and"]}),(0,l.jsx)("li",{children:"Get rid of the extra terms."})]})]})]}),(0,l.jsxs)("div",{id:"cov_stock",children:[(0,l.jsx)("p",{className:"heading2",children:"Change of Variables - Stock Price"}),(0,l.jsxs)("p",{children:["First, let's get rid of the extra ",(0,l.jsx)(i.A,{inline:!0,children:"\\( S_t \\)"}),"'s on the ",(0,l.jsx)(i.A,{inline:!0,children:"\\( rS_t \\frac{\\partial V}{\\partial S} \\)"})," and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{S_t^2\\sigma^2}{2}\\frac{\\partial^2 V}{\\partial S^2} \\)"})," terms in equation 1. We'll do this by defining a new variable ",(0,l.jsx)(i.A,{inline:!0,children:"\\( x(S) \\)"})," that is some function of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( S \\)"}),". We want to find an ",(0,l.jsx)(i.A,{inline:!0,children:"\\( x \\)"})," such that",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\begin{aligned}\n\t\t          S_t\\frac{\\partial V}{\\partial S} &= \\frac{\\partial V}{\\partial x(S)} \\\\\n\t\t    \t\t\\Leftrightarrow x(S) &= \\log{S}\n\t\t    \t  \\end{aligned}\n\t\t        \\]"})]}),(0,l.jsxs)("p",{children:["This takes care of the ",(0,l.jsx)(i.A,{inline:!0,children:"\\( S_t \\)"})," on the ",(0,l.jsx)(i.A,{inline:!0,children:"\\( rS_t \\frac{\\partial V}{\\partial S} \\)"})," term. We also need ",(0,l.jsx)(i.A,{inline:!0,children:"\\( x \\)"})," to get rid of the ",(0,l.jsx)(i.A,{inline:!0,children:"\\( S_t^2 \\)"})," on the ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{S_t^2\\sigma^2}{2}\\frac{\\partial^2 V}{\\partial S^2} \\)"})," term. Let's take another derivative and see what we get",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\begin{aligned}\n\t\t          \tS_t^2\\frac{\\partial^2 V}{\\partial S^2} &= S_t^2\\frac{\\partial}{\\partial S}\\left(\\frac{1}{S_t}\\frac{\\partial V}{\\partial x}\\right) \\\\\n\t\t    \t\t&= S_t^2\\left(\\frac{-1}{S_t^2}\\frac{\\partial V}{\\partial x} + \\frac{1}{S_t^2}\\frac{\\partial^2 V}{\\partial x^2}\\right) \\\\\n\t\t    \t\t&= \\frac{\\partial^2 V}{\\partial x^2} - \\frac{\\partial V}{\\partial x}\n\t\t    \t  \\end{aligned}\n\t\t        \\]"}),"The ",(0,l.jsx)(i.A,{inline:!0,children:"\\( S_t^2 \\)"}),"  term is gone! Now, we can rewrite equation 1 as",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\begin{aligned}\n\t\t          \t\\frac{\\partial V}{\\partial t} + \\frac{\\sigma^2}{2}\\left(\\frac{\\partial^2 V}{\\partial x^2} - \\frac{\\partial V}{\\partial x}\\right) + r \\frac{\\partial V}{\\partial x} - rV &= 0 \\\\\n\t\t    \t\t\\frac{\\partial V}{\\partial t} + \\frac{\\sigma^2}{2}\\frac{\\partial^2 V}{\\partial x^2}\n\t\t    \t\t+ \\frac{\\partial V}{\\partial x}\\left(r - \\frac{\\sigma^2}{2}\\right) - rV &= 0\n\t\t    \t  \\end{aligned}\n\t\t        \\]"})]})]}),(0,l.jsxs)("div",{id:"cov_v",children:[(0,l.jsx)("p",{className:"heading2",children:"Change of Variables - Time and Derivative Price"}),(0,l.jsxs)("p",{children:["After substituting in ",(0,l.jsx)(i.A,{inline:!0,children:"\\( x\\)"})," for ",(0,l.jsx)(i.A,{inline:!0,children:"\\( S_t\\)"}),", our equation looks closer to equation 2, but we still have some extra terms. We also have another problem. Even if we got rid of the ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial V}{\\partial x}\\left(r - \\frac{\\sigma^2}{2}\\right) \\)"})," and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( rV \\)"})," terms, we'd have ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial V}{\\partial t} = -\\frac{\\sigma^2}{2}\\frac{\\partial^2 V}{\\partial x^2} \\)"}),", which would imply ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\alpha = -\\frac{\\sigma^2}{2} < 0 \\)"}),". Because the heat equation has a positive ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\alpha \\)"}),", this means that we also need to put a negative sign on either ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial V}{\\partial t} \\)"}),"or ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial^2 V}{\\partial x^2} \\)"}),". To fix the negative ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\alpha \\)"})," problem, let's reverse our time variable by substituting in ",(0,l.jsx)(i.A,{inline:!0,children:"\\( t=T-\\tau \\)"}),". This gives us",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          -\\frac{\\partial V}{\\partial \\tau} + \\frac{\\sigma^2}{2}\\frac{\\partial^2 V}{\\partial x^2}\n\t\t    \t\t\t+ \\frac{\\partial V}{\\partial x}\\left(r - \\frac{\\sigma^2}{2}\\right) - rV = 0 \n\t\t\t        \\]"})]}),(0,l.jsxs)("p",{children:["Now, to get rid of the extra terms, let's rewrite ",(0,l.jsx)(i.A,{inline:!0,children:"\\( V \\)"})," as",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t\t          V(S_t, t) = f(x, \\tau)u(x, \\tau)\n\t\t\t\t        \\]"}),"What we want to do here is find some functional form for ",(0,l.jsx)(i.A,{inline:!0,children:"\\( f(x, \\tau) \\)"})," that will get rid of the extra terms in our equation. We'll leave the other function, ",(0,l.jsx)(i.A,{inline:!0,children:"\\( u(x, \\tau) \\)"}),", in general terms. With this new way of writing ",(0,l.jsx)(i.A,{inline:!0,children:"\\( V \\)"}),", we have",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\begin{aligned}\n\t\t\t          \t\\frac{\\partial V}{\\partial \\tau} &=  f\\frac{\\partial u}{\\partial \\tau} + u\\frac{\\partial f}{\\partial \\tau} \\\\ \n\t\t\t    \t\t\\frac{\\partial V}{\\partial x} &= f\\frac{\\partial u}{\\partial x} + u\\frac{\\partial f}{\\partial x} \\\\\n\t\t\t    \t\t\\frac{\\partial^2 V}{\\partial x^2} &= f\\frac{\\partial^2 u}{\\partial x^2} + 2\\frac{\\partial u}{\\partial x}\\frac{\\partial f}{\\partial x} + u\\frac{\\partial^2 f}{\\partial x^2}\n\t\t\t    \t  \\end{aligned}\n\t\t\t        \\]"}),"Plugging everything in gives us",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          -\\left(f\\frac{\\partial u}{\\partial \\tau} + u\\frac{\\partial f}{\\partial \\tau}\\right) + \\frac{\\sigma^2}{2}\\left(f\\frac{\\partial^2 u}{\\partial x^2} \n\t\t\t          + 2\\frac{\\partial u}{\\partial x}\\frac{\\partial f}{\\partial x} + u\\frac{\\partial^2 f}{\\partial x^2}\\right)\n\t\t\t    \t\t+ \\left(f\\frac{\\partial u}{\\partial x} + u\\frac{\\partial f}{\\partial x}\\right)\\left(r - \\frac{\\sigma^2}{2}\\right) - rV = 0\n\t\t\t        \\]"}),"This looks worse than what we had before, but remember our goal is to find an ",(0,l.jsx)(i.A,{inline:!0,children:"\\( f \\)"})," that will make a lot of things cancel. Let's group things together and see if we can find some attributes that we want ",(0,l.jsx)(i.A,{inline:!0,children:"\\( f \\)"})," to have. First, we'll group together the terms that we want to stay in our final equation: ",(0,l.jsx)(i.A,{inline:!0,children:"\\( -\\frac{\\partial u}{\\partial \\tau} \\)"})," and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\sigma^2}{2}\\frac{\\partial^2 u}{\\partial x^2} \\)"}),". Note that both of these terms currently has an extra ",(0,l.jsx)(i.A,{inline:!0,children:"\\( f \\)"}),". Let's get rid of that by dividing everything by ",(0,l.jsx)(i.A,{inline:!0,children:"\\( f \\)"}),". Next, let's make groups based on the two remaining ",(0,l.jsx)(i.A,{inline:!0,children:"\\( u \\)"}),"  functions: ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial u}{\\partial x} \\)"})," and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( u \\)"})," . The idea here is that, since we're keeping ",(0,l.jsx)(i.A,{inline:!0,children:"\\( u \\)"})," general, we can't say anything about how a term with ",(0,l.jsx)(i.A,{inline:!0,children:"\\( u \\)"})," and a term with ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial u}{\\partial x} \\)"})," might interact. But, given that two terms both have ",(0,l.jsx)(i.A,{inline:!0,children:"\\( u \\)"}),"  or both have ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial u}{\\partial x} \\)"}),", we can find some functional form for ",(0,l.jsx)(i.A,{inline:!0,children:"\\( f \\)"}),"  that will make the terms cancel. Applying this grouping gives us",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t        \t\\begin{aligned}\n\t\t\t          \\left(\\frac{-\\partial u}{\\partial \\tau} + \\frac{\\sigma^2}{2}\\frac{\\partial^2 u}{\\partial x^2}\\right)\n\t\t\t    \t\t+ \\frac{\\partial u}{\\partial x}\\left(\\underbrace{\\frac{\\sigma^2}{f}\\frac{\\partial f}{\\partial x} + r - \\frac{\\sigma^2}{2}}_{(i)}\\right) \n\t\t\t    \t\t+ u\\left(\\underbrace{\\frac{\\sigma^2}{2f}\\frac{\\partial^2 f}{\\partial x^2} \n\t\t\t    \t\t+ \\left(r - \\frac{\\sigma^2}{2}\\right)\\frac{1}{f}\\frac{\\partial f}{\\partial x} - \\frac{\\partial f}{\\partial \\tau}\\frac{1}{f} - r}_{(ii)}\\right) = 0 \\quad \\text{(3)}\n\t\t\t       \t\\end{aligned}\n\t\t\t        \\]"}),"We want to find some functional form for ",(0,l.jsx)(i.A,{inline:!0,children:"\\( f \\)"})," that will make ",(0,l.jsx)(i.A,{inline:!0,children:"\\( (i) \\)"})," and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( (ii) \\)"})," equal to zero. Let's focus on ",(0,l.jsx)(i.A,{inline:!0,children:"\\( (i) \\)"})," first.",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\begin{aligned}\n\t\t\t          \t&\\frac{\\sigma^2}{f}\\frac{\\partial f}{\\partial x} + r - \\frac{\\sigma^2}{2} = 0\\\\\n\t\t\t    \t\t\\Leftrightarrow &\\frac{\\partial f/\\partial x}{f} = \\frac{1}{2} - \\frac{r}{\\sigma^2} \\\\\n\t\t\t    \t\t\\Leftrightarrow & f(x, \\tau) = e^{\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)x + C_x}\n\t\t\t    \t  \\end{aligned}\n\t\t\t        \\]"}),"Here, ",(0,l.jsx)(i.A,{inline:!0,children:"\\( C_x \\)"})," denotes some term that is constant with respect to ",(0,l.jsx)(i.A,{inline:!0,children:"\\( x \\)"}),". In other words ",(0,l.jsx)(i.A,{inline:!0,children:"\\( C_x \\)"})," may be some function of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\tau \\)"})," but can't include ",(0,l.jsx)(i.A,{inline:!0,children:"\\( x \\)"}),". This tells us what the part of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( f \\)"})," as a function of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( x \\)"})," should look like, but we still don't know what the ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\tau \\)"})," part of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( f \\)"})," should look like. Given what we have so far for ",(0,l.jsx)(i.A,{inline:!0,children:"\\( f \\)"}),", our ",(0,l.jsx)(i.A,{inline:!0,children:"\\( x \\)"})," derivatives should look like",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\begin{aligned}\n\t\t\t          \t\\frac{\\partial f}{\\partial x} = f\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right) \\\\\n\t\t\t    \t\t\\frac{\\partial^2 f}{\\partial x^2} = f\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)^2\n\t\t\t    \t  \\end{aligned}\n\t\t\t        \\]"}),"Let's use these expressions in ",(0,l.jsx)(i.A,{inline:!0,children:"\\( (ii) \\)"})," and set everything equal to zero.",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\begin{aligned}\n\t\t\t          \t&\\frac{\\sigma^2}{2}\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)^2 \n\t\t\t          \t+ \\left(r - \\frac{\\sigma^2}{2}\\right)\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right) - \\frac{\\partial f}{\\partial \\tau}\\frac{1}{f} - r = 0 \\\\\n\t\t\t    \t\t\\Leftrightarrow &\\frac{\\partial f/\\partial \\tau}{f} = -\\frac{\\sigma^2}{2}\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)^2 - r \\\\\n\t\t\t    \t\t\\Leftrightarrow &f(x, \\tau) = e^{-\\left(\\frac{\\sigma^2}{2}\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)^2 + r\\right)\\tau + C_{\\tau}}\n\t\t\t    \t  \\end{aligned}\n\t\t\t        \\]"}),"Here, as before, ",(0,l.jsx)(i.A,{inline:!0,children:"\\( C_{\\tau} \\)"})," denotes a constant with respect to ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\tau \\)"}),". Putting both expressions for ",(0,l.jsx)(i.A,{inline:!0,children:"\\( f \\)"})," together (i.e., letting ",(0,l.jsx)(i.A,{inline:!0,children:"\\( C_x = -\\left(\\frac{\\sigma^2}{2}\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)^2 + r\\right)\\tau \\)"})," and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( C_{\\tau} = \\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)x \\)"}),"), we get",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          f(x, \\tau) = e^{\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)x -\\left(\\frac{\\sigma^2}{2}\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)^2 + r\\right)\\tau}\n\t\t\t        \\]"}),"By construction, plugging in this expression for ",(0,l.jsx)(i.A,{inline:!0,children:"\\( f \\)"})," into our equation 3 will leave us with only the first grouping, or",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\frac{\\partial u}{\\partial \\tau} = \\frac{\\sigma^2}{2}\\frac{\\partial^2 u}{\\partial x^2}\n\t\t\t        \\]"}),"Now, if we let ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\alpha = \\frac{\\sigma^2}{2} \\)"}),", we have the heat equation!"]})]})]}),(0,l.jsx)(s.A,{group:"BS"}),(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,l.jsx)(r.k2,{className:"BS-link",to:"/corporate_finance/black_scholes",children:"Contents"})})]})}},2499:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});n(5043);var a=n(4257),i=n(7971),r=(n(992),n(5475)),s=n(2638),l=n(2189),o=n(579);const c=function(){return(0,o.jsxs)("div",{className:"BlackScholes",children:[(0,o.jsx)(s.A,{group:"BS"}),(0,o.jsx)("p",{className:"heading1",children:"Pricing a European Call Option"}),(0,o.jsxs)(a.A,{children:[(0,o.jsxs)("div",{id:"overview",children:[(0,o.jsx)("p",{className:"heading2",children:"Overview"}),(0,o.jsxs)("p",{children:["In the last section, we took the Black-Scholes equation and transformed it into the one-dimensional heat equation",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\frac{\\partial u}{\\partial \\tau} = \\alpha \\frac{\\partial^2 u}{\\partial x^2}\n\t\t        \\]"}),"where",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\begin{aligned}\n\t\t\t          \\alpha &= \\frac{\\sigma^2}{2}  \\\\\n\t\t\t          x &= \\log{(S_t)} \\\\\n\t\t\t          \\tau &= T- t \\\\\n\t\t\t          u(x, \\tau) &= \\frac{V(S_t, t)}{f(x, \\tau)} \\\\\n\t\t\t          f(x, \\tau) &= e^{\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)x -\\left(\\frac{\\sigma^2}{2}\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)^2 + r\\right)\\tau}\n\t\t    \t  \\end{aligned}\n\t\t        \\]"}),"This is helpful because now we can use the following solution to the heat equation to solve for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( u(x,\\tau) \\)"}),":",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \tu(x, \\tau) = \\frac{1}{\\sqrt{4\\pi \\alpha \\tau}}\\int^{\\infty}_{-\\infty} u(z, 0)e^{-\\frac{(z-x)^2}{4 \\alpha \\tau}}dz \\quad \\quad \\text{(1)}\n\t\t        \\]"}),"For now, we'll skip the specifics on how we came up with this solution to the heat equation, but you can go over the derivation in the lesson about ",(0,o.jsx)(r.k2,{className:"inline-link",to:"/fourier/heat_equation",children:"Fourier transforms"}),". Note that this solution depends on an initial condition, ",(0,o.jsx)(i.A,{inline:!0,children:"\\( u(z,0) \\)"}),". In our setting, different initial conditions correspond to different types of derivative securities. Thus, before we continue, we need to pick a type of derivative to price. One of the simplest choices is the European call option, which gives the holder the right (but not the obligation) to purchase a specified number of shares of the underlying stock at date ",(0,o.jsx)(i.A,{inline:!0,children:"\\( T \\)"}),' (the "expiration date") for the price of ',(0,o.jsx)(i.A,{inline:!0,children:"\\( K \\)"}),' per share (the "strike price"). We\'ll assume the call option is for a single share of the underlying stock. Then, on the expiration date (',(0,o.jsx)(i.A,{inline:!0,children:"\\( t=T \\)"}),"), the option is worth ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\text{max}\\{0, S - K\\} \\)"}),"."]}),(0,o.jsxs)("p",{children:["To solve for the price of a European call option, we'll first find an initial condition in terms of our transformed variables. Then, we'll plug this initial condition into equation 1 and solve for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( u \\)"}),". Finally, we'll transform ",(0,o.jsx)(i.A,{inline:!0,children:"\\( u \\)"})," back into ",(0,o.jsx)(i.A,{inline:!0,children:"\\( V \\)"}),"."]})]}),(0,o.jsxs)("div",{id:"inital_condition",children:[(0,o.jsx)("p",{className:"heading2",children:"Initial Condition"}),(0,o.jsxs)("p",{children:["Because the value of a call option at time ",(0,o.jsx)(i.A,{inline:!0,children:"\\( t=T \\)"})," is ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\text{max}\\{0, S - K\\} \\)"}),", we have the following initial condition:",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          V(S, T) = \\text{max}\\{0, S - K\\}\n\t\t        \\]"}),"Given that ",(0,o.jsx)(i.A,{inline:!0,children:"\\( V(S,T) = f(x, 0)u(x,0) \\)"})," and ",(0,o.jsx)(i.A,{inline:!0,children:"\\( S = e^x \\)"}),", we can rewrite this initial condition in terms of our new variables",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\begin{aligned}\n\t\t          \t&f(x, 0)u(x,0) = \\text{max}\\{0, e^x - K\\} \\\\\n\t\t    \t\t\\Leftrightarrow & u(x,0) = e^{-\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)x}\\text{max}\\{0, e^x - K\\}\n\t\t    \t  \\end{aligned}\n\t\t        \\]"})]})]}),(0,o.jsxs)("div",{id:"transformed_solution",children:[(0,o.jsx)("p",{className:"heading2",children:"Transformed Solution"}),(0,o.jsxs)("p",{children:["If we plug in ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\alpha = \\frac{\\sigma^2}{2} \\)"})," and our initial condition ",(0,o.jsx)(i.A,{inline:!0,children:"\\( u(z,0) = e^{-\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)z}\\text{max}\\{0, e^z - K\\} \\)"})," to equation 1, we get",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \tu(x, \\tau) = \\frac{1}{\\sqrt{2\\pi \\sigma^2 \\tau}}\\int^{\\infty}_{-\\infty} e^{-\\left(\\frac{1}{2} \n\t\t          \t- \\frac{r}{\\sigma^2}\\right)z}\\text{max}\\{0, e^z - K\\}e^{-\\frac{(z-x)^2}{2 \\sigma^2 \\tau}}dz\n\t\t        \\]"}),"We can get rid of the max function by changing our integration bounds. Note that ",(0,o.jsx)(i.A,{inline:!0,children:"\\( e^z - K\\)"})," is greater than 0 as long as ",(0,o.jsx)(i.A,{inline:!0,children:"\\( z > \\log{K} \\)"}),". Then our problem becomes",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \tu(x, \\tau) = \\frac{1}{\\sqrt{2\\pi \\sigma^2 \\tau}}\\left(\\int^{\\infty}_{\\log{K}} \n\t\t          \t\\overbrace{e^{\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right)z -\\frac{(z-x)^2}{2 \\sigma^2 \\tau}}}^{(a)}dz - K \\int^{\\infty}_{\\log{K}} \n\t\t          \t\\overbrace{e^{-\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)z -\\frac{(z-x)^2}{2 \\sigma^2 \\tau}}}^{(b)}dz\\right)\n\t\t        \\]"})]}),(0,o.jsxs)("p",{children:["Recall that the cumulative distribution function (cdf) of the standard normal distribution is given by",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \t\\Phi(w) = \\int^w_{-\\infty} \\frac{e^{-\\frac{z^2}{2}}}{\\sqrt{2\\pi}}dz\n\t\t        \\]"}),"To simplify things further, let's try to write the two integrals in our equation above in terms of the standard normal cdf. For ",(0,o.jsx)(i.A,{inline:!0,children:"\\( (a) \\)"})," and ",(0,o.jsx)(i.A,{inline:!0,children:"\\( (b) \\)"})," we'll (1) complete the square with ",(0,o.jsx)(i.A,{inline:!0,children:"\\( z \\)"}),"  and (2) find a change of variables to make the new expression look like ",(0,o.jsx)(i.A,{inline:!0,children:"\\( e^{-\\frac{z^2}{2}} \\)"}),". Let's start with ",(0,o.jsx)(i.A,{inline:!0,children:"\\( (a) \\)"}),". We can rewrite the exponent in ",(0,o.jsx)(i.A,{inline:!0,children:"\\( (a) \\)"})," as",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\begin{aligned}\n\t\t    \t\t\t&\\frac{-1}{2\\sigma^2 \\tau}\\left[z^2 - 2z\\left(x + \\sigma^2 \\tau\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right)\\right)\\right] - \\frac{x^2}{2\\sigma^2 \\tau} \\\\\n\t\t    \t\t\t&= \\frac{-1}{2\\sigma^2 \\tau}\\left[z^2 - 2z\\left(x + \\sigma^2 \\tau\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right)\\right) + \\left(x + \\sigma^2 \\tau\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right)\\right)^2\\right] \n\t\t    \t\t\t- \\frac{x^2}{2\\sigma^2 \\tau} + \\frac{\\left(x + \\sigma^2 \\tau\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right)\\right)^2}{2\\sigma^2 \\tau} \\\\\n\t\t    \t\t\t&= -\\frac{\\left(z - \\left(x + \\sigma^2 \\tau\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right)\\right)\\right)^2}{2\\sigma^2\\tau} + \\frac{2x\\sigma^2\\tau\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right) + \\sigma^4\\tau^2\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right)^2}{2\\sigma^2\\tau} \\\\\n\t\t    \t\t\t&= \\underbrace{-\\frac{\\left(z - \\left(x + \\sigma^2 \\tau\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right)\\right)\\right)^2}{2\\sigma^2\\tau}}_{(a_1)} + \\underbrace{x\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right) + \\frac{\\sigma^2\\tau}{2}\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right)^2}_{(a_2)}\n\t\t    \t  \\end{aligned}\n\t\t        \\]"}),"Now, we have an expression with ",(0,o.jsx)(i.A,{inline:!0,children:"\\( z \\)"})," in it, ",(0,o.jsx)(i.A,{inline:!0,children:"\\( (a_1) \\)"}),", and an expression without ",(0,o.jsx)(i.A,{inline:!0,children:"\\( z \\)"}),", ",(0,o.jsx)(i.A,{inline:!0,children:"\\( (a_2) \\)"}),". Since ",(0,o.jsx)(i.A,{inline:!0,children:"\\( (a_2) \\)"})," doesn't have ",(0,o.jsx)(i.A,{inline:!0,children:"\\( z \\)"})," in it, we can take it out of the integral. Let's do a change of variables with ",(0,o.jsx)(i.A,{inline:!0,children:"\\( (a_1) \\)"})," to make this into a standard normal cdf. We're looking for a new integration variable, ",(0,o.jsx)(i.A,{inline:!0,children:"\\( a \\)"}),", that satisfies",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\begin{aligned}\n\t\t          \t&\\frac{-a^2}{2} = \\frac{-\\left(z - \\left(x + \\sigma^2 \\tau\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right)\\right)\\right)^2}{2\\sigma^2\\tau} \\\\\n\t\t    \t\t\\Leftrightarrow & z = a \\sigma\\sqrt{\\tau} + x + \\left(\\frac{\\sigma^2}{2} + r\\right)\\tau \\\\\n\t\t    \t\t\\Leftrightarrow & a = \\frac{z - x - \\left(\\frac{\\sigma^2}{2} +r\\right)\\tau}{\\sigma \\sqrt{\\tau}}\n\t\t    \t  \\end{aligned}\n\t\t        \\]"}),"We'll also need to substitute in ",(0,o.jsx)(i.A,{inline:!0,children:"\\( dz = \\sigma\\sqrt{\\tau}da \\)"})," and change the lower integration bound to ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\log{K} - x - \\left(\\frac{\\sigma^2}{2} +r\\right)\\tau}{\\sigma \\sqrt{\\tau}} \\)"}),". Putting all this together, the first integral becomes",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\begin{aligned}\n\t\t              &e^{x\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right) + \\frac{\\sigma^2\\tau}{2}\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right)^2} \n\t\t              \\int^{\\infty}_{\\frac{\\log{K} - x - \\left(\\frac{\\sigma^2}{2} +r\\right)\\tau}{\\sigma \\sqrt{\\tau}}} \\frac{e^{\\frac{-a^2}{2}}}{\\sqrt{2\\pi}}da \\\\\n\t\t    \t\t  &= e^{x\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right) + \\frac{\\sigma^2\\tau}{2}\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right)^2} \n\t\t    \t\t  \\left(1 - \\Phi\\left(\\frac{\\log{K} - x - \\left(\\frac{\\sigma^2}{2} +r\\right)\\tau}{\\sigma \\sqrt{\\tau}}\\right)\\right)\n\t\t    \t  \\end{aligned}\n\t\t        \\]"}),"Because the standard normal cdf is symmetric about the origin, ",(0,o.jsx)(i.A,{inline:!0,children:"\\( 1 - \\Phi(w) = \\Phi(-w) \\)"}),". This means we can simplify this expression further to",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \te^{x\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right) + \\frac{\\sigma^2\\tau}{2}\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right)^2}  \n\t\t          \t\\Phi\\left(\\frac{x - \\log{K} + \\left(r + \\frac{\\sigma^2}{2} \\right)\\tau}{\\sigma \\sqrt{\\tau}}\\right)\n\t\t        \\]"})]}),(0,o.jsxs)("p",{children:["Now, let's do the same process for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( (b) \\)"}),". We can rewrite the exponent in ",(0,o.jsx)(i.A,{inline:!0,children:"\\( (b) \\)"})," as",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\begin{aligned}\n\t\t                &\\frac{-1}{2\\sigma^2 \\tau}\\left[z^2 - 2z\\left(x - \\sigma^2 \\tau\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)\\right)\\right] - \\frac{x^2}{2\\sigma^2 \\tau} \\\\\n\t\t    \t\t\t&= \\frac{-1}{2\\sigma^2 \\tau}\\left[z^2 - 2z\\left(x - \\sigma^2 \\tau\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)\\right) + \\left(x - \\sigma^2 \\tau\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)\\right)^2\\right] - \\frac{x^2}{2\\sigma^2 \\tau} + \\frac{\\left(x - \\sigma^2 \\tau\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)\\right)^2}{2\\sigma^2 \\tau} \\\\\n\t\t    \t\t\t&= -\\frac{\\left(z - \\left(x - \\sigma^2 \\tau\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)\\right)\\right)^2}{2\\sigma^2\\tau} + \\frac{\\sigma^4\\tau^2\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)^2 -2x\\sigma^2\\tau\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)}{2\\sigma^2\\tau} \\\\\n\t\t    \t\t\t&= \\underbrace{-\\frac{\\left(z - \\left(x - \\sigma^2 \\tau\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)\\right)\\right)^2}{2\\sigma^2\\tau}}_{(b_1)} + \\underbrace{ \\frac{\\sigma^2\\tau}{2}\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)^2 - x\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)}_{(b_2)}\n\t\t    \t  \\end{aligned}\n\t\t        \\]"}),"Here, we can take ",(0,o.jsx)(i.A,{inline:!0,children:"\\( (b_2) \\)"})," out of the integral and find a new integration variable, ",(0,o.jsx)(i.A,{inline:!0,children:"\\( b \\)"}),", for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( (b_1) \\)"})," that satisfies",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\begin{aligned}\n\t\t          \t&\\frac{-b^2}{2} = \\frac{-\\left(z - \\left(x - \\sigma^2 \\tau\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)\\right)\\right)^2}{2\\sigma^2\\tau} \\\\\n\t\t    \t\t\\Leftrightarrow & z = b \\sigma\\sqrt{\\tau} + x + \\left(r- \\frac{\\sigma^2}{2}\\right)\\tau \\\\\n\t\t    \t\t\\Leftrightarrow & b = \\frac{z - x - \\left(r- \\frac{\\sigma^2}{2}\\right)\\tau}{\\sigma \\sqrt{\\tau}}\n\t\t    \t  \\end{aligned}\n\t\t        \\]"}),"We'll also need to substitute in ",(0,o.jsx)(i.A,{inline:!0,children:"\\( dz = \\sigma\\sqrt{\\tau}db \\)"})," and change the lower integration bound to ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\log{K} - x - \\left(r - \\frac{\\sigma^2}{2}\\right)\\tau}{\\sigma \\sqrt{\\tau}} \\)"}),". Putting all this together, the second integral becomes",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\begin{aligned}\n\t\t          \t&-Ke^{- x\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right) + \\frac{\\sigma^2\\tau}{2}\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)^2} \n\t\t          \t\\int^{\\infty}_{\\frac{\\log{K} - x - \\left(r - \\frac{\\sigma^2}{2}\\right)\\tau}{\\sigma \\sqrt{\\tau}}} \\frac{e^{\\frac{-b^2}{2}}}{\\sqrt{2\\pi}}db \\\\\n\t\t    \t\t&= -Ke^{- x\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right) + \\frac{\\sigma^2\\tau}{2}\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)^2}  \n\t\t    \t\t\\left(1 - \\Phi\\left(\\frac{\\log{K} - x - \\left(r - \\frac{\\sigma^2}{2}\\right)\\tau}{\\sigma \\sqrt{\\tau}}\\right)\\right) \\\\\n\t\t    \t\t&= -Ke^{- x\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right) + \\frac{\\sigma^2\\tau}{2}\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)^2}  \n\t\t    \t\t\\Phi\\left(\\frac{x- \\log{K} + \\left(r - \\frac{\\sigma^2}{2}\\right)\\tau}{\\sigma \\sqrt{\\tau}}\\right)\n\t\t    \t  \\end{aligned}\n\t\t        \\]"})]}),(0,o.jsxs)("p",{children:["Returning to our equation for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( u \\)"}),", we now have",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\begin{aligned}\n\t\t              u(x, \\tau) = &e^{x\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right) + \\frac{\\sigma^2\\tau}{2}\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right)^2}  \n\t\t              \t\\Phi\\left(\\frac{x - \\log{K} + \\left(r+ \\frac{\\sigma^2}{2}\\right)\\tau}{\\sigma \\sqrt{\\tau}}\\right)\n\t\t              \t \\\\ -K&e^{- x\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right) + \\frac{\\sigma^2\\tau}{2}\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)^2}  \n\t\t              \t \\Phi\\left(\\frac{x- \\log{K} + \\left(r - \\frac{\\sigma^2}{2}\\right)\\tau}{\\sigma \\sqrt{\\tau}}\\right) \\quad \\text{(2)}\n\t\t    \t  \\end{aligned}\n\t\t        \\]"})]})]}),(0,o.jsxs)("div",{id:"pricing",children:[(0,o.jsx)("p",{className:"heading2",children:"Pricing Equation"}),(0,o.jsxs)("p",{children:["Now that we have a solution for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( u \\)"}),", we just need to multiply both sides by ",(0,o.jsx)(i.A,{inline:!0,children:"\\( f(x,\\tau) = e^{\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)x -\\left(\\frac{\\sigma^2}{2}\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)^2 + r\\right)\\tau} \\)"})," to get ",(0,o.jsx)(i.A,{inline:!0,children:"\\( V \\)"}),". First, note that",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\begin{aligned}\n\t\t\t             f(x,\\tau)e^{x\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right) + \\frac{\\sigma^2\\tau}{2}\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right)^2} &= e^{x - r\\tau + \\frac{\\sigma^2 \\tau}{2}\\left(\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right)^2 - \\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)^2\\right)}\n\t\t\t    \t\t\t= e^{x} \\\\\n\t\t\t    \t\tf(x,\\tau)e^{- x\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right) + \\frac{\\sigma^2\\tau}{2}\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)^2} &= e^{-r\\tau}\n\t\t\t    \t  \\end{aligned}\n\t\t\t        \\]"}),"Thus, if we multiply both sides of equation 2 by ",(0,o.jsx)(i.A,{inline:!0,children:"\\( f(x,\\tau) \\)"}),", we get",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \tV(S_t, t) = e^{x}  \\Phi\\left(\\frac{x - \\log{K} + \\left(r + \\frac{\\sigma^2}{2}\\right)\\tau}{\\sigma \\sqrt{\\tau}}\\right)\n\t\t\t          \t -Ke^{-r\\tau}  \\Phi\\left(\\frac{x- \\log{K} + \\left(r - \\frac{\\sigma^2}{2}\\right)\\tau}{\\sigma \\sqrt{\\tau}}\\right)\n\t\t\t        \\]"}),"Finally, we'll substitute back in ",(0,o.jsx)(i.A,{inline:!0,children:"\\( x = \\log{S_t} \\)"})," and ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\tau = T- t \\)"})," to get",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \tV(S_t, t) = S_t  \\Phi\\left(\\frac{\\log{\\left(S_t/K\\right)} + \\left(r + \\frac{\\sigma^2}{2}\\right)(T-t)}{\\sigma \\sqrt{T-t}}\\right)\n\t\t\t          \t -Ke^{-r(T-t)}  \\Phi\\left(\\frac{\\log{\\left(S_t/K\\right)} + \\left(r - \\frac{\\sigma^2}{2}\\right)(T-t)}{\\sigma \\sqrt{T-t}}\\right)\n\t\t\t        \\]"}),"We're done! As a bonus, let's make things look a little nicer by relating the two expressions in the normal cdfs. Notice that these expressions differ by only one negative sign. Let's see if we can write one in terms of the other",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\begin{aligned}\n\t\t\t            &\\frac{\\log{\\left(S_t/K\\right)} + \\left(r + \\frac{\\sigma^2}{2}\\right)(T-t)}{\\sigma \\sqrt{T-t}} + q = \\frac{\\log{\\left(S_t/K\\right)} + \\left(r - \\frac{\\sigma^2}{2}\\right)(T-t)}{\\sigma \\sqrt{T-t}} \\\\\n\t\t\t    \t\t\\Leftrightarrow & q = -\\sigma \\sqrt{T-t}\n\t\t\t    \t  \\end{aligned}\n\t\t\t        \\]"}),"Then, if we assign",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \tp = \\frac{\\log{\\left(S_t/K\\right)} + \\left(r + \\frac{\\sigma^2}{2}\\right)(T-t)}{\\sigma \\sqrt{T-t}}\n\t\t\t        \\]"}),"our equation becomes",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \tV(S_t, t) = S_t  \\Phi(p) -Ke^{-r(T-t)}  \\Phi\\left(p - \\sigma\\sqrt{T-t}\\right)\n\t\t\t        \\]"})]})]}),(0,o.jsx)("p",{className:"heading2",children:"Example"}),(0,o.jsx)(l.A,{solution:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("p",{children:["The process of finding a formula for a European put option is very similar to the process of finding a European call option. Instead of the initial condition ",(0,o.jsx)(i.A,{inline:!0,children:"\\( V(S,T) = \\max\\{0, S-K\\} \\)"}),", we have the initial condition ",(0,o.jsx)(i.A,{inline:!0,children:"\\( V(S,T) = \\max\\{0, K- S\\} \\)"}),". Because ",(0,o.jsx)(i.A,{inline:!0,children:"\\( K - S = K- e^z > 0 \\Leftrightarrow z < \\log K\\)"}),", this change in initial conditions simply means we'll put ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\log K \\)"})," in the upper bound of our integral instead of the lower bound, and we'll leave in ",(0,o.jsx)(i.A,{inline:!0,children:"\\( K- e^z \\)"})," instead of ",(0,o.jsx)(i.A,{inline:!0,children:"\\( e^z-K \\)"}),".",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \tu(x, \\tau) = \\frac{1}{\\sqrt{2\\pi \\sigma^2 \\tau}}\\left( K \\int_{-\\infty}^{\\log{K}} \n\t\t\t          \te^{-\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)z -\\frac{(z-x)^2}{2 \\sigma^2 \\tau}}dz\n\t\t\t          \t- \\int_{-\\infty}^{\\log{K}} \n\t\t\t          \te^{\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right)z -\\frac{(z-x)^2}{2 \\sigma^2 \\tau}}dz \\right)\n\t\t\t        \\]"}),"Then, we follow the same steps in the derivation of the European call option formula until we get to the point where",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\begin{aligned}\n\t\t              u(x,\\tau) = \n\t\t              Ke^{- x\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right) + \\frac{\\sigma^2\\tau}{2}\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)^2} \n\t\t          \t\\int_{-\\infty}^{\\frac{\\log{K} - x - \\left(r - \\frac{\\sigma^2}{2}\\right)\\tau}{\\sigma \\sqrt{\\tau}}} \\frac{e^{\\frac{-b^2}{2}}}{\\sqrt{2\\pi}}db \n\t\t          \t- e^{x\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right) + \\frac{\\sigma^2\\tau}{2}\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right)^2} \n\t\t              \\int^{\\frac{\\log{K} - x - \\left(\\frac{\\sigma^2}{2} +r\\right)\\tau}{\\sigma \\sqrt{\\tau}}}_{-\\infty} \\frac{e^{\\frac{-a^2}{2}}}{\\sqrt{2\\pi}}da \n\t\t    \t  \\end{aligned}\n\t\t        \\]"}),"Now, when we write the integrals in terms of the standard normal cdf, we get",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\begin{aligned}\n\t\t              u(x,\\tau) = \n\t\t              Ke^{- x\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right) + \\frac{\\sigma^2\\tau}{2}\\left(\\frac{1}{2} - \\frac{r}{\\sigma^2}\\right)^2} \n\t\t          \t\\Phi\\left(\\frac{\\log{K} - x - \\left(r - \\frac{\\sigma^2}{2}\\right)\\tau}{\\sigma \\sqrt{\\tau}}\\right)\n\t\t              -e^{x\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right) + \\frac{\\sigma^2\\tau}{2}\\left(\\frac{1}{2} + \\frac{r}{\\sigma^2}\\right)^2} \n\t\t              \\Phi \\left(\\frac{\\log{K} - x - \\left(\\frac{\\sigma^2}{2} +r\\right)\\tau}{\\sigma \\sqrt{\\tau}}\\right) \n\t\t    \t  \\end{aligned}\n\t\t        \\]"}),"Converting things back, we get",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\begin{aligned}\n\t\t              V(S_t, t) = \n\t\t              Ke^{-r(T-t)} \\Phi\\left(\\frac{\\log(K/S_t) - \\left(r - \\frac{\\sigma^2}{2}\\right)(T-t)}{\\sigma \\sqrt{T-t}}\\right)\n\t\t              -S_t \\Phi \\left(\\frac{\\log(K/S_t)  - \\left(\\frac{\\sigma^2}{2} +r\\right)(T-t)}{\\sigma \\sqrt{T-t}}\\right) \n\t\t    \t  \\end{aligned}\n\t\t        \\]"}),"Using the same definition of ",(0,o.jsx)(i.A,{inline:!0,children:"\\( p \\)"})," from the call formula derivation, we can rewrite the formula for a put option as",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t          \\begin{aligned}\n\t\t              V(S_t, t) = \n\t\t              Ke^{-r(T-t)} \\Phi\\left(\\sigma\\sqrt{T-t} -p\\right)\n\t\t              -S_t \\Phi \\left(- p\\right) \n\t\t    \t  \\end{aligned}\n\t\t        \\]"})]})}),children:(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Example 1:"})," Use the Black-Scholes equation to find a formula for the price of a European put option."]})})]}),(0,o.jsx)(s.A,{group:"BS"}),(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,o.jsx)(r.k2,{className:"BS-link",to:"/corporate_finance/black_scholes",children:"Contents"})})]})}},7094:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});n(5043);var a=n(4257),i=n(7971),r=(n(992),n(5475)),s=n(2638),l=n(579);const o=function(){return(0,l.jsxs)("div",{className:"BlackScholes",children:[(0,l.jsx)(s.A,{group:"BS"}),(0,l.jsx)("p",{className:"heading1",children:"Comparative Statics"}),(0,l.jsxs)(a.A,{children:[(0,l.jsxs)("div",{id:"overview",children:[(0,l.jsx)("p",{className:"heading2",children:"Overview"}),(0,l.jsxs)("p",{children:["In the last section we found the price of a European call option",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \tC(S_t, t) = S_t  \\Phi(p) -Ke^{-r(T-t)}  \\Phi\\left(p - \\sigma\\sqrt{T-t}\\right)\n\t\t\t        \\]"}),"and a European put option",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\begin{aligned}\n\t\t\t              P(S_t, t) = \n\t\t\t              Ke^{-r(T-t)} \\Phi\\left(\\sigma\\sqrt{T-t} -p\\right)\n\t\t\t              -S_t \\Phi \\left(- p\\right) \n\t\t\t    \t  \\end{aligned}\n\t\t\t        \\]"}),"where",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \tp = \\frac{\\log{\\left(S_t/K\\right)} + \\left(r + \\frac{\\sigma^2}{2}\\right)(T-t)}{\\sigma \\sqrt{T-t}}\n\t\t\t        \\]"})]}),(0,l.jsxs)("p",{children:["With these pricing equations in hand, we can see how the current stock price (",(0,l.jsx)(i.A,{inline:!0,children:"\\( S_t \\)"}),"), the strike price (",(0,l.jsx)(i.A,{inline:!0,children:"\\( K \\)"}),"), the risk-free rate (",(0,l.jsx)(i.A,{inline:!0,children:"\\( r \\)"}),"), the stock's volatility (",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\sigma \\)"}),"), and the time to expiration (",(0,l.jsx)(i.A,{inline:!0,children:"\\( T-t \\)"}),") affect option prices. To do this, we'll take a bunch of derivatives. Before we jump in, let's go over two things that will make life a lot easier: First, recall that the derivative of the standard normal cdf gives us the standard normal pdf, which we'll call ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\phi \\)"}),". This looks like",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \t\\frac{d\\Phi(x)}{d x} = \\phi(x) = \\frac{e^{\\frac{-x^2}{2}}}{\\sqrt{2\\pi}}\n\t\t\t        \\]"}),"Second, let's convince ourselves that the following expression is equal to zero:",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \t\\underbrace{S_t \\phi(p) - Ke^{-r(T-t)}\\phi\\left(p - \\sigma\\sqrt{T-t}\\right)}_{(*)}\n\t\t\t        \\]"}),"This expression is going to show up in all of our derivatives, so let's go over why we can ignore it when it comes up. For future reference, we'll denote this expression with a ",(0,l.jsx)(i.A,{inline:!0,children:"\\( (*) \\)"})," and call it the ",(0,l.jsx)(i.A,{inline:!0,children:"\\( (*) \\)"})," expression. To begin, we'll rewrite the ",(0,l.jsx)(i.A,{inline:!0,children:"\\( (*) \\)"})," expression using the functional form of the standard normal pdf.",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\begin{aligned}\n\t\t\t\t\t\t\\frac{1}{\\sqrt{2\\pi}} \\left( S_t e^{\\frac{-p^2}{2}} - Ke^{-r(T-t)- \\frac{\\left(p-\\sigma\\sqrt{T-t}\\right)^2}{2}} \\right) \n\t\t\t    \t  \t= \\frac{e^{\\frac{-p^2}{2}}}{\\sqrt{2\\pi}} \\left( S_t - Ke^{p\\sigma\\sqrt{T-t} -\\left(r + \\frac{\\sigma^2}{2}\\right)(T-t)} \\right)\n\t\t\t    \t  \\end{aligned}\n\t\t\t        \\]"}),"Now, let's use our definition of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( p \\)"})," to get rid of another variable. If we solve for ",(0,l.jsx)(i.A,{inline:!0,children:"\\( K \\)"})," in terms of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( p \\)"}),", we get ",(0,l.jsx)(i.A,{inline:!0,children:"\\( K = S_t e^{-p\\sigma \\sqrt{T-t} + \\left(r + \\frac{\\sigma^2}{2}\\right)(T-t)} \\)"}),". Plugging this in for ",(0,l.jsx)(i.A,{inline:!0,children:"\\( K \\)"})," in the ",(0,l.jsx)(i.A,{inline:!0,children:"\\( (*) \\)"})," expression, we get",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\begin{aligned}\n\t\t\t    \t  \t\\frac{e^{\\frac{-p^2}{2}}}{\\sqrt{2\\pi}} \\left( S_t - \\left(S_t e^{-p\\sigma \\sqrt{T-t} + \\left(r + \\frac{\\sigma^2}{2}\\right)(T-t)} \\right)e^{p\\sigma\\sqrt{T-t} -\\left(r + \\frac{\\sigma^2}{2}\\right)(T-t)} \\right)\n\t\t\t    \t  \t= \\frac{e^{\\frac{-p^2}{2}}}{\\sqrt{2\\pi}} (S_t - S_t) = 0\n\t\t\t    \t  \\end{aligned}\n\t\t\t        \\]"}),"Thus, whenever the ",(0,l.jsx)(i.A,{inline:!0,children:"\\( (*) \\)"})," expression comes up, we'll know that it all cancels to zero."]})]}),(0,l.jsxs)("div",{id:"stock_price",children:[(0,l.jsx)("p",{className:"heading2",children:"Stock Price"}),(0,l.jsxs)("p",{children:["We start by taking derivatives with respect to ",(0,l.jsx)(i.A,{inline:!0,children:"\\( S_t \\)"}),". In the case of a call, we have",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\begin{aligned}\n\t\t\t            \\frac{\\partial C}{\\partial S_t} &= \\Phi(p) + S_t \\phi(p)\\frac{\\partial p}{\\partial S_t} - Ke^{-r(T-t)}\\phi\\left(p-\\sigma\\sqrt{T-t}\\right) \\frac{\\partial p}{\\partial S_t} \\\\\n\t\t\t            &= \\Phi(p) + \\frac{\\partial p}{\\partial S_t} \\left(\\underbrace{S_t \\phi(p) - Ke^{-r(T-t)}\\phi\\left(p - \\sigma\\sqrt{T-t}\\right)}_{(*)} \\right) \\\\\n\t\t\t            &= \\Phi(p) > 0\n\t\t\t    \t  \\end{aligned}\n\t\t\t        \\]"}),"In the case of a put, we have",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\begin{aligned}\n\t\t\t            \\frac{\\partial P}{\\partial S_t} &= -\\Phi(-p) + S_t \\phi(-p)\\frac{\\partial p}{\\partial S_t} - Ke^{-r(T-t)}\\phi\\left(\\sigma\\sqrt{T-t} - p\\right) \\frac{\\partial p}{\\partial S_t} \\\\\n\t\t\t            &= -\\Phi(-p) + \\frac{\\partial p}{\\partial S_t} \\left(\\underbrace{S_t \\phi(p) - Ke^{-r(T-t)}\\phi\\left(p - \\sigma\\sqrt{T-t}\\right)}_{(*)} \\right) \\\\\n\t\t\t            &= -\\Phi(-p) < 0\n\t\t\t    \t  \\end{aligned}\n\t\t\t        \\]"}),"This tells us that, as the current stock price increases, the call price should increase and the put price should decrease."]})]}),(0,l.jsxs)("div",{id:"strike_price",children:[(0,l.jsx)("p",{className:"heading2",children:"Strike Price"}),(0,l.jsxs)("p",{children:["Now let's look at how the strike price affects option prices. In the case of a call, we have",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\begin{aligned}\n\t\t\t            \\frac{\\partial C}{\\partial K} &= S_t\\phi(p) \\frac{\\partial p}{\\partial K} - e^{-r(T-t)} \\Phi\\left(p - \\sigma\\sqrt{T-t}\\right) - K e^{-r(T-t)} \\phi\\left(p - \\sigma\\sqrt{T-t}\\right) \\frac{\\partial p}{\\partial K} \\\\\n\t\t\t            &= - e^{-r(T-t)} \\Phi\\left(p - \\sigma\\sqrt{T-t}\\right) + \\frac{\\partial p}{\\partial K} \\left(\\underbrace{S_t \\phi(p) - Ke^{-r(T-t)}\\phi\\left(p - \\sigma\\sqrt{T-t}\\right)}_{(*)} \\right) \\\\\n\t\t\t            &= - e^{-r(T-t)} \\Phi\\left(p - \\sigma\\sqrt{T-t}\\right) < 0\n\t\t\t    \t  \\end{aligned}\n\t\t\t        \\]"}),"In the case of a put, we have",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\begin{aligned}\n\t\t\t            \\frac{\\partial P}{\\partial K} &= S_t\\phi(-p) \\frac{\\partial p}{\\partial K} + e^{-r(T-t)} \\Phi\\left(\\sigma\\sqrt{T-t} - p\\right) - K e^{-r(T-t)} \\phi\\left(\\sigma\\sqrt{T-t}- p\\right) \\frac{\\partial p}{\\partial K} \\\\\n\t\t\t            &= e^{-r(T-t)} \\Phi\\left( \\sigma\\sqrt{T-t}-p\\right) + \\frac{\\partial p}{\\partial K} \\left(\\underbrace{S_t \\phi(p) - Ke^{-r(T-t)}\\phi\\left(p - \\sigma\\sqrt{T-t}\\right)}_{(*)} \\right) \\\\\n\t\t\t            &= e^{-r(T-t)} \\Phi\\left(\\sigma\\sqrt{T-t}-p\\right) > 0\n\t\t\t    \t  \\end{aligned}\n\t\t\t        \\]"}),"Thus, as the strike price increases, the call price should decrease and the put price should increase."]})]}),(0,l.jsxs)("div",{id:"risk_fee_rate",children:[(0,l.jsx)("p",{className:"heading2",children:"Risk-Free Rate"}),(0,l.jsxs)("p",{children:["Now let's consider the risk-free rate. In the case of a call, we have",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\begin{aligned}\n\t\t\t            \\frac{\\partial C}{\\partial r} &=  S_t\\phi(p) \\frac{\\partial p}{\\partial r} +(T-t)Ke^{-r(T-t)} \\Phi\\left(p - \\sigma\\sqrt{T-t}\\right) - K e^{-r(T-t)} \\phi\\left(p - \\sigma\\sqrt{T-t}\\right) \\frac{\\partial p}{\\partial r} \\\\\n\t\t\t            &= (T-t)Ke^{-r(T-t)}\\Phi\\left(p - \\sigma\\sqrt{T-t}\\right) + \\frac{\\partial p}{\\partial r} \\left(\\underbrace{S_t \\phi(p) - Ke^{-r(T-t)}\\phi\\left(p - \\sigma\\sqrt{T-t}\\right)}_{(*)} \\right) \\\\\n\t\t\t            &= (T-t)Ke^{-r(T-t)}\\Phi\\left(p - \\sigma\\sqrt{T-t}\\right) > 0\n\t\t\t    \t  \\end{aligned}\n\t\t\t        \\]"}),"In the case of a put, we have",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\begin{aligned}\n\t\t\t            \\frac{\\partial P}{\\partial r} &=  S_t\\phi(-p) \\frac{\\partial p}{\\partial r} -(T-t)Ke^{-r(T-t)} \\Phi\\left(\\sigma\\sqrt{T-t}-p\\right) - K e^{-r(T-t)} \\phi\\left(\\sigma\\sqrt{T-t}-p\\right) \\frac{\\partial p}{\\partial r} \\\\\n\t\t\t            &= -(T-t)Ke^{-r(T-t)}\\Phi\\left(\\sigma\\sqrt{T-t}-p\\right) + \\frac{\\partial p}{\\partial r} \\left(\\underbrace{S_t \\phi(p) - Ke^{-r(T-t)}\\phi\\left(p - \\sigma\\sqrt{T-t}\\right)}_{(*)} \\right) \\\\\n\t\t\t            &= -(T-t)Ke^{-r(T-t)}\\Phi\\left(\\sigma\\sqrt{T-t}-p\\right) < 0\n\t\t\t    \t  \\end{aligned}\n\t\t\t        \\]"}),"Thus, as the risk-free rate increases, the call price should increase and the put price should decrease."]})]}),(0,l.jsxs)("div",{id:"volatility",children:[(0,l.jsx)("p",{className:"heading2",children:"Volatility"}),(0,l.jsxs)("p",{children:["Next, we have the volatility of the underlying stock. In the case of a call, we have",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\begin{aligned}\n\t\t\t            \\frac{\\partial C}{\\partial \\sigma} &=  S_t\\phi(p) \\frac{\\partial p}{\\partial \\sigma} - K e^{-r(T-t)} \\phi\\left(p - \\sigma\\sqrt{T-t}\\right) \\left( \\frac{\\partial p}{\\partial \\sigma} - \\sqrt{T-t}\\right) \\\\\n\t\t\t            &= \\sqrt{T-t}K e^{-r(T-t)} \\phi\\left(p - \\sigma\\sqrt{T-t}\\right) +  \\frac{\\partial p}{\\partial \\sigma} \\left(\\underbrace{S_t \\phi(p) - Ke^{-r(T-t)}\\phi\\left(p - \\sigma\\sqrt{T-t}\\right)}_{(*)} \\right) \\\\\n\t\t\t            &= \\sqrt{T-t}K e^{-r(T-t)} \\phi\\left(p - \\sigma\\sqrt{T-t}\\right) > 0 \n\t\t\t    \t  \\end{aligned}\n\t\t\t        \\]"}),"In the case of a put, we have",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\begin{aligned}\n\t\t\t            \\frac{\\partial P}{\\partial \\sigma} &=  S_t\\phi(-p) \\frac{\\partial p}{\\partial \\sigma} - K e^{-r(T-t)} \\phi\\left(\\sigma\\sqrt{T-t}-p\\right) \\left( \\frac{\\partial p}{\\partial \\sigma} - \\sqrt{T-t}\\right) \\\\\n\t\t\t            &= \\sqrt{T-t}K e^{-r(T-t)} \\phi\\left(p - \\sigma\\sqrt{T-t}\\right) +  \\frac{\\partial p}{\\partial \\sigma} \\left(\\underbrace{S_t \\phi(p) - Ke^{-r(T-t)}\\phi\\left(p - \\sigma\\sqrt{T-t}\\right)}_{(*)} \\right) \\\\\n\t\t\t            &= \\sqrt{T-t}K e^{-r(T-t)} \\phi\\left(p - \\sigma\\sqrt{T-t}\\right) > 0 \n\t\t\t    \t  \\end{aligned}\n\t\t\t        \\]"}),"Thus, both the price of a call and the price of a put should increase as the volatility of the underlying stock price increases."]})]}),(0,l.jsxs)("div",{id:"time",children:[(0,l.jsx)("p",{className:"heading2",children:"Time to Expiration"}),(0,l.jsxs)("p",{children:["Finally, we consider the time to expiration. In the case of a call, we have",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\begin{aligned}\n\t\t\t            \\frac{\\partial C}{\\partial (T-t)} &= S_t\\phi(p) \\frac{\\partial p}{\\partial (T-t)} + r K e^{-r(T-t)} \\Phi\\left(p - \\sigma\\sqrt{T-t}\\right) - K e^{-r(T-t)} \\phi\\left(p - \\sigma\\sqrt{T-t}\\right) \\left( \\frac{\\partial p}{\\partial (T-t)} - \\frac{\\sigma}{2\\sqrt{T-t}}\\right) \\\\\n\t\t\t            &=  \\frac{Ke^{-r(T-t)}\\sigma}{2\\sqrt{T-t}}\\phi\\left(p - \\sigma\\sqrt{T-t}\\right) + rKe^{r(T-t)}\\Phi\\left(p - \\sigma\\sqrt{T-t}\\right) + \\frac{\\partial p}{\\partial (T-t)} \\left(\\underbrace{S_t \\phi(p) - Ke^{-r(T-t)}\\phi\\left(p - \\sigma\\sqrt{T-t}\\right)}_{(*)} \\right)  \\\\\n\t\t\t            &= Ke^{-r(T-t)} \\left(\\frac{\\sigma}{2\\sqrt{T-t}}\\phi\\left(p - \\sigma\\sqrt{T-t}\\right) + r\\Phi\\left(p - \\sigma\\sqrt{T-t}\\right) \\right) > 0\n\t\t\t    \t  \\end{aligned}\n\t\t\t        \\]"}),"This tells us that the call price should increase as the amount of time before the option expires increases. In the case of a put, we have",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\begin{aligned}\n\t\t\t            \\frac{\\partial P}{\\partial (T-t)} &= S_t\\phi(-p) \\frac{\\partial p}{\\partial (T-t)} - r K e^{-r(T-t)} \\Phi\\left(\\sigma\\sqrt{T-t}-p\\right) - K e^{-r(T-t)} \\phi\\left(\\sigma\\sqrt{T-t}-p\\right) \\left( \\frac{\\partial p}{\\partial (T-t)} - \\frac{\\sigma}{2\\sqrt{T-t}}\\right) \\\\\n\t\t\t            &=  \\frac{Ke^{-r(T-t)}\\sigma}{2\\sqrt{T-t}}\\phi\\left(\\sigma\\sqrt{T-t}-p\\right) - rKe^{r(T-t)}\\Phi\\left(\\sigma\\sqrt{T-t}-p\\right) + \\frac{\\partial p}{\\partial (T-t)} \\left(\\underbrace{S_t \\phi(p) - Ke^{-r(T-t)}\\phi\\left(p - \\sigma\\sqrt{T-t}\\right)}_{(*)} \\right)  \\\\\n\t\t\t            &= Ke^{-r(T-t)} \\left(\\frac{\\sigma}{2\\sqrt{T-t}}\\phi\\left(\\sigma\\sqrt{T-t}-p\\right) - r\\Phi\\left(\\sigma\\sqrt{T-t}-p\\right) \\right)\n\t\t\t    \t  \\end{aligned}\n\t\t\t        \\]"})]}),(0,l.jsxs)("p",{children:["The effect of time to expiration on the put price depends on other parameters. We can say that increasing the time to expiration should increase the put price if",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t          \\begin{aligned}\n\t\t\t            \\underbrace{\\frac{\\sigma}{2r\\sqrt{T-t}}}_{g_1} - \\underbrace{\\frac{\\Phi\\left(\\sigma\\sqrt{T-t} - p\\right)}{\\phi\\left(\\sigma\\sqrt{T-t} - p\\right)}}_{g_2} >0\n\t\t\t    \t  \\end{aligned}\n\t\t\t        \\]"}),"Let's call the whole expression on the left-hand side of the inequality ",(0,l.jsx)(i.A,{inline:!0,children:"\\( G = g_1 - g_2\\)"}),". Now, we can consider the effect of stock price, strike price, risk-free rate, volatility, and time to expiration on ",(0,l.jsx)(i.A,{inline:!0,children:"\\( G \\)"}),". If ",(0,l.jsx)(i.A,{inline:!0,children:"\\( G \\)"})," is increasing (decreasing) in a given parameter, we can say that a higher (lower) value of that parameter makes it more likely that the put price will increase as the time to expiration increases."]}),(0,l.jsxs)("p",{children:["Before we jump into more derivatives, let's consider ",(0,l.jsx)(i.A,{inline:!0,children:"\\( g_2 \\)"}),". This is the ratio of the standard normal cdf to the standard normal pdf, which is increasing in its argument. In other words, for any value ",(0,l.jsx)(i.A,{inline:!0,children:"\\( x \\)"}),", ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{d}{dx}\\left(\\frac{\\Phi(x)}{\\phi(x)}\\right) \\geq 0 \\)"}),". Thus, the derivative of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( g_2 \\)"})," will have the same sign as the derivative of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\sigma\\sqrt{T-t} - p\\)"}),"."]}),(0,l.jsxs)("p",{children:["First, let's look at the stock price and the strike price. Since ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial p}{\\partial S_t} = \\frac{1}{S_t \\sigma\\sqrt{T-t}} \\)"}),", we have that ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial g_2}{\\partial S_t} \\leq 0 \\)"})," and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial G}{\\partial S_t}  \\geq 0\\)"}),", which means a higher stock price makes it more likely that increasing time to expiration will increase the put price. In contrast, since ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial p}{\\partial K} = -\\frac{1}{K \\sigma\\sqrt{T-t}} \\)"}),", we have that ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial g_2}{\\partial K} \\geq 0 \\)"})," and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial G}{\\partial K}  \\leq 0\\)"}),", which means a higher stike price makes it less likely that increasing the time to expiration will increase the put price. Taken together, this suggests that far out-of-the-money put options are more likely to have a price increase when we increase their time to expiration."]}),(0,l.jsxs)("p",{children:["The signs of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial G}{\\partial r} \\)"})," and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial G}{\\partial \\sigma} \\)"})," both depend on other parameters. However, if the ",(0,l.jsx)(i.A,{inline:!0,children:"\\( g_1 \\)"})," term dominates, then we should generally expect higher volatility and lower risk-free rate to make it more likely that increasing time to expiration will increase put price."]}),(0,l.jsxs)("p",{children:["Finally, since ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial }{\\partial (T-t)}\\left(\\sigma \\sqrt{T-t} - p\\right) = \\frac{\\sigma^2 - 2r}{4\\sigma\\sqrt{T-t}} \\)"})," and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial g_1}{\\partial (T-t)} = \\frac{-\\sigma}{4r(T-t)^{3/2}}\\)"}),", we can be sure that ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\partial G}{\\partial (T-t)} \\leq 0 \\)"})," if ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\sigma^2 \\geq 2r\\)"}),". This means that put options with a long time before expiration will not likely experience a price increase if we make their time to expiration even greater."]})]}),(0,l.jsxs)("div",{id:"summary",children:[(0,l.jsx)("p",{className:"heading2",children:"Summary"}),(0,l.jsx)("div",{className:"table-wrapper",children:(0,l.jsxs)("table",{className:"my-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{}),(0,l.jsx)("th",{className:"table-entry-head",colSpan:2,children:"Price Effect"})]})}),(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"table-entry-head",children:"Increase in Parameter"}),(0,l.jsx)("th",{className:"table-entry-head",children:"Call Option"}),(0,l.jsx)("th",{className:"table-entry-head",children:"Put Option"})]})}),(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsxs)("td",{className:"table-entry",children:["Stock Price (",(0,l.jsx)(i.A,{inline:!0,children:"\\( S_t \\)"}),")"]}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(i.A,{inline:!0,children:"\\( \\uparrow \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(i.A,{inline:!0,children:"\\( \\downarrow \\)"})})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsxs)("td",{className:"table-entry",children:["Strike Price (",(0,l.jsx)(i.A,{inline:!0,children:"\\( K \\)"}),")"]}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(i.A,{inline:!0,children:"\\( \\downarrow \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(i.A,{inline:!0,children:"\\( \\uparrow \\)"})})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsxs)("td",{className:"table-entry",children:["Risk-Free Rate (",(0,l.jsx)(i.A,{inline:!0,children:"\\( r \\)"}),")"]}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(i.A,{inline:!0,children:"\\( \\uparrow \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(i.A,{inline:!0,children:"\\( \\downarrow \\)"})})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsxs)("td",{className:"table-entry",children:["Volatility (",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\sigma \\)"}),")"]}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(i.A,{inline:!0,children:"\\( \\uparrow \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(i.A,{inline:!0,children:"\\( \\uparrow \\)"})})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsxs)("td",{className:"table-entry",children:["Time to Expiration (",(0,l.jsx)(i.A,{inline:!0,children:"\\( T-t \\)"}),")"]}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(i.A,{inline:!0,children:"\\( \\uparrow \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:"depends"})]})]})]})})]})]}),(0,l.jsx)(s.A,{group:"BS"}),(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,l.jsx)(r.k2,{className:"BS-link",to:"/corporate_finance/black_scholes",children:"Contents"})})]})}},7813:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(5043),i=n(4257),r=n(7971),s=(n(992),n(5475)),l=n(2638),o=n(562),c=n(5679),h=n(579);const d=function(){const[e,t]=(0,a.useState)(100),[n,d]=(0,a.useState)(100),[u,p]=(0,a.useState)(.05),[f,m]=(0,a.useState)(.5);return(0,h.jsxs)("div",{className:"BlackScholes",children:[(0,h.jsx)(l.A,{group:"BS"}),(0,h.jsxs)(i.A,{children:[(0,h.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingTop:"20px"},children:(0,h.jsx)(o.default,{})}),(0,h.jsxs)("div",{className:"graph-container",style:{paddingTop:"80px"},children:[(0,h.jsx)(c.default,{K:n,r:u,sigma:f,S0:e}),(0,h.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,h.jsxs)("div",{className:"input-bars",children:[(0,h.jsxs)("label",{children:[(0,h.jsx)(r.A,{inline:!0,children:"\\( S_0 \\)"})," (Initial Stock Price)"]}),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",paddingTop:"2px"},children:[(0,h.jsx)("button",{onClick:()=>t((e=>Math.max(50,e-5))),children:"\u25c0"}),(0,h.jsx)("span",{style:{margin:"0 10px"},children:e.toFixed(0)}),(0,h.jsx)("button",{onClick:()=>t((e=>Math.min(200,e+5))),children:"\u25b6"})]})]}),(0,h.jsxs)("div",{className:"input-bars",children:[(0,h.jsxs)("label",{children:[(0,h.jsx)(r.A,{inline:!0,children:"\\( K \\)"})," (Strike Price)"]}),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",paddingTop:"2px"},children:[(0,h.jsx)("button",{onClick:()=>d((e=>Math.max(50,e-5))),children:"\u25c0"}),(0,h.jsx)("span",{style:{margin:"0 10px"},children:n.toFixed(0)}),(0,h.jsx)("button",{onClick:()=>d((e=>Math.min(200,e+5))),children:"\u25b6"})]})]}),(0,h.jsxs)("div",{className:"input-bars",children:[(0,h.jsxs)("label",{children:[(0,h.jsx)(r.A,{inline:!0,children:"\\( \\sigma \\)"})," (Volatility)"]}),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",paddingTop:"2px"},children:[(0,h.jsx)("button",{onClick:()=>m((e=>Math.max(0,e-.05))),children:"\u25c0"}),(0,h.jsx)("span",{style:{margin:"0 10px"},children:f.toFixed(2)}),(0,h.jsx)("button",{onClick:()=>m((e=>Math.min(1,e+.05))),children:"\u25b6"})]})]}),(0,h.jsxs)("div",{className:"input-bars",children:[(0,h.jsxs)("label",{children:[(0,h.jsx)(r.A,{inline:!0,children:"\\( r \\)"})," (Risk-Free Rate)"]}),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",paddingTop:"2px"},children:[(0,h.jsx)("button",{onClick:()=>p((e=>Math.max(0,e-.01))),children:"\u25c0"}),(0,h.jsx)("span",{style:{margin:"0 10px"},children:u.toFixed(2)}),(0,h.jsx)("button",{onClick:()=>p((e=>Math.min(1,e+.01))),children:"\u25b6"})]})]})]})]}),(0,h.jsx)("p",{children:"In the graph above, the stock price evolves according to geometric brownian motion with zero drift. Try varying the initial stock price, the strike price, and the risk-free rate with volatility set to zero. Then see how things change as you increase volatility. Pay attention to how the gap between the stock price and the derivative price changes at the end points."})]}),(0,h.jsx)(l.A,{group:"BS"}),(0,h.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,h.jsx)(s.k2,{className:"BS-link",to:"/corporate_finance/black_scholes",children:"Contents"})})]})}},6104:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});n(5043);var a=n(4257),i=n(7971),r=(n(992),n(5475)),s=n(2638),l=n(2340),o=n(579);const c=function(){return(0,o.jsxs)("div",{className:"BlackScholes",children:[(0,o.jsx)(s.A,{group:"BS"}),(0,o.jsx)("p",{className:"heading1",children:"Volatility"}),(0,o.jsxs)(a.A,{children:[(0,o.jsxs)("p",{children:["The Black-Scholes model assumes a constant, known volatility, ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\sigma \\)"}),". In the real world, a stock's volatility may change over time, and the volatility of a stock at any given time is not necessarily known (or agreed upon) by all investors. In this section, we'll think through three different volatility measures: realized, implied, and expected."]}),(0,o.jsx)("p",{className:"heading2",children:"Realized Volatility"}),(0,o.jsxs)("p",{children:["Realized volatility measures the actual stock price fluctuations for some period in the past. Let's say we have past stock price observations ",(0,o.jsx)(i.A,{inline:!0,children:"\\( S_0, S_1, \\dots, S_N \\)"}),". How should we use these observations to come up with an empirical estimate of volatility that we can use in the Black-Scholes context? Recall that the Black-Scholes model assumes stock prices are continuous and evolve according to geometric Brownian motion. This gives us the following equation for the stock price at time ",(0,o.jsx)(i.A,{inline:!0,children:"\\( t\\)"}),":",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t          \\begin{aligned}\n\t            &S_t = S_0 e^{\\left(\\mu - \\frac{\\sigma^2}{2}\\right)t + \\sigma W_t} \\\\\n\t            \\Leftrightarrow &\\log\\left(\\frac{S_t}{S_0}\\right) = \\left(\\mu - \\frac{\\sigma^2}{2}\\right)t + \\sigma W_t\n\t          \\end{aligned}\n\t        \\]"}),"In practice, prices are not continuous. But, we can approximate continuous prices with discrete pricing intervals. Let's assume we have intervals of length ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\Delta t\\)"})," and look at the interval from time ",(0,o.jsx)(i.A,{inline:!0,children:"\\( i-1 \\)"})," to time ",(0,o.jsx)(i.A,{inline:!0,children:"\\( i \\)"}),". This gives us",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t          \\begin{aligned}\n\t            \\log\\left(\\frac{S_i}{S_{i-1}}\\right) \\approx \\left(\\mu - \\frac{\\sigma^2}{2}\\right)\\Delta t + \\sigma \\Delta W_i\n\t          \\end{aligned}\n\t        \\]"}),"where ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\Delta W_i \\sim N(0, \\Delta t) \\)"}),"."]}),(0,o.jsxs)("p",{children:["Before we continue, let's do a quick aside about returns. Let's say you purchase an asset at time ",(0,o.jsx)(i.A,{inline:!0,children:"\\( i-1 \\)"})," for price ",(0,o.jsx)(i.A,{inline:!0,children:"\\( P_{i-1} \\)"}),". Then, you sell the asset at time ",(0,o.jsx)(i.A,{inline:!0,children:"\\( i \\)"})," for price ",(0,o.jsx)(i.A,{inline:!0,children:"\\( P_i\\)"}),". The level return on the asset is given by",(0,o.jsx)(i.A,{inline:!0,children:"\\( R_i = \\frac{P_i-P_{i-1}}{P_{i-1}} = \\frac{P_i}{P_{i-1}} - 1 \\)"}),". We define the log return on the asset as ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r_i = \\log(R_i + 1) = \\log\\left(\\frac{P_{i}}{P_{i-1}}\\right)\\)"}),". Thus, we can recognize ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\log\\left(\\frac{S_i}{S_{i-1}}\\right)  \\)"})," as the log return on the stock from time ",(0,o.jsx)(i.A,{inline:!0,children:"\\( i-1 \\)"})," to time ",(0,o.jsx)(i.A,{inline:!0,children:"\\( i \\)"}),". We'll denote this log return as ",(0,o.jsx)(i.A,{inline:!0,children:"\\( s_i \\)"}),"."]}),(0,o.jsxs)("p",{children:["Returning to our equation, we can solve for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\Delta W_i \\)"})," to get",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t          \\begin{aligned}\n\t            \\Delta W_i \\approx \\frac{s_i - \\left(\\mu - \\frac{\\sigma^2}{2}\\right)\\Delta t}{\\sigma}\n\t          \\end{aligned}\n\t        \\]"}),"We know that the variance of ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\Delta W_i \\)"})," is ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\Delta t \\)"}),". Thus, we have",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t          \\begin{aligned}\n\t            &\\text{var} \\left(\\frac{s_i - \\left(\\mu - \\frac{\\sigma^2}{2}\\right)\\Delta t}{\\sigma}\\right) \\approx \\Delta t \\\\\n\t            &\\Leftrightarrow \\sigma  \\approx  \\sqrt{\\frac{\\text{var}(s_i)}{\\Delta t}}\n\t          \\end{aligned}\n\t        \\]"}),"Using the formula for sample variance, we can estimate ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\sigma \\)"})," as",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t\t\\sigma  \\approx  \\sqrt{\\frac{\\sum^{N}_{i=1}(s_i - \\bar s)^2}{(N-1)\\Delta t}}\n\t        \\]"}),"Finally, if we measure time in trading years and our time interval is one trading day, then ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\Delta t = \\frac{1}{T_{days}} \\)"}),", where ",(0,o.jsx)(i.A,{inline:!0,children:"\\( T_{days} \\)"})," is the number of trading days in a trading year. This gives us the following expression for realized volatility:",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t\t\t\t\\sigma_R  =  \\sqrt{\\frac{T_{days}\\sum^{N}_{i=1}(s_i - \\bar s)^2}{N-1}}\n\t        \\]"})]}),(0,o.jsx)("p",{className:"heading2",children:"Implied Volatility"}),(0,o.jsxs)("p",{children:["Implied volatility is the volatility measure that explains current option prices. In other words, given option price ",(0,o.jsx)(i.A,{inline:!0,children:"\\( V \\)"}),", stock price ",(0,o.jsx)(i.A,{inline:!0,children:"\\( S_t \\)"}),", strike price ",(0,o.jsx)(i.A,{inline:!0,children:"\\( K \\)"}),", and risk-free rate ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r \\)"}),", implied volatility (",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\sigma_{I} \\)"}),") is the ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\sigma \\)"})," parameter that we need to get ",(0,o.jsx)(i.A,{inline:!0,children:"\\( V \\)"}),"."]}),(0,o.jsxs)("p",{children:["Recall that the formula for a European call option is given by",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t          \tC(S_t, t) = S_t  \\Phi(p) -Ke^{-r(T-t)}  \\Phi\\left(p - \\sigma\\sqrt{T-t}\\right)\n\t        \\]"}),"and the formula for a European put option is given by",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t          \\begin{aligned}\n\t              P(S_t, t) = \n\t              Ke^{-r(T-t)} \\Phi\\left(\\sigma\\sqrt{T-t} -p\\right)\n\t              -S_t \\Phi \\left(- p\\right) \n\t    \t  \\end{aligned}\n\t        \\]"}),"where",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t          \tp = \\frac{\\log{\\left(S_t/K\\right)} + \\left(r + \\frac{\\sigma^2}{2}\\right)(T-t)}{\\sigma \\sqrt{T-t}}\n\t        \\]"}),"We can't find closed form solutions for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\sigma \\)"})," here, but we can use numerical methods to solve for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\sigma \\)"})," given an observed option price."]}),(0,o.jsx)("p",{className:"heading2",children:"Expected Volatility"}),(0,o.jsx)("p",{children:"Expected volatility reflects investors' beliefs about how the stock price will fluctuate in the future. Expected volatility might be different than past realized volatility if investors believe fluctuations in stock price will change going forward. In this way, the difference between expected volatility and past realized volatility represents how new information changes investors' volatility beliefs."}),(0,o.jsx)("p",{children:"It's tempting to think of implied volatility as a measure for expected volatility. This is so because we derived the Black-Scholes equation using a risk-free portfolio. If the Black-Scholes assumptions hold, then the volatility implied by Black-Scholes pricing should represent investors' actual beliefs about future volatility without adjusting for risk. However, in the real world, there are signficant deviations from the Black-Scholes assumptions that cause implied volatility to incorporate not only investors' beliefs about future volatility but also their risk preferences associated with those beliefs."}),(0,o.jsxs)("p",{className:"heading2",children:["Implied Volatility ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\neq \\)"})," Expected Volatility"]}),(0,o.jsxs)("p",{children:["To build some intuition about why implied volatility does not equal expected volatility, consider the perspective of an options seller. Recall that in the Black-Scholes derivation, we constructed a risk-free portfolio that would perfectly hedge the risk involved with selling an option by maintaining exactly ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\Delta = \\frac{\\partial V}{\\partial S_t} \\)"})," shares of the underlying stock. In the case of a European call option, this means that the options seller would have to maintain ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\Delta = \\Phi (p) \\)"})," shares of the underlying stock to perfectly hedge the sale of a single call. Note that ",(0,o.jsx)(i.A,{inline:!0,children:"\\( p = \\frac{\\log{\\left(S_t/K\\right)} + \\left(r + \\frac{\\sigma^2}{2}\\right)(T-t)}{\\sigma \\sqrt{T-t}} \\)"})," changes with the stock price. Thus, the options seller would have to continuously adjust ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\Delta \\)"})," as the stock price changes to ensure a perfect hedge, which is not possible in the real world. Note that the Black-Scholes model also assumes a constant risk-free rate and volatility, which also does not match the real world. Because of these model deviations from real world conditions, selling an option is not riskless. Thus, baked into the option price is a premium that the options seller requires as compensation for the risk of an imperfect hedge (plus the transaction costs involved in supplying and properly hedging the option). For this reason, implied volatility is typically greater than expected volatility."]}),(0,o.jsxs)("p",{children:["Let's look at a simple example to see this in action. Suppose we sell a call option at time ",(0,o.jsx)(i.A,{inline:!0,children:"\\( t=0 \\)"})," that expires at time ",(0,o.jsx)(i.A,{inline:!0,children:"\\( T \\)"}),". Using Black-Scholes, we sell the option for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( S_0\\Phi(p_0) - K e^{-rT}\\Phi(p_0 - \\sigma\\sqrt{T}) \\)"})," where ",(0,o.jsx)(i.A,{inline:!0,children:"\\( p_0 = \\frac{\\log \\left(S_0/K\\right) + \\left(r + \\frac{\\sigma^2}{2}\\right)T}{\\sigma\\sqrt{T}}\\)"}),". When we sell the option, we also buy ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\Delta = \\Phi(p_0) \\)"})," shares of stock for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( S_0\\Phi(p_0) \\)"})," to hedge. Thus, our total investment is given by",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t             S_0\\Phi(p_0) - \\left(S_0\\Phi(p_0) - K e^{-rT}\\Phi(p_0 - \\sigma\\sqrt{T}) \\right) = K e^{-rT}\\Phi(p_0 - \\sigma\\sqrt{T}) \n\t        \\]"}),"Suppose we don't readjust ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\Delta \\)"})," before expiration. Then, if the stock price is greater than the strike price when the option expires, we buy an additional ",(0,o.jsx)(i.A,{inline:!0,children:"\\( 1-\\Delta \\)"})," shares to deliver to the option holder and get ",(0,o.jsx)(i.A,{inline:!0,children:"\\( K \\)"})," in return (net ",(0,o.jsx)(i.A,{inline:!0,children:"\\( K - (1-\\Delta)S_T \\)"}),"). If the option is out of the money, we simply liquidate our stock holdings for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\Delta S_T \\)"}),". This gives us the following return",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t          \\begin{aligned}\n\t              \\begin{cases}\n\t              \t\\left(\\frac{S_T\\Phi(p_0)- (S_T- K)}{K \\Phi(p_0 - \\sigma\\sqrt{T})}\\right)e^{rT} - 1 & \\text{if } S_T > K \\\\\n\t              \t\\left(\\frac{S_T\\Phi(p_0)}{K \\Phi(p_0 - \\sigma\\sqrt{T})}\\right)e^{rT} - 1& \\text{if } S_T \\leq K \n\t              \\end{cases} \n\t    \t  \\end{aligned}\n\t        \\]"}),"If, instead of selling an option, we had simply invested ",(0,o.jsx)(i.A,{inline:!0,children:"\\( K e^{-rT}\\Phi(p_0 - \\sigma\\sqrt{T})  \\)"})," in a continuously compounding risk-free asset, our return would be ",(0,o.jsx)(i.A,{inline:!0,children:"\\( e^{rT} - 1 \\)"}),". As time to expiration goes to zero, both our option-selling return and our risk-free return go to zero. As volatility goes to zero, our return on selling an at-the-money option converges to the risk-free return since ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\lim_{\\sigma \\to 0} \\Phi(p_0) =  \\lim_{\\sigma \\to 0} \\Phi(p_0 - \\sigma\\sqrt{T}) = 1\\)"})," and ",(0,o.jsx)(i.A,{inline:!0,children:"\\( S_0 = S_T = K \\)"}),". For nonzero time to expiration and volatility, our option-selling return is equal to the risk-free return only in the special case where",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n\t          \\begin{aligned}\n\t              \\begin{cases}\n\t              \tS_T\\Phi (-p_0) = K\\Phi(\\sigma\\sqrt{T} - p_0) & \\text{if } S_T > K \\\\\n\t              \tS_T\\Phi (p_0) = K\\Phi(p_0 - \\sigma\\sqrt{T})  & \\text{if } S_T \\leq K \n\t              \\end{cases} \n\t    \t  \\end{aligned}\n\t        \\]"}),"Thus, as volatility and time to expiration increase in a way that is not offset by the difference in the strike price and the stock price, the option-selling return moves away from the risk-free return. The variation created by this imperfect hedging becomes more pronounced as parameters shift more in between each hedging readjustment."]}),(0,o.jsx)("p",{className:"heading2",children:"Imperfect Hedging Graph"}),(0,o.jsxs)("p",{children:["Use the figure below to explore how the timing and number of hedging adjustments affects the value of a hedged-option investment, where you sell call options and buy stock shares, as compared to the value of a risk-free investment. At the beginning of the period (i.e., 252 trading days, or one trading year, from expiration), the stock price is $100. The stock price evolves according to GBM with volatility .2, and we have a constant annual risk-free rate of 10%. One trading year from expiration, suppose we sell call options and perfectly hedge according to Black-Scholes so that the net amount of money we've put into the hedged-option investment is $100 ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\left(\\text{# shares} = \\frac{\\Delta\\text{(Net Investment Amount)}}{\\Delta S - C}\\text{, }\\text{# options}= \\frac{\\text{Net Investment Amount}}{\\Delta S - C}\\right) \\)"}),'. Then, at each readjustment period, we completely liquidate our investment (i.e., we sell our shares and buy call options to cover) and then reinvest, as we did before, so (1) we are perfectly hedged according to Black-Scholes and (2) the net value of our investment is $100. After we completely liquidate, the amount by which our liquidated investment differs from our initial investment becomes the "Value Added." If we keep a cumulative total of the value added at each readjustment, we can keep track of the growth of our hedged-option investment over time and compare it to the growth of a risk-free investment.']}),(0,o.jsx)("p",{children:'The figure starts out with no hedging readjustments (i.e., we only liquidate upon expiration). Click on different time periods on the stock-price graph to add hedging readjustments. Reset everything back to no readjustments by pressing the "Reset Graph" button. The table below keeps track of prices, quantities, and value added at each readjustment period. Note that, within each row, (Shares Purchased)*(Stock Price) - (Options Sold)*(Option Price) = $100, since we keep our investment amount constant. "Value Added" is equal to the product of "Shares Purchased" in the prior period and "Stock Price" in the current period minus the product of "Options Sold" in the prior period and "Option Price" in the current period.'}),(0,o.jsx)(l.default,{})]}),(0,o.jsx)(s.A,{group:"BS"}),(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,o.jsx)(r.k2,{className:"BS-link",to:"/corporate_finance/black_scholes",children:"Contents"})})]})}},562:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(5043),i=n(7971),r=n(579);const s=()=>{const[e,t]=(0,a.useState)(100),[n,s]=(0,a.useState)(100),[l,o]=(0,a.useState)(.05),[c,h]=(0,a.useState)(.2),[d,u]=(0,a.useState)(1),[p,f]=(0,a.useState)(null),[m,x]=(0,a.useState)(""),g=e=>(1+(e=>{const t=e<0?-1:1,n=Math.abs(e),a=1/(1+.3275911*n);return t*(1-((((1.061405429*a-1.453152027)*a+1.421413741)*a-.284496736)*a+.254829592)*a*Math.exp(-n*n))})(e/Math.sqrt(2)))/2;return(0,r.jsxs)("div",{style:{textAlign:"center",padding:"20px",maxWidth:"400px",margin:"auto",border:"1px solid black",borderRadius:"10px"},children:[(0,r.jsx)("h2",{children:"Black-Scholes Call Option Calculator"}),(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,r.jsxs)("label",{children:["Stock Price (",(0,r.jsx)(i.A,{inline:!0,children:"\\( S \\)"}),"):",(0,r.jsx)("input",{type:"number",value:e,onChange:e=>t(parseFloat(e.target.value)),min:"0.01",step:"1"})]}),(0,r.jsxs)("label",{children:["Strike Price (",(0,r.jsx)(i.A,{inline:!0,children:"\\( K \\)"}),"):",(0,r.jsx)("input",{type:"number",value:n,onChange:e=>s(parseFloat(e.target.value)),min:"0.01",step:"1"})]}),(0,r.jsxs)("label",{children:["Annual Risk-Free Rate (",(0,r.jsx)(i.A,{inline:!0,children:"\\( r \\)"}),") (as decimal):",(0,r.jsx)("input",{type:"number",value:l,onChange:e=>o(parseFloat(e.target.value)),min:"0.0001",max:"1",step:"0.01"})]}),(0,r.jsxs)("label",{children:["Annual Volatility (",(0,r.jsx)(i.A,{inline:!0,children:"\\( \\sigma \\)"}),") (as decimal):",(0,r.jsx)("input",{type:"number",value:c,onChange:e=>h(parseFloat(e.target.value)),min:"0.01",max:"10",step:"0.01"})]}),(0,r.jsxs)("label",{children:["Time to Expiration (",(0,r.jsx)(i.A,{inline:!0,children:"\\( T-t \\)"}),") (years):",(0,r.jsx)("input",{type:"number",value:d,onChange:e=>u(parseFloat(e.target.value)),min:"0.01",step:"0.01"})]}),(0,r.jsx)("button",{onClick:()=>{if(x(""),isNaN(e)||isNaN(n)||isNaN(l)||isNaN(c)||isNaN(d)||e<=0||n<=0||c<=0||d<=0)return void x("Inputs must be positive numbers.");if(e>1e6||n>1e6)return void x("Price too high.");if(l>1)return void x("Risk-free rate too high.");if(c>10)return void x("Volatility too high.");if(d>100)return void x("Time to expiration too high.");const t=(Math.log(e/n)+(l+.5*c**2)*d)/(c*Math.sqrt(d)),a=t-c*Math.sqrt(d),i=e*g(t)-n*Math.exp(-l*d)*g(a);f(i.toFixed(4))},style:{marginTop:"10px",padding:"5px",cursor:"pointer"},children:"Calculate Price"}),m&&(0,r.jsx)("p",{style:{color:"red"},children:m}),null!==p&&(0,r.jsxs)("p",{children:["Option Price: ",(0,r.jsx)("strong",{children:p})]})]})]})}},3808:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(5043),i=n(6980),r=n(579);const s=e=>{let{mu:t,sigma:n,S0:s}=e;const l=(0,a.useRef)();return(0,a.useEffect)((()=>{const e=i.Ltv(l.current);e.selectAll("*").remove();let a=[s];for(let s=1;s<100;s++){const e=Math.sqrt(.01)*i.FE$(0,1)(),r=a[a.length-1]*Math.exp(.01*(t-.5*n**2)+n*e);a.push(r)}const r=50,o=i.m4Y().domain([0,99]).range([r,550]),c=i.m4Y().domain([0,250]).range([350,r]),h=i.n8j().x(((e,t)=>o(t))).y((e=>c(e))).curve(i.qrM);e.append("g").attr("transform","translate(0, ".concat(350,")")).call(i.l78(o)),e.append("g").attr("transform","translate(".concat(r,",0)")).call(i.V4s(c)),e.append("text").attr("x",310).attr("y",385).style("text-anchor","middle").text("t"),e.append("text").attr("x",15).attr("y",210).style("text-anchor","middle").text("X"),e.append("text").attr("x",310).attr("y",25).style("text-anchor","middle").text("Geometric Brownian Motion"),e.append("path").datum(a).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",2).attr("d",h)}),[t,n,s]),(0,r.jsx)("svg",{ref:l,width:600,height:400})}},2340:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var a=n(5043),i=n(6980),r=n(579);const s=e=>{let{columns:t,dataArrays:n}=e;const a=Math.max(...n.map((e=>e.length))),i=Array.from({length:a},((e,t)=>n.map((e=>{var n;return null!==(n=e[t])&&void 0!==n?n:""}))));return(0,r.jsxs)("table",{style:{borderCollapse:"collapse",width:"100%"},children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:t.map(((e,t)=>(0,r.jsx)("th",{style:{border:"1px solid black",padding:"4px"},children:e},t)))})}),(0,r.jsx)("tbody",{children:i.map(((e,t)=>(0,r.jsx)("tr",{children:e.map(((e,t)=>(0,r.jsx)("td",{style:{border:"1px solid gray",padding:"4px"},children:e},t)))},t)))})]})},l=400,o=20,c=30,h=50,d=50,u=252,p=100,f=100;function m(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.1;const r=1/e,s=[t],l=i.Ixc(function(e){if(!e||0===e.length)return;return e[Math.floor(Math.random()*e.length)]}([2,4,6,8,9,10,11,13,14,15,16,17,19,20,21,22,23,25,28,29,30,37,40,42,43,46,49,50,58,61,66,68,77,85,95,106,114,117,123,124]));for(let o=1;o<e;o++){const e=s[o-1],t=i.FE$.source(l)(0,1)(),c=e*Math.exp((a-.5*n**2)*r+n*Math.sqrt(r)*t);s.push(c)}return s}function x(e,t,n,a,i){const r=e=>(1+(e=>{const t=e<0?-1:1,n=Math.abs(e),a=1/(1+.3275911*n);return t*(1-((((1.061405429*a-1.453152027)*a+1.421413741)*a-.284496736)*a+.254829592)*a*Math.exp(-n*n))})(e/Math.sqrt(2)))/2,s=(Math.log(e/t)+(n+.5*i**2)*a)/(i*Math.sqrt(a)),l=s-i*Math.sqrt(a),o=r(s);return[e*r(s)-t*Math.exp(-n*a)*r(l),o]}const g=()=>{const e=(0,a.useRef)(),t=(0,a.useRef)(),[n,g]=(0,a.useState)([]),[y,b]=(0,a.useState)([]),[v,j]=(0,a.useState)([]),[w,_]=(0,a.useState)([]),[k,A]=(0,a.useState)([]),[N,S]=(0,a.useState)([]),[T,C]=(0,a.useState)([]),[M,E]=(0,a.useState)([]),[P]=(0,a.useState)((()=>m(u,p,.2))),R=P.map(((e,t)=>x(e,f,.1,1-t/u,.2))),I=(R.map((e=>e[0])),i.m4Y().domain([0,251]).range([d,500-c]));(0,a.useEffect)((()=>{const t=i.Ltv(e.current);t.selectAll("*").remove();const n=i.m4Y().domain([i.jkA(P)-5,i.T9B(P)+5]).range([l-h,o]);t.append("g").attr("transform","translate(0,".concat(l-h,")")).call(i.l78(I).tickFormat((e=>252-e))),t.append("g").attr("transform","translate(".concat(d,",0)")).call(i.V4s(n));const a=i.n8j().x((e=>I(e[0]))).y((e=>n(e[1])));t.append("path").datum([[0,f],[u,f]]).attr("fill","none").attr("stroke","purple").attr("stroke-dasharray","4").attr("stroke-width",2).attr("d",a);const r=i.n8j().x(((e,t)=>I(t))).y((e=>n(e)));t.append("path").datum(P).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",2).attr("d",r),t.append("text").attr("x",265).attr("y",385).style("text-anchor","middle").text("Days to Expiration"),t.append("text").attr("text-anchor","end").attr("y",6).attr("x",-160).attr("dy",".75em").attr("transform","rotate(-90)").text("Price"),t.append("line").style("stroke","steelblue").attr("stroke-width",2).attr("x1",50).attr("y1",10).attr("x2",65).attr("y2",10),t.append("line").attr("stroke","purple").attr("stroke-dasharray","4").attr("stroke-width",2).attr("x1",200).attr("y1",10).attr("x2",215).attr("y2",10),t.append("line").attr("stroke","red").attr("x1",350).attr("y1",14).attr("x2",350).attr("y2",2),t.append("text").attr("x",70).attr("y",10).text("Stock Price").style("font-size","15px").attr("alignment-baseline","middle"),t.append("text").attr("x",220).attr("y",10).text("Strike Price").style("font-size","15px").attr("alignment-baseline","middle"),t.append("text").attr("x",360).attr("y",10).text("Readjustment").style("font-size","15px").attr("alignment-baseline","middle");const s=t.append("line").attr("stroke","red").attr("stroke-dasharray","4").style("visibility","hidden");t.on("mousemove",(e=>{const[t]=i.WnM(e),n=Math.round(I.invert(t));n>=0&&n<u?s.attr("x1",I(n)).attr("x2",I(n)).attr("y1",o).attr("y2",l-h).style("visibility","visible"):s.style("visibility","hidden")})),t.on("mouseleave",(()=>s.style("visibility","hidden")))}),[P]),(0,a.useEffect)((()=>{const t=i.Ltv(e.current);t.selectAll(".solid-line").remove(),n.forEach((e=>{t.append("line").attr("class","solid-line").attr("x1",I(e)).attr("x2",I(e)).attr("y1",o).attr("y2",l-h).attr("stroke","red")}))}),[n]),(0,a.useEffect)((()=>{const e=i.Ltv(t.current);e.selectAll("*").remove();const a=e=>e.map((e=>"number"===typeof e?Number(e.toFixed(4)):e)),r=Array.from({length:u},((e,t)=>p*Math.exp(.1*t/u))),s=n.sort(((e,t)=>e-t)),[c,m,x,g,y,v,w]=function(e,t,n,a,i){const r=t[0],s=[[0,e]],l=a[0],o=i[0];let c=e/(o*r-l),h=e*o/(o*r-l);const d=[c],p=[h],m=[r],x=[l],g=[252];for(let u=0;u<n.length;u++){let r=n[u],l=t[r],o=a[r],f=i[r];s.push([r,h*l-c*o]),c=e/(f*l-o),h=e*f/(f*l-o),d.push(c),p.push(h),m.push(l),x.push(o),g.push(252-r)}const y=t.slice(-1)[0];f<y?(s.push([u,f*c-(c-h)*y]),x.push(y-f)):(s.push([u,h*y]),x.push(0)),m.push(y),g.push(0);let b=0;const v=s.map((e=>[e[0],e[1]-100]));return[v.map((e=>(b+=e[1],[e[0],b]))).map((e=>[e[0],e[1]+100])),v,d,p,m,x,g]}(100,P,s,R.map((e=>e[0])),R.map((e=>e[1])));A(a(x)),_(a(g)),b(a(y)),j(a(v)),S(m.map((e=>Number(e[1].toFixed(2))))),C(c.map((e=>Number(e[1].toFixed(2))))),E(w);const k=i.m4Y().domain([70,130]).range([l-h,o]);e.append("g").attr("transform","translate(0,".concat(l-h,")")).call(i.l78(I).tickFormat((e=>252-e))),e.append("g").attr("transform","translate(".concat(d,",0)")).call(i.V4s(k));const N=i.n8j().x(((e,t)=>I(t))).y((e=>k(e)));e.append("path").datum(r).attr("fill","none").attr("stroke","green").attr("stroke-width",2).attr("d",N);const T=i.n8j().x((e=>I(e[0]))).y((e=>k(e[1])));e.append("path").datum(c).attr("fill","none").attr("stroke","red").attr("stroke-width",2).attr("d",T),e.append("text").attr("x",265).attr("y",385).style("text-anchor","middle").text("Days to Expiration"),e.append("text").attr("text-anchor","end").attr("y",6).attr("x",-120).attr("dy",".75em").attr("transform","rotate(-90)").text("Value of Investment"),e.append("line").style("stroke","red").attr("stroke-width",2).attr("x1",150).attr("y1",10).attr("x2",165).attr("y2",10),e.append("line").style("stroke","green").attr("stroke-width",2).attr("x1",300).attr("y1",10).attr("x2",315).attr("y2",10),e.append("text").attr("x",170).attr("y",10).text("Hedged-Option").style("font-size","15px").attr("alignment-baseline","middle"),e.append("text").attr("x",320).attr("y",10).text("Risk-Free").style("font-size","15px").attr("alignment-baseline","middle")}),[n]);return(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"column"},children:[(0,r.jsx)("div",{style:{paddingBottom:"10px"},children:(0,r.jsx)("button",{onClick:()=>{g([])},children:"Reset Graph"})}),(0,r.jsxs)("div",{className:"graph-container1",children:[(0,r.jsx)("svg",{ref:e,width:500,height:l,onClick:t=>{const a=i.Ltv(e.current),[r]=i.WnM(t,a.node()),s=Math.round(I.invert(r));s>=0&&s<u&&!n.includes(s)&&g((e=>[...e,s].slice(0,u)))}}),(0,r.jsx)("svg",{ref:t,width:500,height:l})]}),(0,r.jsx)(s,{columns:["Days Before Expiration","Shares Purchased","Stock Price","Options Sold","Option Price","Value Added","Cumulative Value"],dataArrays:[M,w,y,k,v,N,T]})]})}},5679:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(5043),i=n(6980),r=n(579);const s=e=>{let{K:t,r:n,sigma:s,S0:l}=e;const o=(0,a.useRef)();return(0,a.useEffect)((()=>{const e=i.Ltv(o.current);e.selectAll("*").remove();const a=1/365;function r(e,t,n,a,i){if(i<=0)return Math.max(e-t,0);const r=(Math.log(e/t)+(n+.5*a**2)*i)/(a*Math.sqrt(i)),s=r-a*Math.sqrt(i);return e*c(r)-t*Math.exp(-n*i)*c(s)}function c(e){return(1+function(e){const t=.254829592,n=-.284496736,a=1.421413741,i=-1.453152027,r=1.061405429,s=e<0?-1:1,l=1/(1+.3275911*Math.abs(e));return s*(1-((((r*l+i)*l+a)*l+n)*l+t)*l*Math.exp(-e*e))}(e/Math.sqrt(2)))/2}let h=[l],d=[r(l,t,n,s,1)];for(let l=1;l<365;l++){const e=Math.sqrt(a)*i.FE$(0,1)(),o=h[h.length-1]*Math.exp((0-.5*s**2)*a+s*e);h.push(o),d.push(r(o,t,n,s,1-l*a))}const u=50,p=i.m4Y().domain([0,364]).range([u,550]),f=i.m4Y().domain([0,250]).range([350,u]),m=i.n8j().x(((e,t)=>p(t))).y((e=>f(e))).curve(i.qrM);e.append("g").attr("transform","translate(0, ".concat(350,")")).call(i.l78(p).tickFormat((e=>365-e))),e.append("g").attr("transform","translate(".concat(u,",0)")).call(i.V4s(f)),e.append("text").attr("x",310).attr("y",385).style("text-anchor","middle").text("Days to Expiration"),e.append("text").attr("text-anchor","end").attr("y",6).attr("x",-180).attr("dy",".75em").attr("transform","rotate(-90)").text("Price"),e.append("line").style("stroke","steelblue").attr("stroke-width",2).attr("x1",150).attr("y1",20).attr("x2",165).attr("y2",20),e.append("line").style("stroke","green").attr("stroke-width",2).attr("x1",300).attr("y1",20).attr("x2",315).attr("y2",20),e.append("text").attr("x",170).attr("y",20).text("Stock Price").style("font-size","15px").attr("alignment-baseline","middle"),e.append("text").attr("x",320).attr("y",20).text("Call Option Price").style("font-size","15px").attr("alignment-baseline","middle"),e.append("path").datum(h).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",2).attr("d",m),e.append("path").datum(d).attr("fill","none").attr("stroke","green").attr("stroke-width",2).attr("d",m)}),[t,n,s,l]),(0,r.jsx)("svg",{ref:o,width:600,height:400})}},5748:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});n(5043),n(8563);var a=n(5475),i=n(2638),r=n(579);const s=function(){return(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)(i.A,{group:"CorpFin"}),(0,r.jsx)("p",{className:"heading1",children:"Corporate Finance"}),(0,r.jsx)("div",{style:{display:"flex",paddingLeft:"10vw"},children:(0,r.jsx)("ul",{className:"toc-list",children:(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"CorpFin-link",to:"/corporate_finance/time_discounting",children:"Time Discounting"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/time_discounting/intro",children:"Introduction"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/time_discounting/compound_interest",children:"Compound Interest"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/time_discounting/annuities",children:"Annuities"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/time_discounting/investment_rules",children:"Investment Decision Rules"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/time_discounting/bonds",children:"Bonds"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/time_discounting/time_conversion",children:"Time Conversion"})})]}),(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"CorpFin-link",to:"/corporate_finance/risk",children:"Risk"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/risk/intro",children:"Introduction"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/risk/risk_aversion",children:"Risk Aversion Measures"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/risk/diversification",children:"Diversification"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/risk/efficient_frontier",children:"Efficient Frontier"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/risk/capm",children:"CAPM"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/risk/capm_reg",children:"CAPM and Regression"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/risk/factor_models",children:"Factor Models"})})]}),(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"CorpFin-link",to:"/corporate_finance/black_scholes",children:"Black-Scholes"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/black_scholes/preliminaries",children:"Preliminaries"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/black_scholes/stochastic_calculus",children:"Stochastic Calculus"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/black_scholes/equation",children:"Black-Scholes Equation"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/black_scholes/transformation",children:"Black-Scholes Transformation"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/black_scholes/pricing",children:"Pricing a European Call Option"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/black_scholes/statics",children:"Comparative Statics"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/black_scholes/calculator_graph",children:"Calculator/Graph"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"CorpFin-sublink",to:"/corporate_finance/black_scholes/volatility",children:"Volatility"})})]})]})})}),(0,r.jsx)(i.A,{group:"CorpFin"})]})}},5655:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var a=n(2555),i=n(5043),r=n(6980),s=n(579);const l=700,o=450,c={top:20,right:30,bottom:50,left:60};function h(){const e=(0,i.useRef)(),[t,n]=(0,i.useState)({mu:.09,sigma:.32}),[h,d]=(0,i.useState)({mu:.05,sigma:.23}),[u,p]=(0,i.useState)(-.2),[f,m]=(0,i.useState)(.03),x=(0,i.useMemo)((()=>r.m4Y().domain([0,.4]).range([c.left,l-c.right])),[]),g=(0,i.useMemo)((()=>r.m4Y().domain([0,.15]).range([o-c.bottom,c.top])),[]);(0,i.useEffect)((()=>{const t=r.Ltv(e.current);t.select(".x-axis").attr("transform","translate(0, ".concat(o-c.bottom,")")).call(r.l78(x)),t.select(".y-axis").attr("transform","translate(".concat(c.left,", 0)")).call(r.V4s(g))}),[x,g]);const y=(0,i.useMemo)((()=>r.y17(151).map((e=>{const n=e/150,a=n*t.mu+(1-n)*h.mu,i=n**2*t.sigma**2+(1-n)**2*h.sigma**2+2*n*(1-n)*u*t.sigma*h.sigma;return{mu:a,sigma:Math.sqrt(Math.max(0,i))}}))),[t,h,u]),b=(0,i.useMemo)((()=>y.reduce(((e,t)=>{if(0===t.sigma)return e;const n=(t.mu-f)/t.sigma;return n>e.sharpe?(0,a.A)((0,a.A)({},t),{},{sharpe:n}):e}),{sharpe:-1/0})),[y,f]),v=(0,i.useMemo)((()=>{if(!b.sigma)return[];const e=x.domain()[1];return[{sigma:0,mu:f},{sigma:e,mu:f+(b.mu-f)/b.sigma*e}]}),[b,f,x]),j=(e,t,n)=>Math.min(t,Math.max(e,n)),w=e=>r.$Er().on("drag",(t=>{const[n,a]=x.domain(),[i,r]=g.domain();e({sigma:j(n,a,x.invert(t.x)),mu:j(i,r,g.invert(t.y))})}));return(0,s.jsxs)("div",{children:[(0,s.jsxs)("svg",{ref:e,width:l,height:o,children:[(0,s.jsx)("g",{className:"x-axis"}),(0,s.jsx)("g",{className:"y-axis"}),(0,s.jsx)("text",{x:l/2,y:o-10,textAnchor:"middle",fontSize:12,children:"Standard Deviation (Risk)"}),(0,s.jsx)("text",{transform:"rotate(-90)",x:-o/2,y:15,textAnchor:"middle",fontSize:12,children:"Mean Return"}),(0,s.jsx)("path",{d:r.n8j().x((e=>x(e.sigma))).y((e=>g(e.mu)))(y),fill:"none",stroke:"steelblue",strokeWidth:2}),(0,s.jsx)("path",{d:r.n8j().x((e=>x(e.sigma))).y((e=>g(e.mu)))(v),fill:"none",stroke:"green",strokeWidth:2,strokeDasharray:"6,4"}),(0,s.jsx)("circle",{ref:e=>{e&&r.Ltv(e).call(r.$Er().on("drag",(e=>{const[t,n]=g.domain();m(j(t,n,g.invert(e.y)))})))},cx:x(0),cy:g(f),r:7,fill:"black"}),(0,s.jsx)("text",{x:x(0)+10,y:g(f),fontSize:11,children:"Risk-free"}),(0,s.jsx)("circle",{ref:e=>{e&&r.Ltv(e).call(w(n))},cx:x(t.sigma),cy:g(t.mu),r:7,fill:"tomato"}),(0,s.jsx)("text",{x:x(t.sigma)+10,y:g(t.mu),fontSize:11,children:"Asset 1"}),(0,s.jsx)("circle",{ref:e=>{e&&r.Ltv(e).call(w(d))},cx:x(h.sigma),cy:g(h.mu),r:7,fill:"orange"}),(0,s.jsx)("text",{x:x(h.sigma)+10,y:g(h.mu),fontSize:11,children:"Asset 2"}),b.sigma&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("circle",{cx:x(b.sigma),cy:g(b.mu),r:6,fill:"green"}),(0,s.jsx)("text",{x:x(b.sigma)-55,y:g(b.mu),fontSize:11,children:"Tangency"})]})]}),(0,s.jsxs)("div",{style:{marginTop:10},children:[(0,s.jsxs)("label",{children:["Correlation: ",(0,s.jsx)("strong",{children:u.toFixed(2)})]}),(0,s.jsx)("input",{type:"range",min:-1,max:1,step:.01,value:u,onChange:e=>p(+e.target.value),style:{width:300,marginLeft:10}})]})]})}},8413:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(5043),i=n(6980),r=n(579);const s=e=>{let{a:t}=e;const n=(0,a.useRef)();return(0,a.useEffect)((()=>{const e=20,a=30,r=30,s=40,l=20,o=222,c=i.Ltv(n.current).attr("width",500).attr("height",300).style("overflow","visible");c.selectAll("*").remove();const h=i.m4Y().domain([10,232]).range([s,500-a]),d=i.m4Y().domain([10,232]).range([300-r,e]);c.append("g").attr("transform","translate(0,".concat(d(0),")")).call(i.l78(h).tickValues([]).tickFormat((()=>""))),c.append("text").attr("x",57).attr("y",295).attr("text-anchor","middle").text("-100"),c.append("text").attr("x",248).attr("y",295).attr("text-anchor","middle").text("-1"),c.append("text").attr("x",263).attr("y",295).attr("text-anchor","middle").text("3"),c.append("text").attr("x",453).attr("y",295).attr("text-anchor","middle").text("102");const u=[{x:10,y:10},{x:232,y:232}],p=i.n8j().x((e=>h(e.x))).y((e=>d(e.y)));c.append("path").datum(u).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",2).attr("d",p);const f=[{x:l,y:0},{x:l,y:l}];c.append("path").datum(f).attr("fill","none").attr("stroke","green").attr("stroke-width",1).attr("stroke-dasharray","5,5").attr("d",p);const m=[{x:o,y:0},{x:o,y:o}];c.append("path").datum(m).attr("fill","none").attr("stroke","green").attr("stroke-width",1).attr("stroke-dasharray","5,5").attr("d",p);const x=[{x:119,y:0},{x:119,y:Math.max(119,202/(Math.pow(o,t)-Math.pow(l,t))*(Math.pow(119,t)-Math.pow(o,t))+o)}];c.append("path").datum(x).attr("fill","none").attr("stroke","green").attr("stroke-width",1).attr("stroke-dasharray","5,5").attr("d",p);const g=[{x:123,y:0},{x:123,y:Math.max(123,202/(Math.pow(o,t)-Math.pow(l,t))*(Math.pow(123,t)-Math.pow(o,t))+o)}];c.append("path").datum(g).attr("fill","none").attr("stroke","green").attr("stroke-width",1).attr("stroke-dasharray","5,5").attr("d",p);const y=i.y17(10,232,1).map((e=>({x:e,y:202/(Math.pow(o,t)-Math.pow(l,t))*(Math.pow(e,t)-Math.pow(o,t))+o}))),b=i.n8j().x((e=>h(e.x))).y((e=>d(e.y))).curve(i.qrM);c.append("path").datum(y).attr("fill","none").attr("stroke","red").attr("stroke-width",2).attr("d",b)}),[t]),(0,r.jsx)("svg",{ref:n})}},9136:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});n(5043),n(8941);var a=n(5475),i=n(2638),r=n(579);const s=function(){return(0,r.jsxs)("div",{className:"Risk",children:[(0,r.jsx)(i.A,{group:"Risk"}),(0,r.jsx)("p",{className:"heading1",children:"Risk"}),(0,r.jsx)("div",{style:{display:"flex",paddingLeft:"10vw"},children:(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Risk-link",to:"/corporate_finance/risk/intro",children:"Introduction"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"Risk-content",children:"Comparing Gambles"}),(0,r.jsx)("li",{className:"Risk-content",children:"Expected Utility"}),(0,r.jsx)("li",{className:"Risk-content",children:"Certainty Equivalent"}),(0,r.jsx)("li",{className:"TD-content",children:"Examples"})]})]}),(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Risk-link",to:"/corporate_finance/risk/risk_aversion",children:"Risk Aversion Measures"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"Risk-content",children:"Concavity"}),(0,r.jsx)("li",{className:"Risk-content",children:"Unique Preference Ordering"}),(0,r.jsx)("li",{className:"Risk-content",children:"Risk Aversion Measures"}),(0,r.jsx)("li",{className:"Risk-content",children:"Absolute vs. Relative Risk Aversion"}),(0,r.jsx)("li",{className:"Risk-content",children:"Examples"})]})]}),(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Risk-link",to:"/corporate_finance/risk/diversification",children:"Diversification"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"Risk-content",children:"Independent Gambles"}),(0,r.jsx)("li",{className:"Risk-content",children:"Risk Aversion and Diversification"}),(0,r.jsx)("li",{className:"Risk-content",children:"Examples"})]})]}),(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Risk-link",to:"/corporate_finance/risk/efficient_frontier",children:"Efficient Frontier"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"Risk-content",children:"Portfolio Returns"}),(0,r.jsx)("li",{className:"Risk-content",children:"Diversification"}),(0,r.jsx)("li",{className:"Risk-content",children:"Mean and Variance Combinations"}),(0,r.jsx)("li",{className:"Risk-content",children:"Many Assets"}),(0,r.jsx)("li",{className:"Risk-content",children:"Risk-Free Asset"})]})]}),(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Risk-link",to:"/corporate_finance/risk/capm",children:"CAPM"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"Risk-content",children:"CAPM Assumptions"}),(0,r.jsx)("li",{className:"Risk-content",children:"Optimal Portfolio"}),(0,r.jsx)("li",{className:"Risk-content",children:"Market Portfolio"}),(0,r.jsx)("li",{className:"Risk-content",children:"Beta"}),(0,r.jsx)("li",{className:"Risk-content",children:"Diversifiable vs. Systematic Risk"}),(0,r.jsx)("li",{className:"Risk-content",children:"Capital Market Line and Security Market Line"})]})]}),(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Risk-link",to:"/corporate_finance/risk/capm_reg",children:"CAPM and Regression"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"Risk-content",children:"Estimating Beta"}),(0,r.jsx)("li",{className:"Risk-content",children:"What about Alpha?"}),(0,r.jsx)("li",{className:"Risk-content",children:"Testing the CAPM"}),(0,r.jsx)("li",{className:"Risk-content",children:"Limitations"})]})]}),(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Risk-link",to:"/corporate_finance/risk/factor_models",children:"Factor Models"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"Risk-content",children:"Fama-French Three-Factors"}),(0,r.jsx)("li",{className:"Risk-content",children:"Constructing Factors"}),(0,r.jsx)("li",{className:"Risk-content",children:"Interpreting Model Coefficients"}),(0,r.jsx)("li",{className:"Risk-content",children:"Example"}),(0,r.jsx)("li",{className:"Risk-content",children:"Other Factors"})]})]})]})}),(0,r.jsx)(i.A,{group:"Risk"})]})}},6007:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var a=n(5043),i=(n(8941),n(4257)),r=n(7971),s=n(2638),l=n(8413),o=n(2189),c=n(579);const h=function(){const[e,t]=(0,a.useState)(.51),n=20,h=222;return(0,c.jsxs)("div",{className:"Risk",children:[(0,c.jsx)(s.A,{group:"Risk"}),(0,c.jsx)("p",{className:"heading1",children:"Introduction"}),(0,c.jsxs)(i.A,{children:[(0,c.jsx)("p",{className:"heading2",children:"Comparing Gambles"}),(0,c.jsxs)("p",{children:["Suppose I offer you a gamble: We flip a coin. If it's heads, I pay you $3. If it's tails, you pay me $1. This might seem like a good deal to you. The expected value of taking on this gamble, or the sum of the product of each outcome and its probability, is ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{2}(3) + \\frac{1}{2}(-1) = 1 \\)"}),", which is positive. Now suppose we change the gamble. Instead of paying you $3 for a heads, I offer $102 for a heads, but you must pay me $100 for a tails. Note that we have not changed the expected value of the gamble since ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{2}(102) + \\frac{1}{2}(-100) = 1 \\)"}),". However, the stakes of this second gamble feel very different from the first gamble."]}),(0,c.jsx)("p",{children:"If we simply compare the gambles based on their expected values, we get that we should equally prefer the two gambles. This doesn't seem right. Many people would likely accept the first gamble, while few would likely accept the second. A more abstract way to compare these gambles would be to ask which gamble would make you better off, or which one would give you more utility. The idea here will be to take the dollar amounts from the gambles and transform them using a function we come up with that we think provides a better ranking of how different payouts/losses actually increase/decrease our overall welfare."}),(0,c.jsx)("p",{children:"Before we crossover into thinking about things in terms of utility, I should note that once we transform the dollar amounts, units become meaningless. The numbers that our utility function spits out have only relational value. It does not matter if the utility of a dollar amount we put into our function is positive, negative, or zero. All we care about is whether the utility from one gamble is less or greater than the utility from another gamble."}),(0,c.jsx)("p",{className:"heading2",children:"Expected Utility"}),(0,c.jsxs)("p",{children:["So far, we've decided we want to construct some function ",(0,c.jsx)(r.A,{inline:!0,children:"\\( u(x) \\)"})," that will take in dollar amounts (",(0,c.jsx)(r.A,{inline:!0,children:"\\( x \\)"}),") and give us back a number that tells us whether we like that dollar amount more or less than a different dollar amount. Now, we need to think about what properties this function should have. First, we want this function to capture the idea that I always prefer more money over less money. Thus, for any two dollar amounts ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\$\\underline{x} \\)"})," and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\$\\bar x \\)"}),", if ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\$\\underline{x} <  \\$\\bar x  \\)"}),", then ",(0,c.jsx)(r.A,{inline:!0,children:"\\( u(\\bar x) \\)"})," should give us a number that is greater than ",(0,c.jsx)(r.A,{inline:!0,children:"\\(  u(\\underline{x}) \\)"}),". We call this property of our function monotonicity."]}),(0,c.jsxs)("p",{children:["At this point, you may be wondering what good the new ordering provided by our utility function will do for us. If we require our utility function to be monotonic, then it will simply tell us that we prefer a higher dollar amount over a lower dollar amount. There is no new information to be gleaned from this type of utility comparison. Instead, we want our utility function to be useful when comparing different gambles, or when there is some outcome uncertainty involved. Rather than comparing gambles using their expected values, we'll compare gambles using expected utilities. The expected utility of a gamble is the sum of the product of the utility from each outcome and the outcome's probability. In terms of the two gambles we're considering, the expected utility of the first is ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{2}u(3) + \\frac{1}{2}u(-1) \\)"}),", and the expected utility of the second is ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{2}u(102) + \\frac{1}{2}u(-100) \\)"}),"."]}),(0,c.jsxs)("p",{children:["Now, let's think about what the functional form of ",(0,c.jsx)(r.A,{inline:!0,children:"\\( u( x) \\)"})," should look like. The simplist choice here would be to require ",(0,c.jsx)(r.A,{inline:!0,children:"\\( u( x) \\)"})," to be linear, or take the form ",(0,c.jsx)(r.A,{inline:!0,children:"\\( u(x) = ax + b \\)"})," for some constants ",(0,c.jsx)(r.A,{inline:!0,children:"\\( a \\)"})," and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( b \\)"}),". Let's see what this would do to the expected utility of our two gambles.",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                \\frac{1}{2}u(3) + \\frac{1}{2}u(-1) &= \\frac{1}{2}(3a + b) + \\frac{1}{2}(-a + b) = a + b\\\\\n                \\frac{1}{2}u(102) + \\frac{1}{2}u(-100) &= \\frac{1}{2}(102a + b) + \\frac{1}{2}(-100a + b) = a+b\n                \\end{aligned}\n              \\]"}),"We haven't made much progress here\u2014our expected utility comparison still tells us the two gambles should be equally preferred. More generally, we can show that any linear utility function will not change the ranking created by expected value comparisons."]}),(0,c.jsxs)("p",{children:["To get a different expected utility for the two gambles, we need to introduce some curvature to our utility function. Let's graph a linear utility function as our baseline and consider what happens when we make the function more concave (n-shaped) or more convex (u-shaped). To keep things simple, we'll use ",(0,c.jsx)(r.A,{inline:!0,children:"\\( u(x) =x \\)"})," for our linear function, and we'll make sure the utilities from the second gamble stay the same as we add curvature (i.e., we impose ",(0,c.jsx)(r.A,{inline:!0,children:"\\( u(-100) = -100 \\)"})," and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( u(102) = 102 \\)"}),"). Thus, the only thing that will change are the utilities from the first gamble: ",(0,c.jsx)(r.A,{inline:!0,children:"\\( u(-1) \\)"})," and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( u(3) \\)"}),"."]}),(0,c.jsxs)("div",{className:"graph-container",children:[(0,c.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,c.jsx)(l.default,{a:e}),(0,c.jsx)("div",{className:"input-bars",children:(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",paddingTop:"2px"},children:[(0,c.jsx)("button",{onClick:()=>t((e=>Math.min(2.91,e+.1))),children:"\u25c0"}),(0,c.jsx)("span",{style:{margin:"0 10px"},children:"Concavity"}),(0,c.jsx)("button",{onClick:()=>t((e=>Math.max(-.29,e-.1))),children:"\u25b6"})]})})]}),(0,c.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,c.jsxs)("p",{children:["Gamble 1: ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{2}\\left(u(3) + u(-1)\\right) = \\)"}),(0,c.jsx)("span",{children:e<=.012&&e>=-.019?(.5*(202/(Math.pow(h,e)-Math.pow(n,e))*(Math.pow(119,e)-Math.pow(h,e))+h+(202/(Math.pow(h,e)-Math.pow(n,e))*(Math.pow(123,e)-Math.pow(h,e))+h))-120).toFixed(0):(.5*(202/(Math.pow(h,e-.01)-Math.pow(n,e-.01))*(Math.pow(119,e-.01)-Math.pow(h,e-.01))+h+(202/(Math.pow(h,e-.01)-Math.pow(n,e-.01))*(Math.pow(123,e-.01)-Math.pow(h,e-.01))+h))-120).toFixed(0)})]}),(0,c.jsxs)("p",{children:["Gamble 2: ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{2}\\left(u(102) + u(-100)\\right) = \\)"}),(0,c.jsx)("span",{children:1})]})]})]}),(0,c.jsx)("p",{children:"Pay attention to how the expected utility of gamble 1 changes relative to the expected utility of gamble 2 as you increase or decrease concavity. When we make the utility function concave (i.e., increase concavity until the red line is above the blue line), the expected utility of the first gamble is greater than the expected utility of the second gamble. We say that a person whose preferences are represented by this type of utility function is risk averse. When we make the utility function convex (i.e., decrease concavity until the red line is below the blue line), the expected utility of the first gamble is less than the expected utility of the second gamble. We say that a person whose preference are represented by this type of utility function is risk seeking. If we get rid of all curvature and consider linear utility, we say that the person is risk neutral."}),(0,c.jsx)("p",{children:"So far, we've explored how the concept of utility can help us distinguish between gambles with the same expected value but different outcome distributions. We've also seen how risk averse behavior can be modeled by a concave utility function, and risk seeking behavior can be modeled by a convex utility function. In the next section, we'll formalize this relationship between the curvature of the utility function and risk aversion."}),(0,c.jsx)("p",{className:"heading2",children:"Certainty Equivalent"}),(0,c.jsx)("p",{children:"Given a utility function describing an individual's risk preferences, we can determine which gambles they prefer by comparing expected utilities. However, as mentioned before, the units of expected utility are not economically signficant by themselves. Another way to determine the value of a gamble is to calculate its certainty equivalent, or the amount of money that the individual would be willing to pay to take on the gamble."}),(0,c.jsxs)("p",{children:["To do this, we want to find what certain payoff generates the same expected utility as the gamble. Suppose we are considering an individual whose risk preferences are represented by the utility function ",(0,c.jsx)(r.A,{inline:!0,children:"\\( u(x)=\\log (x + 200) \\)"}),". The expected utility of the gambles introduced at the beginning is given by",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                EU_1 &= \\frac{1}{2}u(3) +  \\frac{1}{2}u(-1)   \\\\ \n                &= \\frac{1}{2}\\left(\\log(203) +  \\log(199)\\right)  \\approx 5.303255 \\\\ \\\\\n                EU_2 &= \\frac{1}{2}u(102) +  \\frac{1}{2}u(-100)  \\\\\n                &= \\frac{1}{2}\\left(\\log(302) +  \\log(100) \\right) \\approx 5.157799\n                \\end{aligned}\n              \\]"}),"Now, we can use the inverse of the utility function to find out what certain dollar amount will yield these expected utilities.",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                u(CE_1) &= \\log (CE_1 + 200) = 5.303255 \\\\ \n                \\Leftrightarrow CE_1 &= e^{5.303255} - 200 \\approx $0.99 \\\\ \\\\\n                u(CE_2) &= \\log(CE_2 + 200) = 5.157799 \\\\\n                \\Leftrightarrow CE_2 &= e^{5.157799} - 200 \\approx -$26.22\n                \\end{aligned}\n              \\]"}),"Thus, a person whose risk preferences are captured by this utility function would be indifferent between receiving $0.99 and taking on gamble 1. This person would also be indifferent between losing $26.22 and being forced to take on gamble 2."]}),(0,c.jsxs)("p",{children:["In general, the certainty equivalent for a gamble with expected utility ",(0,c.jsx)(r.A,{inline:!0,children:"\\( EU \\)"})," is given by",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                CE = u^{-1}(EU)\n                \\end{aligned}\n              \\]"}),"where ",(0,c.jsx)(r.A,{inline:!0,children:"\\( u^{-1}(x)\\)"})," is the inverse function of ",(0,c.jsx)(r.A,{inline:!0,children:"\\( u(x) \\)"}),"."]}),(0,c.jsx)("p",{className:"heading2",children:"Examples"}),(0,c.jsx)(o.A,{solution:(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("p",{children:["We calculate the expected value of a gamble by multiplying each outcome by its probability and taking the sum.",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                    \\begin{aligned}\n                    EV_1 &= \\frac{1}{3}(81) +  \\frac{1}{3}(9) +  \\frac{1}{3}(0) = 30 \\\\ \\\\\n                    EV_2 &= \\frac{1}{2}(36) +  \\frac{1}{2}(16)  = 26\n                    \\end{aligned}\n                  \\]"}),"Thus, gamble 1 has the higher expected value. We calculate the expected utility of a gamble by multiplying the utility of each outcome by its probability and taking the sum.",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                    \\begin{aligned}\n                    EU_1 &= \\frac{1}{3}u(81) +  \\frac{1}{3}u(9) +  \\frac{1}{3}u(0)  \\\\\n                    &= \\frac{1}{3}\\sqrt{81} +  \\frac{1}{3}\\sqrt{9} +  \\frac{1}{3}\\sqrt{0} = 4 \\\\ \\\\\n                    EU_2 &= \\frac{1}{2}u(36) +  \\frac{1}{2}u(16)  \\\\\n                    &= \\frac{1}{2}\\sqrt{36} +  \\frac{1}{2}\\sqrt{16}  = 5\n                    \\end{aligned}\n                  \\]"}),"Thus, gamble 2 has the higher expected utility. The function ",(0,c.jsx)(r.A,{inline:!0,children:"\\( u(x)=\\sqrt{x} \\)"})," is concave, so it represents risk-averse preferences."]})}),children:(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Example 1:"})," Consider two gambles: the first pays $81 with probability ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{3} \\)"}),", $9 with probability ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{3} \\)"}),", and $0 with probability ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{3} \\)"}),". The second pays $36 with probability ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{2} \\)"})," and $16 with probability ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{2} \\)"}),". Which gamble has the higher expected value? Given the utility function ",(0,c.jsx)(r.A,{inline:!0,children:"\\( u(x) = \\sqrt{x} \\)"}),", which gamble has the higher expected utility? What type of preferences does this utility function represent?"]})}),(0,c.jsx)(o.A,{solution:(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("p",{children:["First, let's calculate the expected utility of this gamble.",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                    \\begin{aligned}\n                    EU &= \\frac{1}{2}u(50) +  \\frac{1}{4}u(-10) +  \\frac{1}{4}u(0) \\\\\n                    &=  \\frac{100}{2}\\left(1-e^{\\frac{-1}{2}}\\right) +  \\frac{100}{4}\\left(1-e^{\\frac{1}{10}}\\right) \\approx 17.044194\n                    \\end{aligned}\n                  \\]"}),"Now, we solve the following to get the certainty equivalent:",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                    \\begin{aligned}\n                        u(CE) &= EU \\\\\n                        100\\left(1 - e^{\\frac{-CE}{100}}\\right) &= EU \\\\\n                        CE &= -100\\log\\left(1 - \\frac{EU}{100}\\right) \\\\\n                        &= -100\\log\\left(1 - \\frac{17.044194}{100}\\right) \\approx $18.69\n                    \\end{aligned}\n                  \\]"})]})}),children:(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Example 2:"})," How much would someone whose risk preferences are represented by the utility function ",(0,c.jsx)(r.A,{inline:!0,children:"\\( u(x)=100\\left(1 - e^{\\frac{-x}{100}}\\right) \\)"})," be willing to pay for a gamble that offers $50 with probabiliy ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{2} \\)"}),", -$10 with probability ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{4} \\)"}),", and $0 with probability ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{4} \\)"}),"?"]})})]}),(0,c.jsx)(s.A,{group:"Risk"})]})}},8986:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});n(5043),n(8941);var a=n(5475),i=n(4257),r=n(7971),s=n(2638),l=n(2189),o=n(579);const c=function(){return(0,o.jsxs)("div",{className:"Risk",children:[(0,o.jsx)(s.A,{group:"Risk"}),(0,o.jsx)("p",{className:"heading1",children:"Risk Aversion Measures"}),(0,o.jsxs)(i.A,{children:[(0,o.jsx)("p",{className:"heading2",children:"Concavity"}),(0,o.jsx)("p",{children:"In the last section, we established that a concave utility function represents risk-averse preferences. Now we want to think about how to compare the amount of risk aversion implied by different utility functions. Our goal here will be to come up with a measure for risk aversion that increases with the concavity of the utility function and allows us to make meaningful comparisons across different utility functions."}),(0,o.jsxs)("p",{children:["Recall that the concavity of a function is measured by the function's second derivative. A negative second derivative implies a concave function, a zero second derivative implies a linear function, and a positive second derivative implies a convex function. Since we want our measure for risk aversion to increase as the function becomes more concave, we'll start by simply taking the negative of the second derivative.",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                -u''(x)\n              \\]"})]}),(0,o.jsx)("p",{className:"heading2",children:"Unique Preference Ordering"}),(0,o.jsxs)("p",{children:["It would be nice if our measure for risk aversion uniquely determined a preference ordering. In other words, for two utility functions ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u_1 \\)"})," and ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u_2 \\)"}),", and two gambles ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\tilde x\\)"})," and ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\tilde y \\)"}),", we want the property that if ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u_1\\)"})," and ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u_2\\)"})," have the same risk aversion measure, then ",(0,o.jsx)(r.A,{inline:!0,children:"\\( E[u_1(\\tilde x)] > E[u_1(\\tilde y)]  \\implies E[u_2(\\tilde x)] > E[u_2(\\tilde y)] \\)"}),". In other words, if I prefer gamble ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\tilde x \\)"})," under utility ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u_1 \\)"})," and ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u_1 \\)"})," has the same risk aversion measure as ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u_2 \\)"}),", then I must also prefer gamble ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\tilde x \\)"})," under utility ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u_2 \\)"}),". What we have so far does not guarantee this property. To see this, consider the following utility functions:",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n              \t\\begin{aligned}\n                &u_1(z) = \\sqrt{x} &u_2(z) &= \\sqrt{x} + x \\\\\n                &u_1'(z) = \\frac{1}{2\\sqrt{x}} &u_2'(z) &= \\frac{1}{2\\sqrt{x}} + 1  \\\\\n                &u_1''(z) = \\frac{-1}{4x^{3/2}}  &u_2''(z) &= \\frac{-1}{4x^{3/2}} \n                \\end{aligned}\n              \\]"}),"These functions have the same second derivative, but they do not create the same preference ordering. Consider two gambles: The first offers $1 with probability 1/4 and $4 with probability 3/4. The second offers $1 with probability 1/2, $4 with probability 7/24, and $9 with probability 5/24. The expected utility of these gambles under the two different utility functions is",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n              \t\\begin{aligned}\n                \\frac{1}{4}u_1(1) + \\frac{3}{4}u_1(4) = \\frac{1}{4}(1) + \\frac{3}{4}(2) = 1.75 \\\\\n                \\frac{1}{2}u_1(1) + \\frac{7}{24}u_1(4) + \\frac{5}{24}u_1(9) = \\frac{1}{2}(1) + \\frac{7}{24}(2) + \\frac{5}{24}(3) \\approx 1.71 \\\\\n                \\frac{1}{4}u_2(1) + \\frac{3}{4}u_2(4) = \\frac{1}{4}(1 + 1) + \\frac{3}{4}(2 + 4) = 5 \\\\\n                \\frac{1}{2}u_2(1) + \\frac{7}{24}u_2(4) + \\frac{5}{24}u_2(9) = \\frac{1}{2}(1 + 1) + \\frac{7}{24}(2 + 4) + \\frac{5}{24}(3 + 9) = 5.25 \\\\              \n                \\end{aligned}\n              \\]"}),"Since ",(0,o.jsx)(r.A,{inline:!0,children:"\\( 1.75 > 1.71 \\)"}),", we prefer gamble 1 under utility ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u_1 \\)"}),". Since ",(0,o.jsx)(r.A,{inline:!0,children:"\\( 5 < 5.25 \\)"}),", we prefer gamble 2 under utility ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u_2 \\)"}),". Although these two utility functions have the same second derivative, the first derivative of ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u_2 \\)"})," is greater than the first derivative of ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u_1 \\)"}),". If we want a given risk-aversion value to pin down a unique preference ordering, our measure for risk aversion must be some function of the first derivative and the second derivative.",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n              \tf(u'(x), u''(x))\n              \\]"})]}),(0,o.jsxs)("p",{children:["What should this function look like? Recall from the previous section that any affine transformation of a utility function preserves the preference ordering. Given a utility function ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u(x) \\)"}),", this means that all functions of the form ",(0,o.jsx)(r.A,{inline:!0,children:"\\( au(x) + b \\)"})," will create the same preference ordering as ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u \\)"}),". Thus, to ensure that our risk aversion measure uniquely determines preference orderings, we want our function to produce the same value for any affine transformation of ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u \\)"}),". Put differently, we want",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n              \tf(u'(x), u''(x)) = f(au'(x), au''(x))\n              \\]"}),"for any constant ",(0,o.jsx)(r.A,{inline:!0,children:"\\( a \\)"}),". This implies that our risk aversion measure should be some ratio of the two derivatives."]}),(0,o.jsx)("p",{className:"heading2",children:"Risk Aversion Measures"}),(0,o.jsxs)("p",{children:["To this point, we've been thinking about gambles solely in terms of the payouts offered in the gamble itself. But, our willingness to take on a gamble might depend not only on the payouts in the gamble itself but also on how much money we already have. If I only start out with $50, then a gamble promising $100 or -$50 with equal probability might seem riskier than if I start out with $1 million. In this way, the relavant measure for the expected utility of a gamble ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\tilde x \\)"})," given initial wealth ",(0,o.jsx)(r.A,{inline:!0,children:"\\( w \\)"})," should be",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n              \tE[u(w + \\tilde x)]\n              \\]"}),"Thus, when we're measuring risk aversion, we want to know an individual's taste for risk given their initial wealth level."]}),(0,o.jsxs)("p",{children:["Let's introduce two measures of risk aversion. Absolute risk aversion is measured as",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n              \tA(w) = -\\frac{u''(w)}{u'(w)}\n              \\]"}),"Relative risk aversion is measured as",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n              \t\\lambda(w) = -w\\frac{u''(w)}{u'(w)}\n              \\]"}),"Notice that ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\lambda(w) = wA(w) \\)"}),". To understand the difference between these measures, let's first create a utility function for each measure that ensures the measure remains constant over wealth levels."]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"CARA Utility."})," For absolute risk aversion, we want to find a function that makes it so ",(0,o.jsx)(r.A,{inline:!0,children:"\\( A \\)"})," does not depend on ",(0,o.jsx)(r.A,{inline:!0,children:"\\( w \\)"}),". If we let ",(0,o.jsx)(r.A,{inline:!0,children:"\\( A \\)"})," be a constant, we have",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n              \t&A = -\\frac{u''(w)}{u'(w)} \\\\\n              \t\\Leftrightarrow &\\log(u'(w))' = -A\n              \t\\end{aligned}\n              \\]"}),"Now we can take the integral of both sides to get",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n              \t&\\log(u'(w)) = -Aw + C_0 \\\\ \n              \t\\Leftrightarrow &u'(w) = e^{-Aw + C_0}\n              \t\\end{aligned}\n              \\]"}),"We can integrate again to get",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n\t\t\t\tu(w) = \\frac{-e^{-Aw + C_0}}{A} + C_1\n              \t\\end{aligned}\n              \\]"}),"If we let ",(0,o.jsx)(r.A,{inline:!0,children:"\\( C_0 = 0 \\)"})," and ",(0,o.jsx)(r.A,{inline:!0,children:"\\( C_1 = \\frac{1}{A} \\)"}),", we get",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n\t\t\t\tu(w) = \\frac{1-e^{-Aw}}{A}\n              \t\\end{aligned}\n              \\]"}),"Note that the function is not defined if ",(0,o.jsx)(r.A,{inline:!0,children:"\\( A = 0 \\)"}),". But, using L'H\xf4pital's rule, we have that",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n\t\t\t\t\\lim_{A \\to 0} \\frac{1-e^{-Aw}}{A} = \\lim_{A \\to 0} we^{-Aw} = w\n              \t\\end{aligned}\n              \\]"}),"Thus, we'll define our utility function with constant absolute risk aversion (CARA) as",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n\t\t\t\tu(w) = \n\t\t\t\t\\begin{cases}\n\t\t\t\t\t\\frac{1-e^{-Aw}}{A} & \\text{if } A \\neq 0 \\\\\n\t\t\t\t\tw & \\text{if } A = 0 \n\t\t\t\t\\end{cases}\n              \t\\end{aligned}\n              \\]"})]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"CRRA Utility."})," Now let's do the same thing with relative risk aversion. If we let ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\lambda \\)"})," be a constant, we have",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n              \t\\begin{aligned}\n              \t\\lambda = -w\\frac{u''(w)}{u'(w)} \\\\\n              \t\\Leftrightarrow \\left(\\log(u'(w))\\right)' = \\frac{-\\lambda}{w}\n              \t\\end{aligned}\n              \\]"}),"Now we can take the integral of both sides to get",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n              \t\\begin{aligned}\n\t\t\t\t\\log(u'(w)) = \\log\\left(w^{-\\lambda}\\right) + C_0 \\\\\n\t\t\t\t\\Leftrightarrow u'(w) = e^{C_0}w^{-\\lambda}\n              \t\\end{aligned}\n              \\]"}),"We can integrate again to get",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n\t\t\t\tu(w) = \\frac{e^{C_0}w^{1-\\lambda}}{1-\\lambda} + C_1\n              \\]"}),"If we let ",(0,o.jsx)(r.A,{inline:!0,children:"\\( C_0 = 0 \\)"})," and ",(0,o.jsx)(r.A,{inline:!0,children:"\\( C_1 =\\frac{-1}{1-\\lambda}\\)"}),", we get",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n\t\t\t\tu(w) = \\frac{w^{1-\\lambda} - 1}{1-\\lambda}\n              \\]"}),"Note that this function is not defined if ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\lambda = 1 \\)"}),". But, using L'H\xf4pital's rule, we have that",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n\t\t\t\t\\lim_{\\lambda \\to 1} \\frac{w^{1-\\lambda} - 1}{1-\\lambda} = \\log(w)\n              \\]"}),"Thus, we'll define our utility function with constant relative risk aversion (CRRA) as",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n\t\t\t\tu(w) = \n\t\t\t\t\\begin{cases}\n\t\t\t\t\t\\frac{w^{1-\\lambda} - 1}{1-\\lambda} & \\text{if } \\lambda \\neq 1 \\\\\n\t\t\t\t\t\\log(w) & \\text{if } \\lambda = 1\n\t\t\t\t\\end{cases}\n              \t\\end{aligned}\n              \\]"})]}),(0,o.jsx)("p",{className:"heading2",children:"Absolute vs. Relative Risk Aversion"}),(0,o.jsxs)("p",{children:["To compare our two measures of risk aversion, we need a way to convert utility back into dollar amounts. We can do this using a certainty equivalent. Think of a certainty equivalent as the amount of money you would be willing to pay to take on a specified gamble ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\tilde x \\)"})," given that your preferences follow some utility function ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u \\)"})," and you have starting wealth ",(0,o.jsx)(r.A,{inline:!0,children:"\\( w \\)"}),". We can write this in the following way:",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n\t\t\t\t&E[u(w+\\tilde x)] = u(w + C) \\\\\n\t\t\t\t&\\Leftrightarrow C(w) = u^{-1}\\left(E\\left[u(w + \\tilde x)\\right]\\right) - w\n              \t\\end{aligned}\n              \\]"}),"where ",(0,o.jsx)(r.A,{inline:!0,children:"\\( C \\)"})," is the certainty equivalent. Note that we can take the inverse of CARA utility to get",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n\t\t\t\tu^{-1}(w) = \n\t\t\t\t\\begin{cases}\n\t\t\t\t\t\\frac{-\\log\\left(1-Aw\\right)}{A} & \\text{if } A \\neq 0 \\\\\n\t\t\t\t\tw & \\text{if } A = 0 \n\t\t\t\t\\end{cases}\n              \t\\end{aligned}\n              \\]"}),"and the inverse of CRRA utility to get",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n\t\t\t\tu^{-1}(w) = \n\t\t\t\t\\begin{cases}\n\t\t\t\t\t\\left(w(1-\\lambda) +1\\right)^{\\frac{1}{1-\\lambda}} & \\text{if } \\lambda \\neq 1 \\\\\n\t\t\t\t\te^w & \\text{if } \\lambda = 1\n\t\t\t\t\\end{cases}\n              \t\\end{aligned}\n              \\]"}),"Then, we can find the certainty equivalent under CARA utility as",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n\t\t\t\tC_A = \n\t\t\t\t\\begin{cases}\n\t\t\t\t\t\\frac{-\\log\\left(E\\left[e^{-A\\tilde x}\\right]\\right)}{A} & \\text{if } A \\neq 0 \\\\\n\t\t\t\t\tE[\\tilde x] & \\text{if } A = 0 \n\t\t\t\t\\end{cases}\n              \t\\end{aligned}\n              \\]"}),"and the certainty equivalent under CRRA utility as",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n\t\t\t\tC_{\\lambda}(w) = \n\t\t\t\t\\begin{cases}\n\t\t\t\t\t\\left(E\\left[(w+\\tilde x)^{1-\\lambda}\\right]\\right)^{\\frac{1}{1 - \\lambda}} - w & \\text{if } \\lambda \\neq 1 \\\\\n\t\t\t\t\te^{E[\\log(w+\\tilde x)]} - w & \\text{if } \\lambda = 1\n\t\t\t\t\\end{cases}\n              \t\\end{aligned}\n              \\]"}),"Note that the certainty equivalent under CARA utility does not depend on wealth. This means someone with constant absolute risk aversion does not change their taste for risk as they get richer. In contrast, the certainty equivalent under CRRA utility does depend on wealth. This means that someone with constant relative risk aversion might value the same gamble differently depending on whether they have a lot of initial wealth or only a little initial wealth."]}),(0,o.jsxs)("p",{children:["Now, instead of defining our certainty equivalent in dollar terms, let's think about a certainty equivalent in wealth-percentage terms. First, we'll need to redefine our gamble. Before, we thought of a gamble as a distribution of possible dollar payouts. Now, we want to think of a gamble as a distribution of percentages by which our initial wealth could change. For example, a gamble in this context could be a deal in which, with equal probability, you either get half of however much money you already have or you give up a fourth of however much money you already have. In this case, the certainty equivalent is the percentage change in wealth that would give you the same utility as undertaking the gamble. This gives us",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n\t\t\t\t&E[u(w\\tilde x)] = u(wc) \\\\\n\t\t\t\t&\\Leftrightarrow c(w) = \\frac{u^{-1}\\left(E\\left[u(w \\tilde x)\\right]\\right)}{w} \n              \t\\end{aligned}\n              \\]"}),"where ",(0,o.jsx)(r.A,{inline:!0,children:"\\( c \\)"})," is the percentage-change certainty equivalent. The percentage-change certainty equivalent under CARA utility is given by",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n\t\t\t\tc_A(w) = \n\t\t\t\t\\begin{cases}\n\t\t\t\t\t\\frac{-\\log\\left(E\\left[e^{-Aw\\tilde x}\\right]\\right)}{Aw} & \\text{if } A \\neq 0 \\\\\n\t\t\t\t\tE[\\tilde x] & \\text{if } A = 0 \n\t\t\t\t\\end{cases}\n              \t\\end{aligned}\n              \\]"}),"and the percentage-change certainty equivalent under CRRA utility is given by",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n\t\t\t\tc_{\\lambda} = \n\t\t\t\t\\begin{cases}\n\t\t\t\t\t\\left(E\\left[\\tilde x^{1-\\lambda}\\right]\\right)^{\\frac{1}{1-\\lambda}} & \\text{if } \\lambda \\neq 1 \\\\\n\t\t\t\t\te^{E[\\log(\\tilde x)]} & \\text{if } \\lambda = 1\n\t\t\t\t\\end{cases}\n              \t\\end{aligned}\n              \\]"}),"Note that the percentage-change certainty equivalent under CRRA utility does not depend on wealth. This means that someone with constant relative risk aversion does not change their preferences about wealth-percentage gambles as their wealth increases. For example, suppose I have $100, and I am indifferent between receiving $10 with certainty or receiving $50 with probability 1/2. Now, suppose my wealth increases to $1,000,000. If I have constant relative risk aversion, I now must be indifferent between receiving $100,000 with certainty or receiving $500,000 with probability 1/2. In contrast, the percentage-change certainty equivalent under CARA utility does depend on wealth."]}),(0,o.jsx)("p",{className:"heading2",children:"Examples"}),(0,o.jsx)(l.A,{solution:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("p",{children:["Linear utility takes the form ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u(z) = az + b\\)"}),". We'll use this form to show that ",(0,o.jsx)(r.A,{inline:!0,children:"\\( E[u(\\tilde x)] - E[u(\\tilde y)] >0 \\)"}),".",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                E[u(\\tilde x)] - E[u(\\tilde y)] &= E[a\\tilde x + b] - E[a\\tilde y + b] \\\\\n                &= a\\left(E[\\tilde x] - E[\\tilde y]\\right) > 0\n                \\end{aligned}\n              \\]"}),"We can show the general result using the same logic. Suppose we have an arbitrary utility function ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u(z)\\)"})," and two independent random variables ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\tilde x \\)"})," and ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\tilde y \\)"})," with ",(0,o.jsx)(r.A,{inline:!0,children:"\\( E[u(\\tilde x)] >E[u(\\tilde y)] \\)"}),". An affine transformation of ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u \\)"})," simply means we plug ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u \\)"})," into a function of the form ",(0,o.jsx)(r.A,{inline:!0,children:"\\( f(z) = az + b \\)"}),".",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                E[f(u(\\tilde x))] - E[f(u(\\tilde y))] &= E[a u(\\tilde x) + b] - E[a u(\\tilde y) + b] \\\\\n                &= a\\left(E[u(\\tilde x)] - E[u(\\tilde y)]\\right) > 0\n                \\end{aligned}\n              \\]"})]})}),children:(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Example 1:"})," Given two independent random variables ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\tilde x \\)"})," and ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\tilde y \\)"}),", show that, if ",(0,o.jsx)(r.A,{inline:!0,children:"\\( E[\\tilde x] > E[\\tilde y] \\)"}),", then ",(0,o.jsx)(r.A,{inline:!0,children:"\\( E[u(\\tilde x)] > E[u(\\tilde y)] \\)"})," for any linear utility function ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u \\)"}),". In other words, show that linear utility yields the same preferences as an expected value comparison. More generally, show that any affine transformation of a utility function preserves the same preference ordering."]})}),(0,o.jsx)(l.A,{solution:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("p",{children:[(0,o.jsx)(r.A,{inline:!0,children:"\\( \\lambda_1(w) = \\lambda_2(w) \\)"})," or ",(0,o.jsx)(r.A,{inline:!0,children:"\\( A_1(w) = A_2(w) \\)"})," implies",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n              \t&\\frac{u_1''(w)}{u_1'(w)} = \\frac{u_2''(w)}{u_2'(w)} \\\\\n              \t\\Leftrightarrow &\\log(u_1'(w))' = \\log(u_2'(w))'\n              \t\\end{aligned}\n              \\]"}),"Now, we can take an integral of both sides to get",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                &\\log(u_1'(w)) + C_0 = \\log(u_2'(w)) \\\\\n                \\Leftrightarrow &u_1'(w)e^{C_0} = u_2'(w) \\\\\n                \\Leftrightarrow &C_1u_1'(w) = u_2'(w)\n                \\end{aligned}\n              \\]"}),"We can take another integral to get",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                &C_1u_1(w) + C_2 = u_2(w)\n                \\end{aligned}\n              \\]"}),"Thus, ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u_2 \\)"})," is an affine transformation of ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u_1 \\)"}),"."]})}),children:(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Example 2:"})," Given two utility functions ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u_1(w) \\)"})," and ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u_2(w) \\)"}),", show that, if ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u_1 \\)"})," and ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u_2 \\)"})," have the same absolute or relative risk aversion, ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u_2 \\)"})," must be an affine transformation of ",(0,o.jsx)(r.A,{inline:!0,children:"\\( u_1 \\)"}),"."]})}),(0,o.jsx)(l.A,{solution:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("p",{children:["Here, we consider the certainty equivalent for CARA utility and risk aversion ",(0,o.jsx)(r.A,{inline:!0,children:"\\( A = 0.02\\)"}),".",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n\t                \\begin{aligned}\n\t\t\t\t\tC_A &= \\frac{-\\log\\left(E\\left[e^{-A\\tilde x}\\right]\\right)}{A} \\\\\n\t\t\t\t\t&= \\frac{-\\log\\left(\\frac{1}{3}\\left(e^{-0.02(500)} + e^{-0.02(250)} + e^{-0.02(0)} \\right)\\right)}{0.02} \\\\\n\t\t\t\t\t&\\approx $54.59\n\t              \t\\end{aligned}\n\t              \\]"})]})}),children:(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Example 3:"})," Suppose I have CARA utility with ",(0,o.jsx)(r.A,{inline:!0,children:"\\( A = 0.02\\)"}),". How much would I be willing to pay for an investment that offers $500 with probability 1/3, $250 with probability 1/3, and $0 with probability 1/3? Assume I have no other investment opportunities."]})})]}),(0,o.jsx)(s.A,{group:"Risk"}),(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,o.jsx)(a.k2,{className:"TD-link",to:"/corporate_finance/risk",children:"Contents"})})]})}},9497:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});n(5043),n(8941);var a=n(5475),i=n(4257),r=n(7971),s=n(2638),l=n(2189),o=n(2535),c=n(579);const h=function(){return(0,c.jsxs)("div",{className:"Risk",children:[(0,c.jsx)(s.A,{group:"Risk"}),(0,c.jsx)("p",{className:"heading1",children:"Diversification"}),(0,c.jsxs)(i.A,{children:[(0,c.jsx)("p",{className:"heading2",children:"Independent Gambles"}),(0,c.jsx)("p",{children:"So far, we've been treating each gamble as if it lives in its own world. What happens in one gamble doesn't tell us anything about what happens in another. In other words, we've been treating all gambles as independent. We say two gambles are independent if knowing the outcome of one does not tell us anything about either the outcome or the probability of the other."}),(0,c.jsx)("p",{children:"In the real world, the outcomes of different gambles may actually be correlated. Suppose company A and company B are both developing new products, which will either succeed or fail. The possible outcomes are"}),(0,c.jsxs)("ol",{children:[(0,c.jsx)("li",{children:"Both companies' products succeed"}),(0,c.jsx)("li",{children:"Company A's product succeeds and company B's product fails"}),(0,c.jsx)("li",{children:"Company B's product succeeds and company A's product fails"}),(0,c.jsx)("li",{children:"Both companies' products fail"})]}),(0,c.jsxs)("p",{children:["Let's denote the probability of company A's product succeeding ",(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(A) \\)"})," and the probability of company B's product succeeding ",(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(B) \\)"}),". We'll also denote the probability that they both succeed ",(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(A \\cap B) \\)"}),". With these three probabilities, we can determine the likelihood of all possible outcomes. To do this, note that the probability of some binary event ",(0,c.jsx)(r.A,{inline:!0,children:"\\( C \\)"})," not happening is simply one minus the probability of the event happening, or ",(0,c.jsx)(r.A,{inline:!0,children:"\\( 1 - Pr(C) \\)"}),"."]}),(0,c.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,c.jsx)(o.default,{a:.4,b:.4,overlap:.05})}),(0,c.jsx)("p",{children:"Using the above diagram, we have the following probabilities for each outcome:"}),(0,c.jsxs)("ol",{children:[(0,c.jsx)("li",{children:(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(A \\cap B) \\)"})}),(0,c.jsx)("li",{children:(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(A) - Pr(A \\cap B) \\)"})}),(0,c.jsx)("li",{children:(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(B) - Pr(A \\cap B) \\)"})}),(0,c.jsx)("li",{children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 1 - Pr(A) - Pr(B) + Pr(A \\cap B)  \\)"})})]}),(0,c.jsxs)("p",{children:["Let's suppose knowing whether company A's product succeeds does not tell us anything about whether company B's product succeeds (i.e., these are independent events). If we know company A's product succeeds, then we are either in outcome 1 or 2. If there is no additional information about company B's likelihood of success to be learned from company A's success, then the probabilities of these outcomes must reduce to ",(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(B) \\)"})," and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( 1 - Pr(B) \\)"})," respectively. On the other hand, if we know company A's product fails, then we are either in outcome 3 or 4. If this tells us nothing about company B's likelihood of success, then the probabilities of these outcomes must also reduce to ",(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(B) \\)"})," and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( 1 - Pr(B) \\)"})," respectively. To sum up, the following must be true if the events are independent:"]}),(0,c.jsx)("div",{style:{display:"flex",justifyContent:"safe center",overflowX:"auto",width:"100%"},children:(0,c.jsxs)("div",{style:{display:"flex",gap:"20px",padding:"10px",flexShrink:0},children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{children:(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(A) = 1 \\implies \\)"})}),(0,c.jsxs)("ol",{children:[(0,c.jsx)("li",{children:(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(A \\cap B) \\rightarrow Pr(B) \\)"})}),(0,c.jsx)("li",{children:(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(A) - Pr(A \\cap B) \\rightarrow 1 - Pr(B)\\)"})})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{children:(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(A) = 0 \\implies \\)"})}),(0,c.jsxs)("ol",{start:"3",children:[(0,c.jsx)("li",{children:(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(B) - Pr(A \\cap B) \\rightarrow Pr(B) \\)"})}),(0,c.jsx)("li",{children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 1 - Pr(A) - Pr(B) + Pr(A \\cap B) \\rightarrow 1 - Pr(B) \\)"})})]})]})]})}),(0,c.jsxs)("p",{children:["We can satisfy all these conditions if we impose ",(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(A \\cap B) = Pr(A)Pr(B) \\)"}),". Thus, we say that events ",(0,c.jsx)(r.A,{inline:!0,children:"\\( A \\)"})," and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( B \\)"})," are independent if ",(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(A \\cap B) = Pr(A)Pr(B) \\)"}),"."]}),(0,c.jsx)("p",{className:"heading2",children:"Risk Aversion and Diversification"}),(0,c.jsxs)("p",{children:["Continuing with our example, let's say that, if a product succeeds, the company's stock price will go up by $",(0,c.jsx)(r.A,{inline:!0,children:"\\( X \\)"}),". Let's assume the stock price of each company starts at $50. I have $100 to invest, and I want to choose among (1) buying two shares of company A, (2) buying two shares of company B, and (3) buying one share of company A and one share of company B. Here are my possible outcomes in each state of the world:"]}),(0,c.jsx)("div",{className:"table-wrapper",children:(0,c.jsxs)("table",{className:"my-table",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"table-entry-head",children:"State of the World"}),(0,c.jsx)("th",{className:"table-entry-head",children:"Probability"}),(0,c.jsx)("th",{className:"table-entry-head",children:"Buy 2 Shares of Company A"}),(0,c.jsx)("th",{className:"table-entry-head",children:"Buy 1 Share of Each Company"}),(0,c.jsx)("th",{className:"table-entry-head",children:"Buy 2 Shares of Company B"})]})}),(0,c.jsxs)("tbody",{children:[(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{className:"table-entry",children:"Both companies' products succeed"}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(A \\cap B) \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 2X \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 2X \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 2X \\)"})})]}),(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{className:"table-entry",children:"Company A's product succeeds and company B's product fails"}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(A) - Pr(A \\cap B) \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 2X \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( X \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})})]}),(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{className:"table-entry",children:"Company B's product succeeds and company A's product fails"}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(B) - Pr(A \\cap B) \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( X \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 2X \\)"})})]}),(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{className:"table-entry",children:"Both companies' products fail"}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 1 - Pr(A) - Pr(B) + Pr(A \\cap B) \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})})]})]})]})}),(0,c.jsxs)("p",{children:["Let's find the expected value of each investment option.",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            EV_A &= 2X Pr(A\\cap B) + 2X[Pr(A) - Pr(A\\cap B)] = 2X Pr(A) \\\\ \\\\\n            EV_{A,B} &= 2X Pr(A\\cap B) + X[Pr(A) - Pr(A\\cap B)]  + X[Pr(B) - Pr(A\\cap B)] = X (Pr(A) + Pr(B)) \\\\ \\\\\n            EV_{B} &= 2X Pr(A\\cap B) + 2X[Pr(A) - Pr(A\\cap B)] = 2X Pr(B) \n            \\end{aligned}\n          \\]"}),"If both companies have the same probability of success (",(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(A) = Pr(B) \\)"}),"), then the expected value of all three investment options is the same."]}),(0,c.jsxs)("p",{children:["Recall that we can represent risk aversion using a concave utility function. Suppose my risk preferences are represented by the utility function ",(0,c.jsx)(r.A,{inline:!0,children:"\\( u(x)= \\sqrt{x} \\)"}),". Let's find my expected utility under each investment option.",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            EU_A &= u(2X) Pr(A\\cap B) + u(2X)[Pr(A) - Pr(A\\cap B)] \\\\\n            &= \\sqrt{2X} Pr(A) \\\\ \\\\\n            EU_{A,B} &= u(2X) Pr(A\\cap B) + u(X)[Pr(A) - Pr(A\\cap B)]  + u(X)[Pr(B) - Pr(A\\cap B)] \\\\\n            &=  \\sqrt{2X} Pr(A\\cap B) + \\sqrt{X}[Pr(A) + Pr(B) - 2Pr(A\\cap B)] \\\\ \\\\\n            EU_{B} &= u(2X) Pr(A\\cap B) + u(2X)[Pr(A) - Pr(A\\cap B)] \\\\\n            &= \\sqrt{2X} Pr(B) \n            \\end{aligned}\n          \\]"}),"This time, if both companies have the same probability of success (",(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(A) = Pr(B) \\)"}),"), then the expected utility of investing in only company A or only company B is the same. But, the expected utility of investing in both companies is actually greater. To see this, let's denote ",(0,c.jsx)(r.A,{inline:!0,children:"\\( p = Pr(A) = Pr(B) \\)"})," and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( q = Pr(A\\cap B) \\)"}),". Now, the expected utility of investing in both companies is greater if",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n             &\\sqrt{2X} Pr(A\\cap B) + \\sqrt{X}[Pr(A) + Pr(B) - 2Pr(A\\cap B)] \\geq \\sqrt{2X} Pr(A)  \\\\\n             &\\Leftrightarrow \\sqrt{2X} q + \\sqrt{X}[2p- 2q] \\geq \\sqrt{2X}p \\\\\n             &\\Leftrightarrow 2\\sqrt{X} (p-q) \\geq \\sqrt{2X}(p-q)\n            \\end{aligned}\n          \\]"}),"This inequality holds since ",(0,c.jsx)(r.A,{inline:!0,children:"\\( p \\geq q \\)"})," (or ",(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(A) \\geq Pr(A\\cap B) \\)"}),") and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( 2\\sqrt{X} > \\sqrt{2X} \\)"}),". Thus, under risk aversion, I prefer to diversify, or split my investment between the two companies, rather than purchase shares in only one company."]}),(0,c.jsx)("p",{className:"heading2",children:"Correlation and Diversification"}),(0,c.jsxs)("p",{children:["Notice from the inequality ",(0,c.jsx)(r.A,{inline:!0,children:"\\( 2\\sqrt{X} (p-q) \\geq \\sqrt{2X}(p-q)\\)"})," that I will tend to like diversification more as ",(0,c.jsx)(r.A,{inline:!0,children:"\\( (p - q) \\)"})," increases, or as ",(0,c.jsx)(r.A,{inline:!0,children:"\\( q\\)"})," ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\left(Pr(A\\cap B)\\right) \\)"})," decreases. Intuitively, diversification is more beneficial for me when it helps to balance out my outcomes across the different states of the world (i.e., reduce my outcome variance). Thus, I would prefer for company A to be successful when company B is not successful and company B to be successful when company A is not successful rather than having both companies be successful or not successful at the same time. To see this, let's consider the table from before under our assumption that ",(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(A) = Pr(B) = p  \\)"}),"."]}),(0,c.jsx)("div",{className:"table-wrapper",children:(0,c.jsxs)("table",{className:"my-table",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"table-entry-head",children:"State of the World"}),(0,c.jsx)("th",{className:"table-entry-head",children:"Probability"}),(0,c.jsx)("th",{className:"table-entry-head",children:"Buy 2 Shares of Company A"}),(0,c.jsx)("th",{className:"table-entry-head",children:"Buy 1 Share of Each Company"})]})}),(0,c.jsxs)("tbody",{children:[(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{className:"table-entry",children:"Both companies' products succeed"}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( q \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 2X \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 2X \\)"})})]}),(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{className:"table-entry",children:"Company A's product succeeds and company B's product fails"}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( p - q \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 2X \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( X \\)"})})]}),(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{className:"table-entry",children:"Company B's product succeeds and company A's product fails"}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( p - q \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( X \\)"})})]}),(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{className:"table-entry",children:"Both companies' products fail"}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 1 - 2p + q \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})})]})]})]})}),(0,c.jsxs)("p",{children:["The option to buy 2 shares in the same company reduces down to a gamble offering ",(0,c.jsx)(r.A,{inline:!0,children:"\\( 2X\\)"})," with probability ",(0,c.jsx)(r.A,{inline:!0,children:"\\( p \\)"})," and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( 0\\)"})," with probability ",(0,c.jsx)(r.A,{inline:!0,children:"\\( 1- p\\)"}),". What would the option to diversify look like if there was no overlap of success between the companies, or if ",(0,c.jsx)(r.A,{inline:!0,children:"\\( q  = 0\\)"}),"? In this case, buying 1 share in each company reduces down to a gamble offering ",(0,c.jsx)(r.A,{inline:!0,children:"\\( X\\)"})," with probability ",(0,c.jsx)(r.A,{inline:!0,children:"\\( 2p\\)"})," and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( 0\\)"})," with probability ",(0,c.jsx)(r.A,{inline:!0,children:"\\( 1-2p\\)"}),". Here, we have reduced our outcome variance as much as we can through diversification. In fact, if ",(0,c.jsx)(r.A,{inline:!0,children:"\\( p  = \\frac{1}{2}\\)"}),", then diversification offers a certain $",(0,c.jsx)(r.A,{inline:!0,children:"\\( X\\)"})," outcome, while buying shares in only one company still carries a 50% chance of receiving nothing."]}),(0,c.jsxs)("p",{children:["At the other extreme, if ",(0,c.jsx)(r.A,{inline:!0,children:"\\( q  = p\\)"}),", then buying 1 share in each company reduces down to the same gamble as the option to buy 2 shares in the same company. In this case, diversification does nothing to balance out outcomes."]}),(0,c.jsxs)("p",{children:["To take this one step further, let's look at how ",(0,c.jsx)(r.A,{inline:!0,children:"\\( p \\)"})," and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( q  \\)"})," are related to the correlation between the two companies' outcomes. Let's denote the outcome from buying 1 share of company A as ",(0,c.jsx)(r.A,{inline:!0,children:"\\( Z_A \\)"})," and the outcome from buying 1 share of company B is ",(0,c.jsx)(r.A,{inline:!0,children:"\\( Z_B\\)"}),". The correlation between these outcomes is given by",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n             \\text{corr}_{A,B} = \\frac{\\text{cov}(Z_A, Z_B)}{\\sqrt{\\text{var}(Z_A)\\text{var}(Z_B)}}\n            \\end{aligned}\n          \\]"}),"where ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\text{cov}(Z_A, Z_B) = E[Z_AZ_B] - E[Z_A]E[Z_B]\\)"})," and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\text{var}(Z_A) = E[Z_A^2] - (E[Z_A])^2\\)"}),". Here, ",(0,c.jsx)(r.A,{inline:!0,children:"\\( E[\\cdot]\\)"})," denotes the expected value. To calculate all these expected values, let's find outcomes in each state of the world."]}),(0,c.jsx)("div",{className:"table-wrapper",children:(0,c.jsxs)("table",{className:"my-table",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"table-entry-head",children:"State of the World"}),(0,c.jsx)("th",{className:"table-entry-head",children:"Probability"}),(0,c.jsx)("th",{className:"table-entry-head",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( Z_A \\)"})}),(0,c.jsx)("th",{className:"table-entry-head",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( Z_B \\)"})}),(0,c.jsx)("th",{className:"table-entry-head",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( Z_A^2 \\)"})}),(0,c.jsx)("th",{className:"table-entry-head",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( Z_B^2 \\)"})}),(0,c.jsx)("th",{className:"table-entry-head",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( Z_AZ_B \\)"})})]})}),(0,c.jsxs)("tbody",{children:[(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{className:"table-entry",children:"Both companies' products succeed"}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( q \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( X \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( X \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( X^2 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( X^2 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( X^2 \\)"})})]}),(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{className:"table-entry",children:"Company A's product succeeds and company B's product fails"}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( p - q \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( X \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( X^2 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})})]}),(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{className:"table-entry",children:"Company B's product succeeds and company A's product fails"}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( p - q \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( X \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( X^2 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})})]}),(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{className:"table-entry",children:"Both companies' products fail"}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 1 - 2p + q \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})})]})]})]})}),(0,c.jsxs)("p",{children:["Using the above table, we can calculate the expected values as",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n             E[Z_A] = E[Z_B] = pX \\\\ \n             E[Z_A^2] = E[Z_B^2] = pX^2 \\\\\n             E[Z_AZ_B] = qX^2\n            \\end{aligned}\n          \\]"}),"and the correlation coefficient as",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n             \\text{cov}(Z_A, Z_B) &= E[Z_AZ_B] - E[Z_A]E[Z_B]] \\\\\n             &= X^2(q - p^2) \\\\ \\\\\n             \\text{var}(Z_A) &= \\text{var}(Z_B) = E[Z_A^2] - (E[Z_A])^2 \\\\\n             &= X^2(p - p^2) \\\\ \\\\\n             \\text{corr}_{Z_A,Z_B} &= \\frac{\\text{cov}(Z_A, Z_B)}{\\sqrt{\\text{var}(Z_A)\\text{var}(Z_B)}} \\\\\n             &= \\frac{X^2(q - p^2)}{\\sqrt{[X^2(p - p^2)]^2}} \\\\\n             &= \\frac{q - p^2}{p - p^2}\n            \\end{aligned}\n          \\]"}),"If ",(0,c.jsx)(r.A,{inline:!0,children:"\\( q = 0 \\)"}),", then the correlation coefficient reduces to ",(0,c.jsx)(r.A,{inline:!0,children:"\\(  \\text{corr}_{Z_A,Z_B} = \\frac{- p}{1 - p} \\)"}),". In this case, the outcomes are perfectly negativley correlated. If ",(0,c.jsx)(r.A,{inline:!0,children:"\\( q = p \\)"}),", then the correlation coefficient is 1, and the outcomes are perfectly positively correlated. Note that the correlation coefficient will always be between -1 and 1."]}),(0,c.jsx)("p",{children:"In general, when assets are not perfectly positively correlated (correlation coefficient is less than 1), an investor can form a diversified portfolio with strictly lower variance than at least one of the individual assets, holding expected return fixed. Because risk-averse investors prefer lower variance for a given expected return, and diversification reduces variance whenever returns are not perfectly positively correlated, risk-averse investors prefer diversified portfolios to concentrated ones."}),(0,c.jsx)("p",{className:"heading2",children:"Examples"}),(0,c.jsx)(l.A,{solution:(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("p",{children:["We want to find the certainty equivalent of the diversified investment and the undiversified investment. First, we'll calculate the expected utility of each investment option as",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                    \\begin{aligned}\n                    EU_D &= \\sqrt{2X} q + 2\\sqrt{X}(p - q) \\\\ \n                    &= 4\\sqrt{2}\\left(\\frac{1}{4}\\right) + 8\\left(\\frac{1}{2} - \\frac{1}{4}\\right) \\\\\n                    &= \\sqrt{2} + 2 \\\\ \\\\                    EU_U &= \\sqrt{2X} p \\\\\n                    &= 4\\sqrt{2}\\left(\\frac{1}{2}\\right) \\\\\n                    &= 2\\sqrt{2}\n                    \\end{aligned}\n                  \\]"}),"Next, we'll use these expected utilities to find the certainty equivalents.",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                    \\begin{aligned}\n                    u(CE_D) &= \\sqrt{2} + 2 \\\\ \n                    CE_D &= (\\sqrt{2} + 2)^2 \\\\\n                    &= 6 + 4\\sqrt{2} \\approx $11.66 \\\\ \\\\\n                    u(CE_U) &= 2\\sqrt{2} \\\\\n                    CE_U &= (2\\sqrt{2})^2 \\\\\n                    &= $8\n                    \\end{aligned}\n                  \\]"}),"Thus, I would be willing to pay ",(0,c.jsx)(r.A,{inline:!0,children:"\\( 11.66 - 8 = $3.66 \\)"})," for the opportunity to diversify."]})}),children:(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Example 1:"})," Using the setting above, how much would I be willing to pay for the opportunity to diversify my investment if ",(0,c.jsx)(r.A,{inline:!0,children:"\\( X = 16 \\)"}),", ",(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(A) = Pr(B) = \\frac{1}{2} \\)"}),", ",(0,c.jsx)(r.A,{inline:!0,children:"\\( Pr(A \\cap B) = \\frac{1}{4} \\)"}),", and my risk preferences are represented by the utility function ",(0,c.jsx)(r.A,{inline:!0,children:"\\( u(x)=\\sqrt{x} \\)"}),"?"]})})]}),(0,c.jsx)(s.A,{group:"Risk"}),(0,c.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,c.jsx)(a.k2,{className:"TD-link",to:"/corporate_finance/risk",children:"Contents"})})]})}},4860:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});n(5043),n(8941);var a=n(5475),i=n(4257),r=n(7971),s=n(2638),l=n(5081),o=n(6335),c=n(5655),h=n(579);const d=function(){return(0,h.jsxs)("div",{className:"Risk",children:[(0,h.jsx)(s.A,{group:"Risk"}),(0,h.jsx)("p",{className:"heading1",children:"Efficient Frontier"}),(0,h.jsxs)(i.A,{children:[(0,h.jsx)("p",{className:"heading2",children:"Portfolio Returns"}),(0,h.jsxs)("p",{children:["Instead of considering dollar outcomes from an investment, let's switch to thinking about returns. Returns normalize outcomes, making risk and diversification comparable across investments and portfolio sizes. The return on a stock (assuming no dividends) is the difference between the price at which you sell the stock and the price at which you buy the stock divided by the price at which you buy the stock.",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            R = \\frac{P_S - P_B}{P_B}\n            \\end{aligned}\n          \\]"}),"When deciding whether to buy a stock today, the purchase price is known with certainty, but the price at which the stock can be sold in the future is uncertain. That uncertainty means the stock can generate different returns in different states of the world. If we knew the possible future sale prices and the probability of each state of the world, we could calculate the stock's expected (mean) return as well as the variability, or variance, of its return. Based on our taste for risk, we could then decide whether to invest by weighing the expected return against the risk reflected in the return variance."]}),(0,h.jsx)("p",{children:"If we have the option of investing in multiple securities, we also care about the correlation between different stock returns. As discussed on the previous page, diversification may allow us to achieve the same return with lower variance. We can create a portfolio by investing in many different assets."}),(0,h.jsxs)("p",{children:["Suppose we have the option to invest in company Y and company Z, which have returns ",(0,h.jsx)(r.A,{inline:!0,children:"\\( R_y \\)"})," and ",(0,h.jsx)(r.A,{inline:!0,children:"\\( R_z \\)"})," respectively. The mean return of each company's stock is ",(0,h.jsx)(r.A,{inline:!0,children:"\\( E[R_y] = \\bar R_y \\)"})," and ",(0,h.jsx)(r.A,{inline:!0,children:"\\( E[R_z] = \\bar R_z \\)"}),". Company Y's stock has a return variance of ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\text{var}(R_y) = \\sigma^2_y \\)"}),", and company Z's stock has a return variance of ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\text{var}(R_z)= \\sigma^2_z \\)"}),". The two stocks have a correlation coefficient of ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\rho_{y,z} \\)"}),". I can form a portfolio by investing a ",(0,h.jsx)(r.A,{inline:!0,children:"\\( w_y \\)"})," proportion of my wealth in company Y and a ",(0,h.jsx)(r.A,{inline:!0,children:"\\( w_z = 1 - w_y \\)"})," proportion of my wealth in company Z. What is the mean return and return variance of my portfolio?"]}),(0,h.jsxs)("p",{children:["To find the mean portfolio return, I simply apply the weights (",(0,h.jsx)(r.A,{inline:!0,children:"\\( w_y \\)"})," and ",(0,h.jsx)(r.A,{inline:!0,children:"\\( w_z \\)"}),") to the mean return of each individual stock.",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\bar R_{portfolio} &= E[w_yR_y + w_zR_z] \\\\\n            &= w_yE[R_y] + w_zE[R_z] \\\\\n            &= w_y\\bar R_y + w_z \\bar R_z\n            \\end{aligned}\n          \\]"}),"The portfolio variance is given by",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\text{var} (R_{portfolio}) &= E[(w_yR_y +w_zR_z)^2] -(E[w_yR_y +w_zR_z]])^2 \\\\\n            &= w_y^2E[R_y^2] + 2w_yw_zE[R_yR_z] + w_z^2E[R_z^2] - w_y^2(E[R_y])^2 - 2w_yw_zE[R_y]E[R_z] - w_z^2(E[R_z])^2 \\\\\n            &= w_y^2\\left(E[R_y^2] - (E[R_y])^2\\right) + w_z^2\\left(E[R_z^2] - (E[R_z])^2\\right) + 2w_yw_z\\left(E[R_yR_z] - E[R_y]E[R_z]\\right) \\\\\n            &= w_y^2 \\text{var}(R_y) + w_z^2 \\text{var}(R_z) + 2w_yw_z \\text{cov}(R_y,R_z) \\\\\n            &= w_y^2 \\sigma^2_y + w_z^2 \\sigma^2_z + 2w_yw_z\\rho_{y,z}\\sigma_y\\sigma_z\n            \\end{aligned}\n          \\]"}),"where ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\sigma_y \\)"})," and ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\sigma_y \\)"})," are the standard deviations of company Y's and company Z's stock returns respectively ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\left(\\rho_{y,z} = \\frac{\\text{cov}(R_y, R_z)}{\\sqrt{\\text{var}(R_y)\\text{var}(R_z)}} = \\frac{\\text{cov}(R_y, R_z)}{\\sigma_y \\sigma_z}\\right) \\)"}),"."]}),(0,h.jsx)("p",{className:"heading2",children:"Diversification"}),(0,h.jsxs)("p",{children:["Recall the discussion on the last page about how diversification can reduce variance as long as the correlation coefficient is less than 1. Let's look at what that means in terms of our equation for portfolio variance. First, we'll assume that both companies have the same variance (",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\sigma^2 = \\sigma_y^2 = \\sigma_z^2 \\)"})," and ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\sigma = \\sigma_y = \\sigma_z \\)"}),"). Then, our portfolio variance becomes",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\text{var} (R_{portfolio}) &= \\sigma^2(w_y^2+ w_z^2  + 2w_yw_z\\rho_{y,z}) \n            \\end{aligned}\n          \\]"}),"If ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\rho_{y,z} =1 \\)"}),", then ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\text{var} (R_{portfolio}) =  \\sigma^2(w_y^2+ w_z^2  + 2w_yw_z) = \\sigma^2(w_y + w_z)^2 = \\sigma^2\\)"}),", which is the same return variance that we would get from investing in one individual stock. Thus, diversification does nothing to decrease variance when correlation is 1. Another way to see this is to note that a correlation coefficient less than 1 will result in a reduction in variance since the expression multiplied by ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\sigma^2 \\)"})," is less than 1 if ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\rho_{y,z} \\)"})," is less than 1.",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            &w_y^2+ w_z^2  + 2w_yw_z\\rho_{y,z} < 1 \\\\\n            &\\Leftrightarrow \\rho_{y,z} < \\frac{1 - w_y^2 - w_z^2}{2w_yw_z} = \\frac{1 - (w_y^2 + 2w_yw_z +w_z^2) + 2w_yw_z}{2w_yw_z} = \\frac{1 - (w_y+w_z)^2}{2w_yw_z} + 1 = 1\n            \\end{aligned}\n          \\]"})]}),(0,h.jsx)("p",{className:"heading2",children:"Mean and Variance Combinations"}),(0,h.jsxs)("p",{children:["What are all the possible mean return and return variance combinations that we can achieve with 2 stocks? Using our equations for the mean portfolio return and portfolio variance, we can vary the weights to map out all the possibilites. Let's suppose the mean return of company Y's stock is higher than the mean return of company Z's stock (",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\bar R_y > \\bar R_z \\)"}),"). Since the mean portfolio return is a linear combination of the individual stock returns, we can achieve any return between ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\bar R_z \\)"})," and ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\bar R_y \\)"})," simply by choosing the right weights (",(0,h.jsx)(r.A,{inline:!0,children:"\\( w_y \\)"})," and ",(0,h.jsx)(r.A,{inline:!0,children:"\\( w_z \\)"}),"). The range of possible portfolio variances depends on the correlation between the two stock returns in addition to the weights. The graph below plots the possible mean returns and standard deviations of a portfolio with two stocks based on the mean return, standard deviation, and correlation of each stock."]}),(0,h.jsx)("div",{style:{display:"flex",width:"100%",overflowX:"auto"},children:(0,h.jsx)("div",{style:{margin:"auto",padding:"20px",minWidth:"300px"},children:(0,h.jsx)(l.default,{})})}),(0,h.jsx)("p",{children:"Click and drag the red and orange dots to change the mean return and return variance of the stocks. Use the blue slider to adjust the correlation between the stocks. Note that when correlation is equal to 1, the possible portfolios form a straight line between the two stocks. When correlation is equal to -1, there is a combination of weights that produces a certain (no variance) return."}),(0,h.jsx)("p",{children:"With all the possible mean and variance combinations laid out for us, we can choose the optimal portfolio based on our taste for risk and desired return. One way to think about this would be to choose a desired return and then pick the portfolio that results in the lowest variance for that return. Another way to think about this would be to choose a level of risk (standard deviation) we are willing to take on and then pick the portfolio with the highest mean return for that risk level. Using these framings, we can see that any portfolio that lies southeast of another portfolio on the graph is suboptimal because it offers (1) a lower return for the same variance, (2) a higher variance for the same return, or (3) both."}),(0,h.jsx)("p",{className:"heading2",children:"Many Assets"}),(0,h.jsxs)("p",{children:["So far, we have been considering a portfolio made up of only two assets: the stock of company Y and the stock of company Z. What if we scale things up to allow for many assets? Suppose there are ",(0,h.jsx)(r.A,{inline:!0,children:"\\( N \\)"})," assets with mean returns ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\bar R_1, \\bar R_2, \\dots, \\bar R_N \\)"})," and return variances ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\sigma_1^2, \\sigma_2^2,\\dots,\\sigma_N^2  \\)"}),". Additionally, suppose the correlation between asset ",(0,h.jsx)(r.A,{inline:!0,children:"\\( i \\)"})," and asset ",(0,h.jsx)(r.A,{inline:!0,children:"\\( j \\)"})," is given by ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\rho_{i,j} \\)"}),". We can construct a portfolio by assigning a weight to each asset ",(0,h.jsx)(r.A,{inline:!0,children:"\\( w_1, w_2, \\dots, w_N \\)"})," such that all the weights add up to one ",(0,h.jsx)(r.A,{inline:!0,children:"\\(\\left(\\sum^N_{i=1}w_i = 1\\right)  \\)"}),". The mean return and return variance of this portfolio are given by",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\bar R_p &= E\\left[\\sum^N_{i=1}w_iR_i\\right] \\\\\n            &= \\sum^N_{i=1}w_i\\bar R_i \\\\ \\\\\n            \\text{var}(R_p) &= E\\left[\\left(\\sum^N_{i=1}w_iR_i\\right)^2\\right] - \\left(E\\left[\\sum^N_{i=1}w_iR_i\\right]\\right)^2 \\\\\n            &= \\sum^N_{i=1}\\sum^N_{j=1}w_iw_j\\left(E[R_iR_j] - E[R_i]E[R_j]\\right) \\\\\n            &= \\sum^N_{i=1}\\sum^N_{j=1}w_iw_j\\text{cov}(R_i,R_j) \\\\\n            &= \\sum^N_{i=1}\\sum^N_{j=1}w_iw_j\\rho_{i,j}\\sigma_i\\sigma_j \\\\\n            &= \\sum^N_{i=1}w_i^2\\sigma_i^2 + 2\\sum^{N-1}_{i=1}\\sum^N_{j=i+1}w_iw_j \\rho_{i,j}\\sigma_i\\sigma_j\n            \\end{aligned}\n          \\]"})]}),(0,h.jsx)("p",{children:"What are the possible mean/variance combinations we can create with many assets? The shaded region in the graph below shows the feasible set of mean return and standard deviation pairs that we can create with three assets."}),(0,h.jsx)("div",{style:{display:"flex",width:"100%",overflowX:"auto"},children:(0,h.jsx)("div",{style:{margin:"auto",padding:"20px",minWidth:"300px"},children:(0,h.jsx)(o.default,{})})}),(0,h.jsx)("p",{children:"Click and drag the dots to change the mean return and return variance of the assets. Use the blue sliders to adjust the correlation between the assets. Note that not all correlation combinations are possible with three assets. Thus, the first two correlations can move freely between -1 and 1, but the third correlation is constrained based on your choices for the other two correlations. With only two assets, the set of feasible portfolios is a line between the two asset points. With three assets, we can form an area of feasible portfolios. When all three correlations are equal to 1, the feasible set becomes a triangle with the three asset points as vertices."}),(0,h.jsx)("p",{children:"Just as before, a risk-averse investor will not prefer a portfolio that has both higher risk and lower expected return than another available portfolio. On the graph, such portfolios lie to the southeast of a dominating portfolio and are therefore suboptimal. If we eliminate all dominated portfolios and retain only those that offer the highest expected return for each level of risk, the remaining boundary is called the efficient frontier."}),(0,h.jsx)("p",{className:"heading2",children:"Risk-Free Asset"}),(0,h.jsxs)("p",{children:["So far, we've been thinking about assets that have an uncertain return, or whose return variance is greater than zero. What happens when we add an asset with no risk (variance = 0)? Suppose we have a risk-free asset (e.g., a Treasury bill) that offers a certain return of ",(0,h.jsx)(r.A,{inline:!0,children:"\\( R_f \\)"}),". Let's consider a portfolio created with this risk-free asset and a risky asset with return ",(0,h.jsx)(r.A,{inline:!0,children:"\\( R_m \\)"})," and variance ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\sigma_m^2\\)"}),". Suppose we invest a ",(0,h.jsx)(r.A,{inline:!0,children:"\\( w \\)"})," proportion of our wealth in the risky asset and a ",(0,h.jsx)(r.A,{inline:!0,children:"\\( 1 - w\\)"})," proportion in the risk-free asset. The mean return and portfolio variance are given by",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n                \\bar R_p &= w\\bar R_m + (1-w)R_f \\\\ \\\\\n                \\text{var}(R_p) &= \\text{var}(wR_m + (1-w)R_f ) \\\\\n                &= w^2\\sigma_m^2\n            \\end{aligned}\n          \\]"}),"Thus, the standard deviation of the portfolio (",(0,h.jsx)(r.A,{inline:!0,children:"\\( w\\sigma_m \\)"}),") scales linearly with the proportion of wealth invested in the risky asset. What does this mean in terms of our graph relating the standard deviation of a portfolio to its mean return? If I plot the risk-free asset on the y-axis and the risky asset somewhere within the positive quadrant of the graph, I can draw a line between these two points and acheive any risk/return combination along the line. In addition, if I am allowed to borrow money at the risk-free rate and invest additional funds in the risky asset, I can achieve risk/return combinations that lie along this line past the point of the risky asset. Using the two points ",(0,h.jsx)(r.A,{inline:!0,children:"\\( (0, R_f)\\)"})," and ",(0,h.jsx)(r.A,{inline:!0,children:"\\( (\\sigma_m, \\bar R_m)\\)"}),", we can come up with an equation for this line. First we'll find the slope",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n                m = \\frac{\\bar R_1 - \\bar R_2}{\\sigma_1 - \\sigma_2} = \\frac{\\bar R_m- R_f}{\\sigma_m}\n            \\end{aligned}\n          \\]"}),"Then, since the y-intercept is given by ",(0,h.jsx)(r.A,{inline:!0,children:"\\( b= R_f\\)"}),", the equation for the line is",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n                \\bar R &= \\sigma m + b \\\\\n                \\bar R &= \\sigma \\left(\\frac{\\bar R_m- R_f}{\\sigma_m}\\right) + R_f\n            \\end{aligned}\n          \\]"}),"The slope of this line is called the Sharpe ratio, which measures how much return an asset offers scaled by its risk."]}),(0,h.jsx)("p",{children:"Using the line created with a risk-free asset and a risky asset, we can create an optimal set of risk/return combinations. To do so, we want to construct our line such that all other portfolios lie beneath it. This ensures that no other portfolio offers a better return for a given risk level than a portfolio on our optimal line. Which risky asset should we use to construct this line?"}),(0,h.jsx)("p",{children:"We can start by considering only risky assets along the efficient frontier. The best risky asset lies at the point where a straight line passing through the y-axis at the risk-free return is tangent to the efficient frontier. The graph below shows the efficient frontier using two risky assets and the line connecting the risk-free return to the portfolio tangent to the efficient frontier. This green dotted line is called the capital market line. For each risk level, the capital market line offers the highest possible mean return acheivable through creating a portfolio with the available assets."}),(0,h.jsx)("div",{style:{display:"flex",width:"100%",overflowX:"auto"},children:(0,h.jsx)("div",{style:{margin:"auto",padding:"20px",minWidth:"300px"},children:(0,h.jsx)(c.default,{})})}),(0,h.jsx)("p",{children:"Click and drag the risk-free and risky asset dots to change the capital market line and the tangency portfolio. Use the blue slider to adjust the correlation between the two risky assets."}),(0,h.jsx)("p",{children:"What does the capital market line imply about investing preferences? Risk-averse investors who want to acheive the highest possible mean return for the lowest variance should invest in some combination of just two things: (1) the risk-free asset and (2) the tangency portfolio. The capital market line shows that once a risk-free asset is available, investors no longer need to hold complicated combinations of many risky assets to be efficient. Instead, all efficient portfolios lie along a straight line that combines the risk-free asset with a single optimal risky portfolio (the tangency portfolio). Investors differ only in how much risk they choose to take, not in which risky assets they hold. More conservative investors place more weight on the risk-free asset, while more aggressive investors place more weight on the tangency portfolio (and may even borrow at the risk-free rate to invest more in the tangency portfolio)."}),(0,h.jsx)("p",{children:"This result is known as two-fund separation: every optimal portfolio can be formed using the same two funds, regardless of individual risk preferences. In equilibrium, if all investors are rational, risk-averse, and face the same investment opportunities, they will all choose the same tangency portfolio. When we aggregate everyone\u2019s choices, that tangency portfolio must be the market portfolio, containing all risky assets weighted by their market values. This observation sets the stage for the Capital Asset Pricing Model (CAPM), which asks a natural next question: If everyone holds the market portfolio, how should an individual asset\u2019s expected return be related to its risk?"})]}),(0,h.jsx)(s.A,{group:"Risk"}),(0,h.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,h.jsx)(a.k2,{className:"TD-link",to:"/corporate_finance/risk",children:"Contents"})})]})}},6499:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});n(5043),n(8941);var a=n(5475),i=n(4257),r=n(7971),s=n(2638),l=n(579);const o=function(){return(0,l.jsxs)("div",{className:"Risk",children:[(0,l.jsx)(s.A,{group:"Risk"}),(0,l.jsx)("p",{className:"heading1",children:"The Capital Asset Pricing Model (CAPM)"}),(0,l.jsxs)(i.A,{children:[(0,l.jsx)("p",{children:"The Capital Asset Pricing Model (CAPM) is one of the central models in modern financial economics. It provides a simple, quantitative relationship between the expected return of an asset and the risk that asset contributes to a well-diversified portfolio."}),(0,l.jsx)("p",{children:"The key insight of the CAPM is that investors should only be compensated for systematic risk, or risk that cannot be eliminated through diversification. Risk that is unique to a single asset can be diversified away and therefore does not command a risk premium in equilibrium."}),(0,l.jsx)("p",{children:"The CAPM expresses this idea through the following equation:"}),(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n        E[R_k] = R_f + \\beta_k\\left(E[R_m] - R_f\\right)\n        \\]"}),(0,l.jsxs)("p",{children:["Here, ",(0,l.jsx)(r.A,{inline:!0,children:"\\(R_f\\)"})," is the risk-free rate, ",(0,l.jsx)(r.A,{inline:!0,children:"\\(E[R_m]\\)"})," is the expected return on the market portfolio, and ",(0,l.jsx)(r.A,{inline:!0,children:"\\(\\beta_k\\)"})," measures how sensitive asset ",(0,l.jsx)(r.A,{inline:!0,children:"\\(k\\)"})," is to movements in the overall market. The remainder of this page derives this relationship from basic mean\u2013variance portfolio choice and explains its economic interpretation."]}),(0,l.jsx)("p",{className:"heading2",children:"CAPM Assumptions"}),(0,l.jsx)("p",{children:"The CAPM relies on few strong assumptions about investor behavior and market structure. These assumptions allow us to move from individual portfolio choice to market-wide asset pricing."}),(0,l.jsxs)("ul",{children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Mean\u2013variance optimization:"})," Investors care only about the expected return and variance of their portfolios and choose portfolios that minimize variance for a given expected return."]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Homogeneous beliefs:"})," All investors agree on expected returns, variances, and covariances of asset returns."]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Single-period horizon:"})," Investors make portfolio decisions over the same investment horizon."]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Risk-free borrowing and lending:"})," Investors can borrow and lend unlimited amounts at the same risk-free rate ",(0,l.jsx)(r.A,{inline:!0,children:"\\(R_f\\)"}),"."]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"Perfect markets:"})," There are no taxes, transaction costs, or short-selling constraints, and assets are perfectly divisible."]})]}),(0,l.jsx)("p",{children:"Under these assumptions, all investors face the same optimization problem and therefore choose the same optimal risky portfolio. In equilibrium, this portfolio must coincide with the market portfolio."}),(0,l.jsx)("p",{className:"heading2",children:"Optimal Portfolio"}),(0,l.jsxs)("p",{children:["To derive the CAPM, we'll start by finding the optimal portfolio within the same \"many assets\" setup that we considered on the previous page. Namely, we'll suppose there are ",(0,l.jsx)(r.A,{inline:!0,children:"\\( N \\)"})," assets with returns ",(0,l.jsx)(r.A,{inline:!0,children:"\\(  R_1, R_2, \\dots,  R_N \\)"}),". We can construct a portfolio by assigning a weight to each asset ",(0,l.jsx)(r.A,{inline:!0,children:"\\( w_1, w_2, \\dots, w_N \\)"})," such that all the weights add up to one ",(0,l.jsx)(r.A,{inline:!0,children:"\\(\\left(\\sum^N_{i=1}w_i = 1\\right)  \\)"}),". Recall that the expected return and variance of such a portfolio are given by",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n             E[R_p]\n            &= \\sum^N_{i=1}w_i E[R_i] \\\\ \\\\\n            \\text{var}(R_p) \n            &= \\sum^N_{i=1}\\sum^N_{j=1}w_iw_j\\text{cov}(R_i,R_j) \n            \\end{aligned}\n          \\]"}),"We'll choose our desired expected return ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\bar R \\)"})," and construct a portfolio that will give us the minimum variance for that return. Thus, we want to solve the following optimization problem:",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\underset{\\{w_1,...,w_N\\}}{\\text{min}} &\\text{var}(R_p) \\\\\n            \\text{s.t. } &\\sum^N_{i=1}w_iE[R_i]  = \\bar R \\\\\n            & \\sum^N_{i=1}w_i = 1\n            \\end{aligned}\n          \\]"}),"Here, we want to find the least amount of variance for our chosen expected return ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\bar R \\)"})," by deciding how much to invest in each asset (the weights ",(0,l.jsx)(r.A,{inline:!0,children:"\\( w_1,w_2,\\dots,w_N \\)"}),"). We can deal with the constraints by using a Lagrangian with multipliers ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\lambda \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\gamma \\)"}),".",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            L &= \\text{var}(R_p) - \\lambda \\left(\\sum^N_{i=1}w_iE [R_i]  - \\bar R\\right) - \\gamma\\left(\\sum^N_{i=1}w_i - 1\\right) \\\\\n            &= \\sum^N_{i=1}\\sum^N_{j=1}w_iw_j\\text{cov}(R_i,R_j) - \\lambda \\left(\\sum^N_{i=1}w_iE[R_i]  - \\bar R\\right) - \\gamma\\left(\\sum^N_{i=1}w_i - 1\\right) \n            \\end{aligned}\n          \\]"}),"The derivative of the Lagrangian with respect to a single weight ",(0,l.jsx)(r.A,{inline:!0,children:"\\( w_k \\)"})," is given by",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\frac{\\partial L}{\\partial w_k} &= 2\\sum^N_{i=1}w_i\\text{cov}(R_k,R_i) - \\lambda E[R_k] - \\gamma \\\\\n            &= 2\\text{cov}\\left(R_k,\\sum^N_{i=1}w_iR_i\\right) - \\lambda E[R_k] - \\gamma \\\\\n            &= 2\\text{cov}(R_k, R_p) - \\lambda E[R_k] - \\gamma \n            \\end{aligned}\n          \\]"}),"We solve for the optimal weight by setting this derivative equal to zero.",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\frac{\\partial L}{\\partial w_k} = 2\\text{cov}(R_k, R_p) - \\lambda E[R_k] - \\gamma  = 0 \\quad\\quad\\quad \\text{(1)}\n            \\end{aligned}\n          \\]"}),"This holds not only for a single weight but for all weights. Thus, we have the following series of equations to satisfy:",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            2\\text{cov}(R_1, R_p) - \\lambda E[R_1] - \\gamma  &= 0 \\\\\n            2\\text{cov}(R_2, R_p) - \\lambda E[R_2] - \\gamma  &= 0 \\\\\n            &\\vdots \\\\\n            2\\text{cov}(R_N, R_p) - \\lambda E[R_N] - \\gamma  &= 0\n            \\end{aligned}\n          \\]"})]}),(0,l.jsxs)("p",{children:["We're going to use two tricks to get rid of the Lagrange multipliers (",(0,l.jsx)(r.A,{inline:!0,children:"\\(\\lambda \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\(\\gamma \\)"}),"). First, we're going to multiply each equation by its weight and sum up all the equations.",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            &2w_1\\text{cov}(R_1, R_p) - \\lambda w_1  E[R_1] - \\gamma w_1 \\\\\n            + &2w_2\\text{cov}(R_2, R_p) - \\lambda w_2 E[R_2] - \\gamma w_2 \\\\\n            &\\;\\;\\vdots \\\\\n            + &2w_N\\text{cov}(R_N, R_p) - \\lambda w_N E[R_N] - \\gamma w_N = 0\n            \\end{aligned} \n          \\]"}),"We'll use the resulting equation to solve for ",(0,l.jsx)(r.A,{inline:!0,children:"\\(\\gamma \\)"}),".",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n             &2\\sum^N_{k=1}w_k\\text{cov}(R_k, R_p) - \\lambda \\sum^N_{k=1}w_k E[R_k] - \\gamma \\sum^N_{k=1}w_k = 0 \\\\\n             &\\Leftrightarrow 2\\text{cov}\\left(\\sum^N_{k=1}w_k R_k, R_p\\right) - \\lambda \\bar R- \\gamma = 0  \\\\\n             &\\Leftrightarrow 2\\text{cov}(R_p, R_p) - \\lambda \\bar R- \\gamma = 0  \\\\\n             &\\Leftrightarrow 2\\text{var}(R_p) - \\lambda \\bar R- \\gamma = 0 \\\\\n             &\\Leftrightarrow \\gamma = 2\\text{var}(R_p) - \\lambda \\bar R \\quad\\quad\\quad\\quad\\quad\\quad\\quad\\quad\\quad\\quad\\quad\\quad   \\text{(2)}\n            \\end{aligned}\n          \\]"}),"Now, we plug in our expression for ",(0,l.jsx)(r.A,{inline:!0,children:"\\(\\gamma \\)"})," (given by equation 2) to equation 1.",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            &2\\text{cov}(R_k, R_p) - \\lambda E[R_k] - \\left(2\\text{var}(R_p) - \\lambda \\bar R\\right)  = 0 \\\\\n            &\\Leftrightarrow \\text{cov}(R_k, R_p) - \\text{var}(R_p) = \\frac{\\lambda}{2}\\left(E[R_k] - \\bar R\\right) \\quad\\quad\\quad \\text{(3)}\n            \\end{aligned} \n          \\]"}),"Our second trick is to apply equation 3 to a risk-free asset with return ",(0,l.jsx)(r.A,{inline:!0,children:"\\(R_f \\)"}),". In this case, the covariance term will go away and leave us with",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            &\\text{cov}(R_f, R_p) - \\text{var}(R_p) = \\frac{\\lambda}{2}(R_f - \\bar R) \\\\\n            &\\Leftrightarrow \\lambda = \\frac{2\\text{var}(R_p)}{\\bar R - R_f} \\quad\\quad\\quad\\quad\\quad\\quad\\quad\\quad\\quad \\text{(4)}\n            \\end{aligned}\n          \\]"}),"Now, we plug in our expression for ",(0,l.jsx)(r.A,{inline:!0,children:"\\(\\lambda \\)"})," (given by equation 4) to equation 3.",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            &\\text{cov}(R_k, R_p) - \\text{var}(R_p) = \\frac{\\left(\\frac{2\\text{var}(R_p)}{\\bar R - R_f}\\right)}{2}\\left(E[R_k]- \\bar R\\right) \\\\\n            &\\Leftrightarrow \\text{cov}(R_k, R_p)  = \\text{var}(R_p)\\left(\\frac{E[R_k] - \\bar R}{\\bar R - R_f}  + 1\\right) \\\\\n            &\\Leftrightarrow \\frac{\\text{cov}(R_k, R_p)}{\\text{var}(R_p)} = \\frac{E[R_k] - R_f}{\\bar R - R_f} \\\\\n            &\\Leftrightarrow E[R_k] - R_f = \\frac{\\text{cov}(R_k, R_p)}{\\text{var}(R_p)}(\\bar R - R_f) \\quad\\quad\\quad\\quad\\quad (5)\n            \\end{aligned}\n          \\]"}),"Equation 5 relates the difference between an individual asset's expected return and the risk-free rate ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\left(E[R_k]- R_f\\right) \\)"}),', or the asset\'s "excess return," to the difference between the target expected return and the risk-free rate ',(0,l.jsx)(r.A,{inline:!0,children:"\\( (\\bar R- R_f) \\)"}),"."]}),(0,l.jsx)("p",{className:"heading2",children:"Market Portfolio"}),(0,l.jsxs)("p",{children:["What can we say about the optimal portfolio we've constructed? Because it offers the minimum variance for a given target expected return, this portfolio must lie along the efficient frontier. Because of two-fund separation, we also know the portfolio must lie along the capital market line, or consist of some linear combination of the risk-free asset and the tangency portfolio. Thus, we can write the portfolio return as ",(0,l.jsx)(r.A,{inline:!0,children:"\\( R_p = \\alpha R_m  + (1-\\alpha)R_f\\)"})," where ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\alpha \\)"})," is the proportion invested in the tangency portfolio (with return ",(0,l.jsx)(r.A,{inline:!0,children:"\\( R_m \\)"}),") and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( (1-\\alpha) \\)"})," is the proportion invested in the risk-free asset. Plugging this in to equation 5 gives us",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            E[R_k] - R_f &= \\frac{\\text{cov}(R_k, \\alpha R_m  + (1-\\alpha)R_f)}{\\text{var}(\\alpha R_m  + (1-\\alpha)R_f)}\\left(\\alpha E[R_m]  + (1-\\alpha)R_f - R_f\\right) \\\\\n            &= \\frac{\\alpha \\text{cov}(R_k, R_m)}{\\alpha^2 \\text{var}( R_m)}\\alpha\\left( E[R_m]  - R_f \\right)  \\\\\n            &= \\frac{\\text{cov}(R_k, R_m)}{\\text{var}( R_m)}\\left( E[R_m]  - R_f \\right) \n            \\end{aligned}\n          \\]"}),"If all investors are mean-variance optimizers and have the same beliefs about expected returns, variances, and covariances, then the tangency portfolio should reflect actual investment in the market. In this case, ",(0,l.jsx)(r.A,{inline:!0,children:"\\( R_m \\)"}),' is the overall return on all assets in the market, or the return on the "market portfolio."']}),(0,l.jsxs)("p",{children:["In this way, the CAPM creates a theoretical relationship between any asset's excess return and the overall return of all assets in the market. The ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\frac{\\text{cov}(R_k, R_m)}{\\text{var}( R_m)} \\)"})," portion of the CAPM equation is called the asset's beta.",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            E[R_k] - R_f \n            &= \\frac{\\text{cov}(R_k, R_m)}{\\text{var}( R_m)}\\left( E[R_m]  - R_f \\right)  \\\\\n            &= \\beta_k\\left( E[R_m]  - R_f \\right)  \n            \\end{aligned}\n          \\]"})]}),(0,l.jsx)("p",{className:"heading2",children:"Beta"}),(0,l.jsxs)("p",{children:["To gain some intuition about how different assets are priced under the CAPM, let's rewrite beta in terms of the correlation coefficient between the individual asset and the market portfolio.",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\beta_k =  \\frac{\\text{cov}(R_k, R_m)}{\\text{var}( R_m)} = \\frac{\\rho_{k,m}\\sqrt{\\text{var}(R_k)\\text{var}(R_m)}}{\\text{var}(R_m)} = \\rho_{k,m}\\frac{\\sigma_k}{\\sigma_m}\n            \\end{aligned}\n          \\]"}),"Here, ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\rho_{k,m} \\)"})," is the correlation between the asset and the market portfolio and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\sigma_k\\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\sigma_m\\)"})," are the standard deviations of the asset and the market portfolio respectively. Beta increases as the correlation between the asset and the market portfolio increases. What does this mean for the price of the asset?"]}),(0,l.jsxs)("p",{children:["Let's consider the current purchase price of an asset with no dividends (",(0,l.jsx)(r.A,{inline:!0,children:"\\( P_{k,B}\\)"}),") given an uncertain future sale price ",(0,l.jsx)(r.A,{inline:!0,children:"\\( P_{k,S}\\)"}),". We can plug in ",(0,l.jsx)(r.A,{inline:!0,children:"\\( R_k = \\frac{P_{k,S} - P_{k,B}}{P_{k,B}}\\)"})," to the CAPM equation and solve for this purchase price in terms of the asset's beta.",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            &E\\left[\\frac{P_{k,S} - P_{k,B}}{P_{k,B}}\\right] - R_f = \\beta_k\\left( E[R_m]  - R_f \\right)  \\\\\n            &\\Leftrightarrow P_{k,B} = \\frac{E[P_{k,S}]}{\\beta_k\\left(E[R_m] - R_f\\right) + (1+R_f)} \\qquad\\qquad (6)\n            \\end{aligned}\n          \\]"}),"Equation 6 shows that the price of an asset decreases as the asset's beta increases. The intuition here is that assets that are more correlated with the market portfolio require a higher return than assets that are not as correlated with the market portfolio. To create a higher return for an asset that is more correlated with the market portfolio, the asset's current price must be lower than the price of a comparable asset with a lower market correlation."]}),(0,l.jsx)("p",{className:"heading2",children:"Diversifiable vs. Systematic Risk"}),(0,l.jsx)("p",{children:"One of the most important implications of the CAPM is its distinction between diversifiable risk and systematic (or market) risk."}),(0,l.jsx)("p",{children:"Diversifiable risk refers to risk that is specific to an individual asset, such as firm-specific shocks, management decisions, or idiosyncratic events. Because these risks are largely uncorrelated across assets, they can be reduced or eliminated by holding a sufficiently diversified portfolio."}),(0,l.jsx)("p",{children:"Systematic risk, on the other hand, reflects economy-wide fluctuations that affect many assets at once. This type of risk cannot be diversified away and is captured by an asset\u2019s covariance with the market portfolio."}),(0,l.jsx)("p",{children:"The CAPM shows that only systematic risk is priced. An asset\u2019s expected excess return depends not on its own variance, but on how much it co-moves with the market:"}),(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n        E[R_k] - R_f = \\beta_k\\left(E[R_m] - R_f\\right)\n        \\]"}),(0,l.jsx)("p",{children:"An asset with a high variance but little correlation with the market may have a low beta and therefore require only a modest risk premium. Conversely, an asset that closely tracks market movements will have a high beta and must offer a higher expected return to compensate investors."}),(0,l.jsx)("p",{children:"In this sense, beta measures an asset\u2019s contribution to the risk of a well-diversified portfolio, which is the risk that investors actually care about in equilibrium."}),(0,l.jsx)("p",{className:"heading2",children:"Capital Market Line and Security Market Line"}),(0,l.jsx)("p",{children:"On the previous page, we introduced the capital market line (CML), which describes the set of efficient portfolios available to investors when a risk-free asset is available."}),(0,l.jsx)("p",{children:"The CML gives the expected return of any efficient portfolio as a function of its total risk (measured by standard deviation):"}),(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n        E[R_p] = R_f + \\frac{E[R_m] - R_f}{\\sigma_m}\\,\\sigma_p\n        \\]"}),(0,l.jsxs)("p",{children:["Every portfolio on the capital market line is a linear combination of the risk-free asset and the market (tangency) portfolio. Importantly, the CML applies ",(0,l.jsx)("em",{children:"only"})," to efficient portfolios."]}),(0,l.jsxs)("p",{children:["The Capital Asset Pricing Model answers a different question: how should ",(0,l.jsx)("em",{children:"individual assets"})," be priced in equilibrium? This leads to a different relationship, known as the security market line (SML)."]}),(0,l.jsx)("p",{children:"The SML relates an asset\u2019s expected return to its systematic risk, measured by beta:"}),(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n        E[R_k] = R_f + \\beta_k\\left(E[R_m] - R_f\\right)\n        \\]"}),(0,l.jsxs)("p",{children:["While the CML uses total risk (",(0,l.jsx)(r.A,{inline:!0,children:"\\(\\sigma_p\\)"}),"), the SML uses systematic risk (",(0,l.jsx)(r.A,{inline:!0,children:"\\(\\beta_k\\)"}),"). This difference reflects the fact that individual assets are not necessarily efficient on their own, and that idiosyncratic risk can be diversified away."]}),(0,l.jsx)("p",{children:"In equilibrium, all correctly priced assets and portfolios\u2014efficient or not\u2014must lie on the security market line. Only efficient portfolios lie on the capital market line."})]}),(0,l.jsx)(s.A,{group:"Risk"}),(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,l.jsx)(a.k2,{className:"TD-link",to:"/corporate_finance/risk",children:"Contents"})})]})}},1094:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});n(5043),n(8941);var a=n(5475),i=n(4257),r=n(7971),s=n(2638),l=n(579);const o=[{month:"December 2017",google:51.93,sp500:2673.61,tbill:1.14},{month:"January 2018",google:58.06,sp500:2823.81,tbill:1.29},{month:"February 2018",google:54.83,sp500:2713.83,tbill:1.41},{month:"March 2018",google:51.21,sp500:2640.87,tbill:1.5},{month:"April 2018",google:50.49,sp500:2648.05,tbill:1.68},{month:"May 2018",google:53.85,sp500:2705.27,tbill:1.68},{month:"June 2018",google:55.37,sp500:2718.37,tbill:1.74},{month:"July 2018",google:60.41,sp500:2816.29,tbill:1.9},{month:"August 2018",google:60.46,sp500:2901.52,tbill:1.93},{month:"September 2018",google:59.23,sp500:2913.98,tbill:1.95},{month:"October 2018",google:53.44,sp500:2711.74,tbill:2.13},{month:"November 2018",google:54.31,sp500:2760.17,tbill:2.21},{month:"December 2018",google:51.4,sp500:2506.85,tbill:2.3},{month:"January 2019",google:55.4,sp500:2704.1,tbill:2.4},{month:"February 2019",google:55.58,sp500:2784.49,tbill:2.41},{month:"March 2019",google:58.23,sp500:2834.4,tbill:2.44},{month:"April 2019",google:58.98,sp500:2945.83,tbill:2.42},{month:"May 2019",google:54.77,sp500:2752.06,tbill:2.42},{month:"June 2019",google:53.64,sp500:2941.76,tbill:2.36},{month:"July 2019",google:60.38,sp500:2980.38,tbill:2.17},{month:"August 2019",google:58.96,sp500:2926.74,tbill:2.11},{month:"September 2019",google:60.5,sp500:2976.74,tbill:2.06},{month:"October 2019",google:62.54,sp500:3037.56,tbill:1.79},{month:"November 2019",google:64.76,sp500:3140.98,tbill:1.58},{month:"December 2019",google:66.35,sp500:3230.78,tbill:1.6}],c=o.map(((e,t)=>{const n=o[t-1],a=n?(e.google-n.google)/n.google:null,i=n?(e.sp500-n.sp500)/n.sp500:null,r=e.tbill/12/100;return{month:e.month,googlePrice:e.google,googleReturn:a,sp500Price:e.sp500,sp500Return:i,tbillMonthly:r,googleExcess:null!==a?a-r:null,sp500Excess:null!==i?i-r:null}})),h=o.slice(1).map(((e,t)=>{const n=o[t],a=(e.google-n.google)/n.google,i=(e.sp500-n.sp500)/n.sp500,r=e.tbill/12/100;return{month:e.month,googleExcess:a-r,sp500Excess:i-r}})),d=e=>e.reduce(((e,t)=>e+t),0)/e.length,u=h.map((e=>e.googleExcess)),p=h.map((e=>e.sp500Excess)),f=d(u),m=d(p),x=((e,t)=>{const n=d(e),a=d(t);return e.reduce(((e,i,r)=>e+(i-n)*(t[r]-a)),0)/(e.length-1)})(u,p),g=(e=>{const t=d(e);return e.reduce(((e,n)=>e+(n-t)**2),0)/(e.length-1)})(p),y=x/g,b=f-m*y;const v=function(){return(0,l.jsxs)("div",{className:"Risk",children:[(0,l.jsx)(s.A,{group:"Risk"}),(0,l.jsx)("p",{className:"heading1",children:"CAPM and Regression"}),(0,l.jsxs)(i.A,{children:[(0,l.jsx)("p",{className:"heading2",children:"Estimating Beta"}),(0,l.jsxs)("p",{children:["So far, we have used the assumption that all investors are mean-variance optimizers to derive a relationship between the expected return on the market portfolio ",(0,l.jsx)(r.A,{inline:!0,children:"\\( E[R_m] \\)"}),", the risk-free return ",(0,l.jsx)(r.A,{inline:!0,children:"\\( R_f \\)"}),", and the expected return on any other asset ",(0,l.jsx)(r.A,{inline:!0,children:"\\( E[R_k] \\)"}),".",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n                E[R_k] - R_f = \\overbrace{\\frac{\\text{cov}(R_m, R_k)}{\\text{var}(R_m)}}^{\\beta_k}(E[R_m] - R_f)\n            \\end{aligned}\n          \\]"}),"Recall that beta measures how much an asset\u2019s return tends to move when the market moves. A beta of 1 means the asset moves one-for-one with the market; a beta greater than 1 means it amplifies market movements; a beta less than 1 means it dampens them."]}),(0,l.jsxs)("p",{children:["If we think back to the lesson on ",(0,l.jsx)(a.k2,{className:"inline-link",to:"/stats/regression",children:"Linear Regression"}),", the expression ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta_k = \\frac{\\text{cov}(R_m, R_k)}{\\text{var}(R_m)} \\)"})," should look familiar. Recall that in the regression model",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n                y_i = \\alpha + \\beta x_i + \\varepsilon_i\n            \\end{aligned}\n          \\]"}),"we have ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta = \\frac{\\text{cov}(x_i,y_i)}{\\text{var}(x_i)} \\)"}),". If we plug in ",(0,l.jsx)(r.A,{inline:!0,children:"\\( y_i = R_k - R_f \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x_i = R_m - R_f \\)"}),", ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta \\)"})," becomes",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n                \\beta = \\frac{\\text{cov}(R_m - R_f, R_k - R_f)}{\\text{var}(R_m - R_f)} = \\frac{\\text{cov}(R_m, R_k)}{\\text{var}(R_m)} = \\beta_k\n            \\end{aligned}\n          \\]"}),"Thus, the coefficient from a regression of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( R_k - R_f \\)"})," on ",(0,l.jsx)(r.A,{inline:!0,children:"\\( R_m - R_f \\)"})," should produce the same ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta_k \\)"})," from the CAPM. This relationship allows us to use linear regression to estimate ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta_k \\)"})," empirically."]}),(0,l.jsx)("p",{className:"heading2",children:"What about Alpha?"}),(0,l.jsxs)("p",{children:["Let's revisit the CAPM equation with the structure of a linear regression model in mind.",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n                \\overbrace{E[R_k] - R_f}^{y_i} = \\overbrace{\\frac{\\text{cov}(R_m, R_k)}{\\text{var}(R_k)}}^{\\beta}\\overbrace{(E[R_m] - R_f)}^{x_i}\n            \\end{aligned}\n          \\]"}),"You'll notice that the linear regression model has an intercept term ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\alpha \\)"})," that is missing from the CAPM equation. This means that if the CAPM holds, the intercept term on a linear regression of the above form should be zero."]}),(0,l.jsxs)("p",{children:["If ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\alpha > 0 \\)"}),", then the asset earns abnormally high returns relative to what the CAPM predicts. If ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\alpha < 0 \\)"}),", then the asset earns abnormally low returns relative to what the CAPM predicts."]}),(0,l.jsx)("p",{className:"heading2",children:"Testing the CAPM"}),(0,l.jsxs)("p",{children:["The fact that the CAPM predicts ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\alpha = 0 \\)"})," in a linear regression creates an empirical test of the CAPM. Let's go through the process of testing this for a single asset."]}),(0,l.jsxs)("p",{children:["First, we need to choose a time interval over which to measure returns. For this example, we'll use monthly data. We'll use ",(0,l.jsx)("a",{className:"inline-link",href:"https://finance.yahoo.com/quote/GOOG/history/",target:"_blank",rel:"noopener noreferrer",children:"Google"})," stock as our asset. We can proxy for the market portfolio with a market stock price index like ",(0,l.jsx)("a",{className:"inline-link",href:"https://finance.yahoo.com/quote/%5EGSPC/history/",target:"_blank",rel:"noopener noreferrer",children:"the S&P 500"}),", which includes the top 500 companies listed on U.S. stock exchanges. We'll use the yield-to-maturity on ",(0,l.jsx)("a",{className:"inline-link",href:"https://fred.stlouisfed.org/series/DGS1MO",target:"_blank",rel:"noopener noreferrer",children:"1-month Treasury Bills"})," as the risk-free rate."]}),(0,l.jsx)("div",{className:"table-wrapper",children:(0,l.jsxs)("table",{className:"my-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"table-entry-head",children:"Month"}),(0,l.jsx)("th",{className:"table-entry-head",children:"Google Stock Price"}),(0,l.jsx)("th",{className:"table-entry-head",children:"S&P 500 Price"}),(0,l.jsx)("th",{className:"table-entry-head",children:"1-Month T-Bill YTM"})]})}),(0,l.jsx)("tbody",{children:o.map(((e,t)=>(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry",children:e.month}),(0,l.jsx)("td",{className:"table-entry",children:e.google}),(0,l.jsx)("td",{className:"table-entry",children:e.sp500.toLocaleString()}),(0,l.jsx)("td",{className:"table-entry",children:e.tbill})]},t)))})]})}),(0,l.jsxs)("p",{children:["First, we need to calculate the monthly return of Google stock and the S&P 500 during 2018 and 2019. Recall that the period ",(0,l.jsx)(r.A,{inline:!0,children:"\\( t \\)"})," return is given by",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n                R_t = \\frac{P_t - P_{t-1}}{P_{t-1}}\n            \\end{aligned}\n          \\]"}),"We also need to adjust the T-Bill yield. The FRED website reports an annual percentage rate, so we must divide by 100 and then divide by 12."]}),(0,l.jsx)("div",{className:"table-wrapper",children:(0,l.jsxs)("table",{className:"my-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"table-entry-head",children:"Month"}),(0,l.jsx)("th",{className:"table-entry-head",children:"Google Price"}),(0,l.jsx)("th",{className:"table-entry-head",children:"Google Monthly Return"}),(0,l.jsx)("th",{className:"table-entry-head",children:"S&P 500 Price"}),(0,l.jsx)("th",{className:"table-entry-head",children:"S&P 500 Monthly Return"}),(0,l.jsx)("th",{className:"table-entry-head",children:"Monthly T-Bill Rate"})]})}),(0,l.jsx)("tbody",{children:c.map(((e,t)=>(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry",children:e.month}),(0,l.jsx)("td",{className:"table-entry",children:e.googlePrice}),(0,l.jsx)("td",{className:"table-entry",children:null!==e.googleReturn?e.googleReturn.toFixed(6):"\u2014"}),(0,l.jsx)("td",{className:"table-entry",children:e.sp500Price.toLocaleString()}),(0,l.jsx)("td",{className:"table-entry",children:null!==e.sp500Return?e.sp500Return.toFixed(6):"\u2014"}),(0,l.jsx)("td",{className:"table-entry",children:e.tbillMonthly.toFixed(6)})]},t)))})]})}),(0,l.jsx)("p",{children:"Finally, we'll calculate excess returns as the monthly return on the asset minus the risk-free return for that month."}),(0,l.jsx)("div",{className:"table-wrapper",children:(0,l.jsxs)("table",{className:"my-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"table-entry-head",children:"Month"}),(0,l.jsx)("th",{className:"table-entry-head",children:"Google Excess Return"}),(0,l.jsx)("th",{className:"table-entry-head",children:"S&P 500 Excess Return"})]})}),(0,l.jsx)("tbody",{children:h.map(((e,t)=>(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry",children:e.month}),(0,l.jsx)("td",{className:"table-entry",children:e.googleExcess.toFixed(6)}),(0,l.jsx)("td",{className:"table-entry",children:e.sp500Excess.toFixed(6)})]},t)))})]})}),(0,l.jsxs)("p",{children:["Now, using the Google excess return as our ",(0,l.jsx)(r.A,{inline:!0,children:"\\( y \\)"})," variable and the S&P 500 excess return as our ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x \\)"})," variable, we can find the slope and intercept parameters in a linear regression.",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\hat \\beta &= \\frac{s_{x,y}}{s_x^2} \\approx \\frac{".concat(x.toFixed(6),"}{").concat(g.toFixed(6),"} \\approx ").concat(y.toFixed(4)," \\\\\n            \\hat \\alpha &= \\bar y - \\hat \\beta \\bar x \\approx ").concat(m.toFixed(6)," - (").concat(y.toFixed(4),")").concat(f.toFixed(6)," \\approx ").concat(b.toFixed(4),"\n            \\end{aligned}\n          \\]")})]}),(0,l.jsx)("p",{children:"The estimated beta for Google is close to one, indicating that its excess returns tend to move roughly one-for-one with the excess returns of the overall market. In other words, Google exhibits a level of systematic risk that is similar to that of the market portfolio, neither consistently amplifying nor dampening broad market movements."}),(0,l.jsxs)("p",{children:["The estimated alpha is small and close to zero, which is consistent with the CAPM prediction that ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\alpha = 0 \\)"}),". Under the CAPM, expected excess returns are fully explained by exposure to market risk, so securities should not earn persistent abnormal returns after adjusting for beta. This suggests that Google\u2019s return behavior is well described by its sensitivity to market-wide fluctuations."]}),(0,l.jsx)("p",{className:"heading2",children:"Limitations"}),(0,l.jsx)("p",{children:"Estimating alpha for a single stock is not, by itself, a strong test of the CAPM. Finding that Google's alpha is close to zero is consistent with the model, but it does not provide decisive evidence in its favor. The CAPM makes a joint prediction: all assets should have zero alpha when expected returns are measured relative to the true market portfolio. As a result, testing the model properly requires a joint test that all alphas are simultaneously equal to zero across a broad set of assets. Rejecting or failing to reject the CAPM therefore depends on the collective behavior of many securities, not the estimate for any one stock in isolation."}),(0,l.jsx)("p",{children:'Implenting such a joint test also forces us to decide on a single "market portfolio." In theory, the CAPM market portfolio includes all investable assets in the economy, weighted by their market values. This includes not only publicly traded equities, but also bonds, real estate, private businesses, and other forms of wealth. In practice, empirical tests typically use a stock market index, such as the S&P 500, as a proxy for the market portfolio.'}),(0,l.jsx)("p",{children:'Whether or not the CAPM is actually "correct," it is widely used in practice. The model is transparent, well-established, and grounded in economic theory. Thus, even though the CAPM is an imperfect description of reality, it continues to serve as a common reference point for translating risk into expected return in applied financial analysis.'})]}),(0,l.jsx)(s.A,{group:"Risk"}),(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,l.jsx)(a.k2,{className:"TD-link",to:"/corporate_finance/risk",children:"Contents"})})]})}},1813:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>q});n(5043),n(8941);var a=n(5475),i=n(4257),r=n(7971),s=n(2638),l=n(579);const o=[{month:"December 2018",spotify:113.5,mktrf:-9.57,smb:-2.37,hml:-1.88,rf:.2},{month:"January 2019",spotify:135.45,mktrf:8.4,smb:2.88,hml:-.45,rf:.21},{month:"February 2019",spotify:140.14,mktrf:3.4,smb:2.06,hml:-2.71,rf:.18},{month:"March 2019",spotify:138.8,mktrf:1.1,smb:-3.05,hml:-4.12,rf:.19},{month:"April 2019",spotify:135.77,mktrf:3.97,smb:-1.72,hml:2.16,rf:.21},{month:"May 2019",spotify:125.58,mktrf:-6.94,smb:-1.31,hml:-2.37,rf:.21},{month:"June 2019",spotify:146.22,mktrf:6.93,smb:.28,hml:-.7,rf:.18},{month:"July 2019",spotify:154.94,mktrf:1.19,smb:-1.93,hml:.47,rf:.19},{month:"August 2019",spotify:134.95,mktrf:-2.58,smb:-2.39,hml:-4.79,rf:.16},{month:"September 2019",spotify:114,mktrf:1.43,smb:-.97,hml:6.77,rf:.18},{month:"October 2019",spotify:144.3,mktrf:2.06,smb:.29,hml:-1.9,rf:.16},{month:"November 2019",spotify:142.55,mktrf:3.88,smb:.78,hml:-1.99,rf:.12},{month:"December 2019",spotify:149.55,mktrf:2.77,smb:.73,hml:1.78,rf:.14},{month:"January 2020",spotify:141.3,mktrf:-.11,smb:-3.13,hml:-6.25,rf:.13},{month:"February 2020",spotify:137.12,mktrf:-8.13,smb:1.07,hml:-3.8,rf:.12},{month:"March 2020",spotify:121.44,mktrf:-13.39,smb:-4.79,hml:-13.88,rf:.13},{month:"April 2020",spotify:151.57,mktrf:13.65,smb:2.45,hml:-1.34,rf:0},{month:"May 2020",spotify:180.93,mktrf:5.58,smb:2.49,hml:-4.85,rf:.01},{month:"June 2020",spotify:258.19,mktrf:2.46,smb:2.69,hml:-2.23,rf:.01},{month:"July 2020",spotify:257.82,mktrf:5.77,smb:-2.3,hml:-1.44,rf:.01},{month:"August 2020",spotify:282.16,mktrf:7.63,smb:-.28,hml:-2.88,rf:.01},{month:"September 2020",spotify:242.57,mktrf:-3.63,smb:-.03,hml:-2.65,rf:.01},{month:"October 2020",spotify:239.89,mktrf:-2.1,smb:4.27,hml:4.31,rf:.01},{month:"November 2020",spotify:291.37,mktrf:12.47,smb:5.72,hml:2.15,rf:.01},{month:"December 2020",spotify:314.66,mktrf:4.63,smb:4.79,hml:-1.34,rf:.01}],c=o.slice(1).map(((e,t)=>{const n=o[t],a=(e.spotify-n.spotify)/n.spotify;return{month:e.month,spotExcess:a-e.rf/100,mktrf:e.mktrf/100,smb:e.smb/100,hml:e.hml/100}})),h=e=>e.reduce(((e,t)=>e+t),0)/e.length,d=(e,t)=>{const n=h(e),a=h(t);return e.reduce(((e,i,r)=>e+(i-n)*(t[r]-a)),0)/(e.length-1)},u=e=>{const t=h(e);return e.reduce(((e,n)=>e+(n-t)**2),0)/(e.length-1)},p=c.map((e=>e.spotExcess)),f=c.map((e=>e.mktrf)),m=c.map((e=>e.smb)),x=c.map((e=>e.hml)),g=h(p),y=h(f),b=h(m),v=h(x),j=d(p,f),w=d(p,m),_=d(p,x),k=d(f,m),A=d(f,x),N=d(m,x),S=u(f),T=u(m),C=u(x),M=j/S,E=g-y*M,P=S*T*C-C*k**2-T*A**2-S*N**2+2*k*A*N,R=(j*(C*T-N**2)+w*(A*N-C*k)+_*(k*N-T*A))/P,I=(w*(C*S-A**2)+j*(N*A-C*k)+_*(k*A-S*N))/P,F=(_*(S*T-k**2)+w*(A*k-S*N)+j*(N*k-T*A))/P,D=g-y*R-b*I-v*F;const q=function(){return(0,l.jsxs)("div",{className:"Risk",children:[(0,l.jsx)(s.A,{group:"Risk"}),(0,l.jsx)("p",{className:"heading1",children:"Factor Models"}),(0,l.jsxs)(i.A,{children:[(0,l.jsxs)("p",{children:["In the last section, we found that the CAPM predicts that the intercept term in a regression of the excess return of an asset on the excess market return should be zero (",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\alpha = 0\\)"}),"). However, in practice, we often observe nonzero alphas under CAPM."]}),(0,l.jsx)("p",{children:"One way to interpret a nonzero alpha is that the asset is exposed to sources of risk that are not captured by the market as a whole. If investors care about these additional risks, they will demand compensation for bearing them, and that compensation will show up as a positive or negative alpha when we estimate the CAPM."}),(0,l.jsx)("p",{children:'Factor models build on this idea by expanding the CAPM to include more than one source of systematic risk. Instead of assuming that the market portfolio is the only thing that matters for expected returns, factor models allow multiple "factors" to influence asset prices.'}),(0,l.jsxs)("p",{children:["A ",(0,l.jsx)("em",{children:"factor"})," can be thought of as a common economic force that affects many firms at the same time. Examples might include firm size, the firm\u2019s level of debt, exposure to interest rates, or sensitivity to broader economic conditions. If an asset tends to perform poorly when a particular factor performs poorly, investors will generally require a higher expected return to hold that asset."]}),(0,l.jsxs)("p",{children:["In a multi-factor model, we use ",(0,l.jsx)(a.k2,{className:"inline-link",to:"/stats/multivariate_regression",children:"Multivariate Regression"})," to regress an asset\u2019s excess return on several factor returns rather than just the market return. Each coefficient measures how sensitive the asset is to a particular factor, and the intercept term represents the portion of returns that is not explained by any of the included factors. As we add relevant factors to the model, alphas should shrink toward zero. When a factor model produces intercepts that are close to zero across many assets, we say that the model does a good job of explaining returns."]}),(0,l.jsx)("p",{className:"heading2",children:"Fama-French Three-Factors"}),(0,l.jsx)("p",{children:"One of the most influential multi-factor models is the Fama\u2013French three-factor model. This model starts with the CAPM and adds two additional factors that capture patterns in stock returns that the market factor alone does not explain."}),(0,l.jsx)("p",{children:"The Fama\u2013French model includes the following three factors:"}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"1. The Market Factor (MKT). "}),"This is the same factor used in the CAPM: the excess return on the overall stock market. It captures the idea that when the market does well, most stocks tend to do well, and when the market performs poorly, most stocks tend to decline."]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:'2. The Size Factor (SMB, or "Small Minus Big"). '}),"This factor reflects the historical tendency of smaller firms to earn higher average returns than larger firms. Economically, smaller firms are often riskier: they may have less access to capital, more volatile earnings, and a higher likelihood of financial distress. Stocks of smaller companies tend to perform especially poorly during economic downturns, so investors demand higher expected returns to hold them."]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:'3. The Value Factor (HML, or "High Minus Low"). '}),'This factor captures the tendency of firms with high book-to-market ratios (often called "value" firms) to earn higher average returns than firms with low book-to-market ratios ("growth" firms). Value firms are frequently more mature, more leveraged, or facing business challenges, making them riskier in bad economic states. Growth firms, by contrast, tend to have more flexible business models and stronger growth prospects.']}),(0,l.jsx)("p",{className:"heading2",children:"Constructing Factors"}),(0,l.jsxs)("p",{children:["SMB and HML are not firm characteristics but factor-mimicking portfolio returns that capture how small firms and value firms perform relative to their counterparts in a given period. ",(0,l.jsx)("a",{className:"inline-link",href:"https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/Data_Library/six_portfolios.html",target:"_blank",rel:"noopener noreferrer",children:"Fama-French"})," construct these measures by first dividing firms up by their size and value. Size is measured using market equity, which is the total market value of a firm\u2019s common stock. Value is measured using the ratio of book equity to market equity. Book equity is an accounting measure based on the firm\u2019s balance sheet and reflects the historical value of the firm\u2019s net assets (assets minus liabilities) recorded under accounting rules."]}),(0,l.jsx)("p",{children:'The book-to-market ratio compares what the firm is worth on paper to what the market believes the firm is worth today. A high book-to-market ratio indicates that the firm\u2019s market value is low relative to its accounting value, which is why such firms are often described as "value" firms. Economically, firms with high book-to-market ratios are frequently more mature, more leveraged, or facing business or financial distress. These firms tend to perform especially poorly in bad economic times, making them riskier from an investor\u2019s perspective. As a result, investors generally require higher expected returns to hold them, which shows up as the value premium captured by HML.'}),(0,l.jsxs)("p",{children:["Using these measures of size and value, ",(0,l.jsx)("a",{className:"inline-link",href:"https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/Data_Library/six_portfolios.html",target:"_blank",rel:"noopener noreferrer",children:"Fama-French"})," divide firms into six groups: Small Value, Small Neutral, Small Growth, Big Value, Big Neutral, and Big Growth. Then ",(0,l.jsx)("a",{className:"inline-link",href:"https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/Data_Library/f-f_factors.html",target:"_blank",rel:"noopener noreferrer",children:"Fama-French"})," calculate returns for each group and construct SMB and HML as",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n                SMB =&\\; \\frac{1}{3}(\\text{Small Value} + \\text{Small Neutral} + \\text{Small Growth}) \\\\\n                &- \\frac{1}{3}(\\text{Big Value} + \\text{Big Neutral} + \\text{Big Growth}) \\\\ \\\\\n                HML =&\\; \\frac{1}{2} (\\text{Small Value} + \\text{Big Value}) \\\\\n                &- \\frac{1}{2}(\\text{Small Growth} + \\text{Big Growth})\n            \\end{aligned}\n          \\]"})]}),(0,l.jsx)("p",{className:"heading2",children:"Interpreting Model Coefficients"}),(0,l.jsxs)("p",{children:["For an asset with return ",(0,l.jsx)(r.A,{inline:!0,children:"\\( R \\)"}),", the Fama-French three factor model establishes the following relationship:",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            R_{t} - R_{f,t}\n            &= \\alpha \n            + \\beta_{MKT}\\,(MKT_{t} - R_{f,t}) + \\beta_{SMB}\\,SMB_t\n            + \\beta_{HML}\\,HML_t\n            + \\varepsilon_{t}\n            \\end{aligned}\n            \\]"}),"Here, for period ",(0,l.jsx)(r.A,{inline:!0,children:"\\( t \\)"}),", ",(0,l.jsx)(r.A,{inline:!0,children:"\\( R_t \\)"})," is the return of the asset; ",(0,l.jsx)(r.A,{inline:!0,children:"\\( R_{f,t} \\)"})," is the risk-free return; ",(0,l.jsx)(r.A,{inline:!0,children:"\\( MKT_t \\)"})," is the market return; ",(0,l.jsx)(r.A,{inline:!0,children:"\\( SMB_t \\)"})," is the size factor; ",(0,l.jsx)(r.A,{inline:!0,children:"\\( HML_t \\)"})," is the value factor; and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\varepsilon_t \\)"})," is the error term."]}),(0,l.jsxs)("p",{children:["Market beta (",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta_{MKT} \\)"}),") measures overall volatility, ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta_{SMB} \\)"})," captures firm size characteristics, ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta_{HML} \\)"})," captures value versus growth, and alpha measures what remains unexplained."]}),(0,l.jsx)("div",{className:"table-wrapper",children:(0,l.jsxs)("table",{className:"my-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"table-entry-head",children:"Coefficient"}),(0,l.jsx)("th",{className:"table-entry-head",children:"Value"}),(0,l.jsx)("th",{className:"table-entry-head",children:"Interpretation"}),(0,l.jsx)("th",{className:"table-entry-head",children:"Example Firms"})]})}),(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta_{MKT} \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( \\approx 0 \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:"Little exposure to overall market movements"}),(0,l.jsx)("td",{className:"table-entry",children:"Regulated utilities, some consumer staples"})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry"}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( 0 < \\beta_{MKT} < 1 \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:"Moves with the market, but less volatile than the market"}),(0,l.jsx)("td",{className:"table-entry",children:"Coca-Cola, Procter & Gamble"})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry"}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( \\approx 1 \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:"Roughly as volatile as the market"}),(0,l.jsx)("td",{className:"table-entry",children:"Broad market ETFs, diversified industrials"})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry"}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( > 1 \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:"More volatile than the market; amplified response to market movements"}),(0,l.jsx)("td",{className:"table-entry",children:"Airlines, cyclical technology firms"})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry"}),(0,l.jsx)("td",{className:"table-entry"}),(0,l.jsx)("td",{className:"table-entry"}),(0,l.jsx)("td",{className:"table-entry"})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta_{SMB} \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( < 0 \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:"Behaves more like a large-cap firm"}),(0,l.jsx)("td",{className:"table-entry",children:"Apple (recent years), ExxonMobil"})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry"}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( \\approx 0 \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:"Little systematic exposure to firm size"}),(0,l.jsx)("td",{className:"table-entry",children:"Johnson & Johnson"})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry"}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( > 0 \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:"Behaves more like a small-cap firm"}),(0,l.jsx)("td",{className:"table-entry",children:"Recently public firms, regional banks"})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry"}),(0,l.jsx)("td",{className:"table-entry"}),(0,l.jsx)("td",{className:"table-entry"}),(0,l.jsx)("td",{className:"table-entry"})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta_{HML} \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( < 0 \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:"Growth-oriented firm (low book-to-market)"}),(0,l.jsx)("td",{className:"table-entry",children:"Netflix, Salesforce"})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry"}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( \\approx 0 \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:"Neutral with respect to value vs. growth"}),(0,l.jsx)("td",{className:"table-entry",children:"Microsoft (recent years)"})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry"}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( > 0 \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:"Value-oriented firm (high book-to-market)"}),(0,l.jsx)("td",{className:"table-entry",children:"Ford, traditional manufacturing firms"})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry"}),(0,l.jsx)("td",{className:"table-entry"}),(0,l.jsx)("td",{className:"table-entry"}),(0,l.jsx)("td",{className:"table-entry"})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( \\alpha \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( \\approx 0 \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:"Returns are well explained by the included factors"}),(0,l.jsx)("td",{className:"table-entry",children:"Most diversified firms"})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry"}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( > 0 \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:"Returns exceed what the model predicts"}),(0,l.jsx)("td",{className:"table-entry",children:"Firms during speculative booms"})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry"}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( < 0 \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:"Returns fall short of what the model predicts"}),(0,l.jsx)("td",{className:"table-entry",children:"Firms in prolonged decline"})]})]})]})}),(0,l.jsx)("p",{className:"heading2",children:"Example"}),(0,l.jsxs)("p",{children:["Let's use the Fama-French three-factor model to predict returns of ",(0,l.jsx)("a",{className:"inline-link",href:"https://finance.yahoo.com/quote/SPOT/history/",target:"_blank",rel:"noopener noreferrer",children:"Spotify"})," stock during 2019 and 2020 (Spotify ",(0,l.jsx)("a",{className:"inline-link",href:"https://corpgov.law.harvard.edu/2018/04/26/a-look-under-the-hood-of-spotifys-direct-listing/",target:"_blank",rel:"noopener noreferrer",children:"went public"})," in April 2018). We have following stock price values and ",(0,l.jsx)("a",{className:"inline-link",href:"https://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library_202412_archive.html",target:"_blank",rel:"noopener noreferrer",children:"Fama-French factors"})," during the time period:"]}),(0,l.jsx)("div",{className:"table-wrapper",children:(0,l.jsxs)("table",{className:"my-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"table-entry-head",children:"Month"}),(0,l.jsx)("th",{className:"table-entry-head",children:"Spotify Stock Price"}),(0,l.jsx)("th",{className:"table-entry-head",children:"Mkt-RF"}),(0,l.jsx)("th",{className:"table-entry-head",children:"SMB"}),(0,l.jsx)("th",{className:"table-entry-head",children:"HML"}),(0,l.jsx)("th",{className:"table-entry-head",children:"RF"})]})}),(0,l.jsx)("tbody",{children:o.map(((e,t)=>(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry",children:e.month}),(0,l.jsx)("td",{className:"table-entry",children:e.spotify}),(0,l.jsx)("td",{className:"table-entry",children:e.mktrf}),(0,l.jsx)("td",{className:"table-entry",children:e.smb}),(0,l.jsx)("td",{className:"table-entry",children:e.hml}),(0,l.jsx)("td",{className:"table-entry",children:e.rf})]},t)))})]})}),(0,l.jsx)("p",{children:'"Mkt-RF" is the market excess return as calculated by Fama-French, or the return on the market portfolio minus the risk-free return; "SMB" is the size factor; "HML" is the value factor; and "RF" is the risk-free return. The Fama-French data is in percentage terms, so we\'ll divide "Mkt-RF," "SMB," "HML," and "RF" by 100. Next, we\'ll calculate the return on the Spotify stock and subtract the risk-free return to get the excess return.'}),(0,l.jsx)("div",{className:"table-wrapper",children:(0,l.jsxs)("table",{className:"my-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"table-entry-head",children:"Month"}),(0,l.jsx)("th",{className:"table-entry-head",children:"Spotify Excess Return"}),(0,l.jsx)("th",{className:"table-entry-head",children:"Mkt-RF"}),(0,l.jsx)("th",{className:"table-entry-head",children:"SMB"}),(0,l.jsx)("th",{className:"table-entry-head",children:"HML"})]})}),(0,l.jsx)("tbody",{children:c.map(((e,t)=>(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry",children:e.month}),(0,l.jsx)("td",{className:"table-entry",children:e.spotExcess.toFixed(4)}),(0,l.jsx)("td",{className:"table-entry",children:e.mktrf.toFixed(4)}),(0,l.jsx)("td",{className:"table-entry",children:e.smb.toFixed(4)}),(0,l.jsx)("td",{className:"table-entry",children:e.hml.toFixed(4)})]},t)))})]})}),(0,l.jsxs)("p",{children:["Under the CAPM, an asset\u2019s excess return is explained entirely by its exposure to the market portfolio. If the model successfully captures the relevant sources of risk, the intercept term should be close to zero.",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            R_{t} - R_{f,t} &= \\alpha + \\beta_{MKT}\\,(MKT_{t} - R_{f,t}) + \\varepsilon_{t}\n            \\end{aligned}\n            \\]"}),"Here, ",(0,l.jsx)(r.A,{inline:!0,children:"\\( R \\)"})," is the return on the Spotify stock indexed by months ",(0,l.jsx)(r.A,{inline:!0,children:"\\( t \\)"}),"."]}),(0,l.jsxs)("p",{children:["Using the data, we have the following estimates for ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\alpha \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta_{MKT} \\)"}),":",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\hat \\alpha &= \\bar R - \\hat \\beta_{MKT} (\\overline{MKT}) \\approx ".concat(g.toFixed(6)," - (").concat(M.toFixed(4),")").concat(y.toFixed(6)," \\approx ").concat(E.toFixed(4)," \\\\\n            \\hat \\beta_{MKT} &= \\frac{s_{MKT,R}}{s_{MKT}^2} \\approx \\frac{").concat(j.toFixed(6),"}{").concat(S.toFixed(6),"} \\approx ").concat(M.toFixed(4)," \n            \\end{aligned}\n          \\]")})]}),(0,l.jsxs)("p",{children:["In the Fama\u2013French model, an asset\u2019s excess return is explained by its sensitivity to each factor. As before, if the model successfully captures the relevant sources of risk, the intercept term should be close to zero.",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            R_{t} - R_{f,t}\n            &= \\alpha\n            + \\beta_{MKT}\\,(MKT_{t} - R_{f,t}) + \\beta_{SMB}\\,SMB_t\n            + \\beta_{HML}\\,HML_t\n            + \\varepsilon_{t}\n            \\end{aligned}\n            \\]"})]}),(0,l.jsxs)("p",{children:["Adding in variables for size and value gives us the following coefficient estimates:",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\hat \\beta = \\begin{bmatrix} \\hat \\alpha \\\\ \\hat \\beta_{MKT} \\\\ \\hat \\beta_{SMB} \\\\ \\hat \\beta_{HML} \\end{bmatrix} &= (X'X)^{-1}X'Y \\\\\n            &= \\left(\\begin{bmatrix} 1 & 1 & \\dots & 1 \\\\ MKT_1 & MKT_2 & \\dots & MKT_T \\\\ SMB_1 & SMB_2 & \\dots & SMB_T \\\\ HML_1 & HML_2 & \\dots & HML_T \\end{bmatrix}  \\begin{bmatrix} 1 & MKT_1 & SMB_1 & HML_1 \\\\ 1 & MKT_2 & SMB_2 & HML_2 \\\\ \\vdots & \\vdots & \\vdots & \\vdots \\\\ 1 & MKT_T & SMB_T & HML_T \\end{bmatrix} \\right)^{-1}\n            \\begin{bmatrix} 1 & 1 & \\dots & 1 \\\\ MKT_1 & MKT_2 & \\dots & MKT_T \\\\ SMB_1 & SMB_2 & \\dots & SMB_T \\\\ HML_1 & HML_2 & \\dots & HML_T \\end{bmatrix}  \\begin{bmatrix} R_1 \\\\ R_2 \\\\ \\vdots \\\\ R_T \\end{bmatrix} \\\\\n            &\\approx \\begin{bmatrix} ".concat(D.toFixed(4)," \\\\ ").concat(R.toFixed(4),"  \\\\ ").concat(I.toFixed(4)," \\\\ ").concat(F.toFixed(4)," \\end{bmatrix} \n            \\end{aligned}\n          \\]")})]}),(0,l.jsx)("p",{children:"Under the CAPM, Spotify\u2019s market beta is about 1.48, indicating that the stock is considerably more volatile than the market as a whole. When we introduce the size and value factors, the market beta falls to about 1.31. This tells us that part of what looked like market exposure in the CAPM regression was actually exposure to other systematic risks."}),(0,l.jsxs)("p",{children:["The size coefficient (",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta_{SMB} \\approx 2.48 \\)"}),") is large and positive, indicating that Spotify\u2019s returns closely track the performance of small-cap stocks relative to large-cap stocks. Although Spotify is a well-known company, during this period it behaved more like a riskier, growth-oriented firm whose returns co-moved with smaller-cap stocks, reflecting higher volatility and sensitivity to economic conditions."]}),(0,l.jsxs)("p",{children:["The value coefficient (",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta_{HML} \\approx -1.31 \\)"}),") is large and negative. This reflects Spotify\u2019s growth-oriented characteristics: low book equity, limited current profitability, and high expectations about future growth. When growth stocks outperform value stocks, Spotify tends to perform well; when value stocks outperform, Spotify tends to lag."]}),(0,l.jsx)("p",{children:"Most importantly, the intercept term changes sign and magnitude. Under the CAPM, Spotify appears to earn a positive alpha of about 0.02. Under the three-factor model, alpha becomes slightly negative and close to zero. This suggests that what initially looked like abnormal performance is largely explained by Spotify\u2019s exposure to size and growth risk."}),(0,l.jsx)("p",{children:"In other words, the Fama\u2013French model reframes Spotify\u2019s returns over this period not as evidence of superior performance or mispricing, but as compensation for bearing systematic risks associated with small, growth-oriented firms."}),(0,l.jsx)("p",{className:"heading2",children:"Other Factors"}),(0,l.jsxs)("p",{children:["The Fama\u2013French three-factor model is only one example of a broader approach to asset pricing. Over time, researchers have identified many other variables that appear to help explain differences in stock returns. These variables are often referred to as ",(0,l.jsx)("em",{children:"factors"})," and, like SMB and HML, are typically constructed as portfolio returns that isolate exposure to a particular characteristic."]}),(0,l.jsxs)("p",{children:["One commonly used extension is the ",(0,l.jsx)("strong",{children:"momentum factor"}),", which captures the tendency of stocks that have performed well in the recent past to continue performing well in the short term. Firms with strong recent returns tend to outperform firms with weak recent returns, even after controlling for market, size, and value risk."]}),(0,l.jsxs)("p",{children:["Another widely studied factor is ",(0,l.jsx)("strong",{children:"profitability"}),". Firms with high operating profits relative to their assets tend to earn higher average returns than less profitable firms. Similarly, an ",(0,l.jsx)("strong",{children:"investment factor"})," captures the tendency of firms that invest aggressively to earn lower future returns than firms that invest more conservatively."]}),(0,l.jsx)("p",{children:"More broadly, researchers have proposed factors based on a wide range of firm characteristics, including leverage, liquidity, volatility, payout policy, and accounting accruals. In principle, any characteristic that is correlated with returns across many firms could be turned into a factor-mimicking portfolio."}),(0,l.jsxs)("p",{children:['This proliferation of proposed factors has led to what is often called the "',(0,l.jsx)("a",{className:"inline-link",href:"https://papers.ssrn.com/sol3/papers.cfm?abstract_id=3341728",target:"_blank",rel:"noopener noreferrer",children:"factor zoo"}),'." While many factors appear statistically significant in sample, not all of them reflect true sources of systematic risk. Distinguishing meaningful factors from spurious ones remains an active area of research.']})]}),(0,l.jsx)(s.A,{group:"Risk"}),(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,l.jsx)(a.k2,{className:"TD-link",to:"/corporate_finance/risk",children:"Contents"})})]})}},1059:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(5043),i=n(6980),r=n(579);const s=e=>{let{A:t,L:n}=e;const s=(0,a.useRef)();return(0,a.useEffect)((()=>{const e=20,a=30,r=30,l=40,o=100,c=.5,h=i.Ltv(s.current).attr("width",500).attr("height",300).style("overflow","visible");h.selectAll("*").remove();const d=i.m4Y().domain([0,o]).range([l,500-a]),u=i.m4Y().domain([0,o]).range([300-r,e]),p=i.l78(d).ticks(10),f=i.V4s(u);h.append("g").attr("transform","translate(0,".concat(280,")")).call(p),h.append("g").attr("transform","translate(30,10)").call(f);const m=i.y17(0,o,1).map((e=>({x:e,y:-1/t*Math.log(c*Math.exp(-t*(e+100))+.5*Math.exp(-t*e))-e}))),x=i.y17(0,o,1).map((e=>({x:e,y:Math.pow(c*Math.pow(e+100,1-n)+.5*Math.pow(e,1-n),1/(1-n))-e}))),g=i.n8j().x((e=>d(e.x))).y((e=>u(e.y))).curve(i.qrM);h.append("path").datum(m).attr("fill","none").attr("stroke","red").attr("stroke-width",2).attr("d",g),h.append("path").datum(x).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",2).attr("d",g)}),[t,n]),(0,r.jsx)("svg",{ref:s})}},6335:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var a=n(5043),i=n(6980),r=n(579);const s=700,l=450,o={top:20,right:30,bottom:50,left:60},c=(e,t,n)=>Math.min(t,Math.max(e,n));function h(){const e=(0,a.useRef)(),[t,n]=(0,a.useState)({mu:.1,sigma:.15}),[h,d]=(0,a.useState)({mu:.06,sigma:.1}),[u,p]=(0,a.useState)({mu:.14,sigma:.2}),[f,m]=(0,a.useState)(.2),[x,g]=(0,a.useState)(-.1),[y,b]=(0,a.useState)(0),v=function(e,t){return e*t-Math.sqrt((1-e**2)*(1-t**2))}(f,x),j=function(e,t){return e*t+Math.sqrt((1-e**2)*(1-t**2))}(f,x),w=c(v,j,y);(0,a.useEffect)((()=>{y!==w&&b(w)}),[w,y]);const _=(0,a.useMemo)((()=>i.m4Y().domain([0,.45]).range([o.left,s-o.right])),[]),k=(0,a.useMemo)((()=>i.m4Y().domain([0,.18]).range([l-o.bottom,o.top])),[]);(0,a.useEffect)((()=>{const t=i.Ltv(e.current);t.select(".x-axis").attr("transform","translate(0, ".concat(l-o.bottom,")")).call(i.l78(_)),t.select(".y-axis").attr("transform","translate(".concat(o.left,", 0)")).call(i.V4s(k))}),[_,k]);const A=(0,a.useMemo)((()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25;const t=[];for(let n=0;n<=e;n++)for(let a=0;a<=e-n;a++){const i=n/e,r=a/e,s=1-i-r;t.push([i,r,s])}return t}(20)),[20]),N=(0,a.useMemo)((()=>A.map((e=>{let[n,a,i]=e;const r=n*n*t.sigma**2+a*a*h.sigma**2+i*i*u.sigma**2+2*n*a*f*t.sigma*h.sigma+2*n*i*x*t.sigma*u.sigma+2*a*i*w*h.sigma*u.sigma;return Math.sqrt(Math.max(0,r))}))),[A,t.sigma,h.sigma,u.sigma,f,x,w]),S=(0,a.useMemo)((()=>A.map((e=>{let[n,a,i]=e;return n*t.mu+a*h.mu+i*u.mu}))),[A,t.mu,h.mu,u.mu]),T=(0,a.useMemo)((()=>N.map(((e,t)=>[_(e),k(S[t])]))),[N,S,_,k]),C=(0,a.useMemo)((()=>[t.sigma,h.sigma,u.sigma,f,x,w].map((e=>e.toFixed(4))).join("|")),[t.sigma,h.sigma,u.sigma,f,x,w]),M=(0,a.useMemo)((()=>{if(T.length<3)return null;const e=i.CxN(T);return e?"M"+e.map((e=>"".concat(e[0],",").concat(e[1]))).join("L")+"Z":null}),[T,C]),E=e=>{let t=null;return i.$Er().on("drag",(n=>{t||(t=requestAnimationFrame((()=>{e({sigma:c(..._.domain(),_.invert(n.x)),mu:c(...k.domain(),k.invert(n.y))}),t=null})))}))};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("svg",{ref:e,width:s,height:l,children:[(0,r.jsx)("g",{className:"x-axis"}),(0,r.jsx)("g",{className:"y-axis"}),(0,r.jsx)("text",{x:s/2,y:l-10,textAnchor:"middle",fontSize:12,children:"Standard Deviation (Risk)"}),(0,r.jsx)("text",{transform:"rotate(-90)",x:-l/2,y:15,textAnchor:"middle",fontSize:12,children:"Mean Return"}),M&&(0,r.jsx)("path",{d:M,fill:"steelblue",opacity:.25}),(0,r.jsx)("circle",{ref:e=>e&&i.Ltv(e).call(E(n)),cx:_(t.sigma),cy:k(t.mu),r:7,fill:"tomato"}),(0,r.jsx)("text",{x:_(t.sigma)+10,y:k(t.mu),fontSize:11,children:"Asset 1"}),(0,r.jsx)("circle",{ref:e=>e&&i.Ltv(e).call(E(d)),cx:_(h.sigma),cy:k(h.mu),r:7,fill:"orange"}),(0,r.jsx)("text",{x:_(h.sigma)+10,y:k(h.mu),fontSize:11,children:"Asset 2"}),(0,r.jsx)("circle",{ref:e=>e&&i.Ltv(e).call(E(p)),cx:_(u.sigma),cy:k(u.mu),r:7,fill:"purple"}),(0,r.jsx)("text",{x:_(u.sigma)+10,y:k(u.mu),fontSize:11,children:"Asset 3"})]}),(0,r.jsxs)("div",{style:{marginTop:10},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:380},children:[(0,r.jsxs)("label",{children:["\u03c1\u2081\u2082: ",(0,r.jsx)("strong",{children:f.toFixed(2)})]}),(0,r.jsx)("input",{type:"range",min:-1,max:1,step:.01,value:f,onChange:e=>m(+e.target.value),style:{width:300,marginLeft:10}})]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:380},children:[(0,r.jsxs)("label",{children:["\u03c1\u2081\u2083: ",(0,r.jsx)("strong",{children:x.toFixed(2)})]}),(0,r.jsx)("input",{type:"range",min:-1,max:1,step:.01,value:x,onChange:e=>g(+e.target.value),style:{width:300,marginLeft:10}})]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:380},children:[(0,r.jsxs)("label",{children:["\u03c1\u2082\u2083: ",(0,r.jsx)("strong",{children:w.toFixed(2)})]}),(0,r.jsx)("input",{type:"range",min:-1,max:1,step:.01,value:y,onChange:e=>b(+e.target.value),style:{width:300,marginLeft:10}})]})]})]})}},5081:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(5043),i=n(6980),r=n(579);const s=700,l=450,o={top:20,right:30,bottom:50,left:60};function c(){const e=(0,a.useRef)(),[t,n]=(0,a.useState)({mu:.1,sigma:.15}),[c,h]=(0,a.useState)({mu:.06,sigma:.1}),[d,u]=(0,a.useState)(-.2),p=(0,a.useMemo)((()=>i.m4Y().domain([0,.4]).range([o.left,s-o.right])),[]),f=(0,a.useMemo)((()=>i.m4Y().domain([0,.15]).range([l-o.bottom,o.top])),[]);(0,a.useEffect)((()=>{const t=i.Ltv(e.current);t.select(".x-axis").attr("transform","translate(0, ".concat(l-o.bottom,")")).call(i.l78(p)),t.select(".y-axis").attr("transform","translate(".concat(o.left,", 0)")).call(i.V4s(f))}),[p,f]);const m=(0,a.useMemo)((()=>i.y17(101).map((e=>{const n=e/100,a=n*t.mu+(1-n)*c.mu,i=n**2*t.sigma**2+(1-n)**2*c.sigma**2+2*n*(1-n)*d*t.sigma*c.sigma;return{mu:a,sigma:Math.sqrt(Math.max(0,i))}}))),[t,c,d]),x=(e,t,n)=>Math.min(t,Math.max(e,n)),g=e=>i.$Er().on("drag",(t=>{const[n,a]=p.domain(),[i,r]=f.domain(),s=x(n,a,p.invert(t.x)),l=x(i,r,f.invert(t.y));e({sigma:s,mu:l})}));return(0,r.jsxs)("div",{children:[(0,r.jsxs)("svg",{ref:e,width:s,height:l,children:[(0,r.jsx)("g",{className:"x-axis"}),(0,r.jsx)("g",{className:"y-axis"}),(0,r.jsx)("text",{x:s/2,y:l-10,textAnchor:"middle",fontSize:12,children:"Standard Deviation (Risk)"}),(0,r.jsx)("text",{transform:"rotate(-90)",x:-l/2,y:15,textAnchor:"middle",fontSize:12,children:"Mean Return"}),(0,r.jsx)("path",{d:i.n8j().x((e=>p(e.sigma))).y((e=>f(e.mu))).curve(i.nVG)(m),fill:"none",stroke:"steelblue",strokeWidth:2}),(0,r.jsx)("circle",{ref:e=>{e&&i.Ltv(e).call(g(n))},cx:p(t.sigma),cy:f(t.mu),r:7,fill:"tomato"}),(0,r.jsx)("text",{x:p(t.sigma)+10,y:f(t.mu),fontSize:11,children:"Stock Y"}),(0,r.jsx)("circle",{ref:e=>{e&&i.Ltv(e).call(g(h))},cx:p(c.sigma),cy:f(c.mu),r:7,fill:"orange"}),(0,r.jsx)("text",{x:p(c.sigma)+10,y:f(c.mu),fontSize:11,children:"Stock Z"})]}),(0,r.jsxs)("div",{style:{marginTop:10},children:[(0,r.jsxs)("label",{children:["Correlation: ",(0,r.jsx)("strong",{children:d.toFixed(2)})]}),(0,r.jsx)("input",{type:"range",min:-1,max:1,step:.01,value:d,onChange:e=>u(+e.target.value),style:{width:300,marginLeft:10}})]})]})}},2535:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});n(5043);var a=n(579);const i=e=>{let{a:t=.4,b:n=.3,overlap:i=.1}=e;return(0,a.jsxs)("svg",{width:"300",height:"200",viewBox:"0 0 300 200",children:[(0,a.jsx)("circle",{cx:"120",cy:"100",r:"70",fill:"rgba(255, 99, 132, 0.5)"}),(0,a.jsx)("circle",{cx:"180",cy:"100",r:"70",fill:"rgba(54, 162, 235, 0.5)"}),(0,a.jsx)("text",{x:"80",y:"100",textAnchor:"middle",fontSize:"14",children:"Pr(A)"}),(0,a.jsx)("text",{x:"220",y:"100",textAnchor:"middle",fontSize:"14",children:"Pr(B)"}),(0,a.jsx)("text",{x:"150",y:"100",textAnchor:"middle",fontSize:"14",children:"Pr(A \u2229 B)"})]})}},4116:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(5043),i=n(6980),r=n(579);const s=e=>{let{r:t,n:n}=e;const s=(0,a.useRef)(),l=300,o=50;return(0,a.useEffect)((()=>{const e=i.Ltv(s.current);e.selectAll("*").remove();const a=i.y17(0,31),r=a.map((e=>({time:e,value:10*Math.pow(1+t/n,n*e)}))),l=a.map((e=>({time:e,value:10*Math.exp(t*e)}))),c=i.m4Y().domain([0,30]).range([o,450]),h=Math.max(...r.map((e=>e.value)),...l.map((e=>e.value))),d=i.m4Y().domain([10,h]).range([250,o]),u=i.l78(c).ticks(10),p=i.V4s(d);e.append("g").attr("transform","translate(0,".concat(250,")")).call(u),e.append("g").attr("transform","translate(".concat(o,",0)")).call(p);const f=i.n8j().x((e=>c(e.time))).y((e=>d(e.value))).curve(i.nVG);e.append("path").datum(r).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",2).attr("d",f),e.append("path").datum(l).attr("fill","none").attr("stroke","red").attr("stroke-width",2).attr("stroke-dasharray","5,5").attr("d",f),e.append("text").attr("x",250).attr("y",290).attr("text-anchor","middle").text("Time Period"),e.append("text").attr("x",-150).attr("y",15).attr("transform","rotate(-90)").attr("text-anchor","middle").text("Investment Value"),e.append("line").style("stroke","red").attr("stroke-width",2).attr("stroke-dasharray","5,5").attr("x1",150).attr("y1",20).attr("x2",165).attr("y2",20),e.append("line").style("stroke","steelblue").attr("stroke-width",2).attr("x1",150).attr("y1",40).attr("x2",165).attr("y2",40),e.append("text").attr("x",170).attr("y",20).text("Continuous Compounding").style("font-size","15px").attr("alignment-baseline","middle"),e.append("text").attr("x",170).attr("y",40).text("Compounding n Times Per Period").style("font-size","15px").attr("alignment-baseline","middle")}),[t,n]),(0,r.jsx)("svg",{ref:s,width:500,height:l})}},1270:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});n(5043),n(7113);var a=n(5475),i=n(2638),r=n(579);const s=function(){return(0,r.jsxs)("div",{className:"TimeDiscounting",children:[(0,r.jsx)(i.A,{group:"TD"}),(0,r.jsx)("p",{className:"heading1",children:"Time Discounting"}),(0,r.jsx)("div",{style:{display:"flex",paddingLeft:"10vw"},children:(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"TD-link",to:"/corporate_finance/time_discounting/intro",children:"Introduction"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"TD-content",children:"Explanations for Time Discounting"}),(0,r.jsx)("li",{className:"TD-content",children:"Discount Rate"})]})]}),(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"TD-link",to:"/corporate_finance/time_discounting/compound_interest",children:"Compound Interest"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"TD-content",children:"Preliminaries"}),(0,r.jsx)("li",{className:"TD-content",children:"No Compounding"}),(0,r.jsx)("li",{className:"TD-content",children:"Compounding Every Period"}),(0,r.jsx)("li",{className:"TD-content",children:"Compounding n Times Per Period"}),(0,r.jsx)("li",{className:"TD-content",children:"Continuous Compounding"}),(0,r.jsx)("li",{className:"TD-content",children:"Examples"})]})]}),(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"TD-link",to:"/corporate_finance/time_discounting/annuities",children:"Annuities"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"TD-content",children:"Preliminaries"}),(0,r.jsx)("li",{className:"TD-content",children:"General Annuity Formula"}),(0,r.jsx)("li",{className:"TD-content",children:"Perpetuity"}),(0,r.jsx)("li",{className:"TD-content",children:"Fixed Payment Annuity"}),(0,r.jsx)("li",{className:"TD-content",children:"Growth Annuity"}),(0,r.jsx)("li",{className:"TD-content",children:"Time Units"}),(0,r.jsx)("li",{className:"TD-content",children:"Examples"})]})]}),(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"TD-link",to:"/corporate_finance/time_discounting/investment_rules",children:"Investment Decision Rules"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"TD-content",children:"Net Present Value"}),(0,r.jsx)("li",{className:"TD-content",children:"Internal Rate of Return"}),(0,r.jsx)("li",{className:"TD-content",children:"Discounted Cash Flow Analysis"}),(0,r.jsx)("li",{className:"TD-content",children:"Examples"})]})]}),(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"TD-link",to:"/corporate_finance/time_discounting/bonds",children:"Bonds"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"TD-content",children:"Preliminaries"}),(0,r.jsx)("li",{className:"TD-content",children:"No-Coupon Bonds"}),(0,r.jsx)("li",{className:"TD-content",children:"Coupon Bonds"}),(0,r.jsx)("li",{className:"TD-content",children:"Convertible Bonds"}),(0,r.jsx)("li",{className:"TD-content",children:"Bond Yield"}),(0,r.jsx)("li",{className:"TD-content",children:"Examples"})]})]}),(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"TD-link",to:"/corporate_finance/time_discounting/time_conversion",children:"Time Conversion"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"TD-content",children:"Nominal vs. Effective Rate"}),(0,r.jsx)("li",{className:"TD-content",children:"Changing Time Units"}),(0,r.jsx)("li",{className:"TD-content",children:"Process"}),(0,r.jsx)("li",{className:"TD-content",children:"Single Equation"}),(0,r.jsx)("li",{className:"TD-content",children:"Examples"})]})]})]})}),(0,r.jsx)(i.A,{group:"TD"})]})}},229:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});n(5043),n(7113);var a=n(4257),i=n(7971),r=n(2638),s=n(579);const l=function(){return(0,s.jsxs)("div",{className:"TimeDiscounting",children:[(0,s.jsx)(r.A,{group:"TD"}),(0,s.jsx)("p",{className:"heading1",children:"Introduction"}),(0,s.jsxs)(a.A,{children:[(0,s.jsx)("p",{className:"heading2",children:"Explanations for Time Discounting"}),(0,s.jsx)("p",{children:'Suppose someone asks you to lend them $100 now with the promise that they will pay you back in a year. Let\'s ignore inflation and assume you have no other investment opportunities. How much should they pay you in a year to make it worth it for you to give them the money now? There are many reasons why your answer might be, "More than $100."'}),(0,s.jsx)("p",{children:"First, you might inherently prefer consuming more today over consuming more one year from now. In other words, spending $100 in a year might not be worth as much to you as spending $100 today simply because you value your present welfare more than you do your future welfare. Under this reasoning, time discounting, or the tendency to place a lower value on future utility or rewards compared to immediate utility or rewards, arises out of a rational, inherent prefence for more immediate benefits."}),(0,s.jsx)("p",{children:"Second, you might equally prefer\u2014or even favor\u2014consumption one year from now, but you overvalue today's consumption because of a behavioral bias. In other words, it may be that spending $100 in a year would increase your overall welfare more than spending $100 today, but you still choose consumption today because of impatience or lack of self control. Under this reasoning, deviations from rationality may also contribute to time discounting."}),(0,s.jsx)("p",{children:"Third, even without an inherent preference for early consumption or a behavioral bias, you might still choose consumption today over consumption one year from now because of risk. If you choose to put off your consumption to one year from now, there is some chance that you will not be alive in a year to consume. You also face the risk that the person you have lent money to will be unable to repay you in a year. In this way, variability in possible future outcomes might also lead you to prefer sure consumption today over uncertain consumption one year from now. However, we typically think of risk as a separate pricing mechanism from time discounting. So, for now, we'll assume we can be certain about future outcomes and look to the first two reasons as an explanation for time discounting."}),(0,s.jsx)("p",{className:"heading2",children:"Discount Rate"}),(0,s.jsx)("p",{children:"Stepping back from our simplified example without inflation or other investment opportunities, we can see that time discounting is baked into our financial systems. This means that even people without an individual preference for early consumption should still apply time discounting. We live in an economy where inflation decreases the nominal value of money over time. A bundle of goods purchased today will cost less than the same bundle of goods purchased one year from now. Thus, if offered the same amount of money today or in a year, you should prefer the money today because it will get you a bigger bundle of goods today than it would in a year."}),(0,s.jsxs)("p",{children:["We also live in an economy in which we can make a (almost) risk-free investment and expect to receive more money back than we put in. For example, consider a U.S. treasury bill (T-bill). T-bills are like an IOU from the U.S. government. Each bill has a face value that the government promises to pay at some future date (when the bill matures). Most people consider T-bills to be a (almost) riskless investment, meaning they believe the U.S. government will almost certainly pay the face value upon maturity. However, the U.S. government still issues T-bills for less than their face value. This means you can puchase a T-bill with a face value of $1,000 and a maturity date one year from now for less than $1,000. In this example, the ratio of the face value (or the money you will receive in the future) and the price (or the money you pay today) minus one is equal to the discount rate, ",(0,s.jsx)(i.A,{inline:!0,children:"\\( r \\)"}),".",(0,s.jsx)(i.A,{className:"math-container",children:"\\[\n            r = \\frac{FV}{P} - 1\n          \\]"}),"More generally, the discount rate can be thought of as a measure for how much you must be compensated to take on an investment. The discount rate includes both a time-discounting component and a risk component. In other words, you might expect compensation for investing because it (1) moves the time during which you can use your money further out into the future and (2) creates uncertainty about your ability to eventually use your money. The discount rate for an investment with no risk is called the risk-free rate."]}),(0,s.jsx)("p",{children:"Given multiple investment opportunities, the discount rate can also be thought of as a measure of the opportunity cost of taking on an investment, or the payout you could receive from taking on the next best investment with similar risk."})]}),(0,s.jsx)(r.A,{group:"TD"})]})}},8652:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(5043),i=(n(7113),n(4257)),r=n(7971),s=n(5475),l=n(2638),o=n(2189),c=n(4116),h=n(579);const d=function(){const[e,t]=(0,a.useState)(.15),[n,d]=(0,a.useState)(1);return(0,h.jsxs)("div",{className:"TimeDiscounting",children:[(0,h.jsx)(l.A,{group:"TD"}),(0,h.jsx)("p",{className:"heading1",children:"Compound Interest"}),(0,h.jsxs)(i.A,{children:[(0,h.jsx)("p",{className:"heading2",children:"Preliminaries"}),(0,h.jsxs)("p",{children:["Suppose we know our discount rate, ",(0,h.jsx)(r.A,{inline:!0,children:"\\( r \\)"}),", and we want to consider an investment promising a series of payouts over time. The net present value of the investment is the amount we would be willing to pay to take on the investment today given our discount rate. Let's introduce some notation. We'll say that the value of our investment at time ",(0,h.jsx)(r.A,{inline:!0,children:"\\( t \\)"})," is given by ",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_t \\)"}),", with the initial value of the investment given by ",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_0 \\)"}),". We can find the initial value of an investment with a single payout at time ",(0,h.jsx)(r.A,{inline:!0,children:"\\( t=1 \\)"})," as",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            X_0 = \\frac{X_1}{(1 + r)}\n          \\]"}),"Note that we can just as easily write this equation as",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            X_1 = X_0(1 + r)\n          \\]"}),"When we know what the future payout of the investment is (",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_1 \\)"}),") and want to find the initial value (",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_0 \\)"}),"), we talk about the problem in terms of a discount rate. When we know what the initial price is (",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_0 \\)"}),") and want to find the future value (",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_1 \\)"}),"), we talk about the problem in terms of an interest rate. As we derive pricing equations, we'll use whichever paradigm is most convenient, but be aware that we can always rewrite the equation in terms of a different ",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_t \\)"}),"."]}),(0,h.jsxs)("p",{children:["Note that our time periods can be measured in any unit we want. To keep things consistent, we simply require that ",(0,h.jsx)(r.A,{inline:!0,children:"\\( r \\)"})," be the discount/interest rate that applies to a single period of time. For example, if our time periods are in months, and we have only the yearly interest rate, ",(0,h.jsx)(r.A,{inline:!0,children:"\\( r_y \\)"}),", we must calculate the monthly interest rate ",(0,h.jsx)(r.A,{inline:!0,children:"\\( r = \\frac{r_y}{12} \\)"})," to use in our equations."]}),(0,h.jsx)("p",{children:"A final note before we begin: It might be tempting to simply memorize the different equations for each setting without thinking through how each equation is derived. However, gaining an understanding of how to think through the process of creating an equation to match a given setting will make your understanding more robust to variations in notation, variable definitions, and setup."}),(0,h.jsx)("p",{className:"heading2",children:"No Compounding"}),(0,h.jsxs)("p",{children:["We begin by considering the future value of an investment with a per period interest rate ",(0,h.jsx)(r.A,{inline:!0,children:"\\( r \\)"}),", when the investment is never compounded. This simply means that interest is only ever applied once, at the end of the investment period. For an investment with an initial value of ",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_0 \\)"})," that ends at period ",(0,h.jsx)(r.A,{inline:!0,children:"\\( t \\)"}),", the value of the investment at period ",(0,h.jsx)(r.A,{inline:!0,children:"\\( t \\)"})," is",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            X_t = X_0(1 + rt)\n          \\]"}),"All we've done here is adjust the interest rate from ",(0,h.jsx)(r.A,{inline:!0,children:"\\( r \\)"})," to ",(0,h.jsx)(r.A,{inline:!0,children:"\\( rt \\)"})," to account for the fact that we are possibly waiting more than one period for the investment to end."]}),(0,h.jsx)("p",{className:"heading2",children:"Compounding Every Period"}),(0,h.jsxs)("p",{children:["Now, we consider an investment with interest that compounds every period. In other words, each time we reach a new period, we add in the interest that the investment accrued in the previous period to the value of the investment before we go on to the next period. After one period, such an investment has a value of",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            X_1 = X_0(1 + r)\n          \\]"}),"After two periods, the value becomes",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            X_2 &= X_1(1 + r) \\\\\n            &= \\left(X_0(1+r)\\right)(1 + r) \\\\\n            &= X_1(1+r)^2\n            \\end{aligned}\n          \\]"}),"After ",(0,h.jsx)(r.A,{inline:!0,children:"\\( t \\)"})," periods, the value becomes",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            X_t &= X_{t-1}(1 + r) \\\\\n            &= \\left(X_{t-2}(1+r)\\right)(1 + r) \\\\\n            &= \\left(X_{t-3}(1+r)\\right)(1 + r)^2 \\\\\n            &\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\vdots \\\\\n            &= \\left(X_0(1+r)\\right)(1+r)^{t-1} \\\\\n            &= X_0(1+r)^t\n            \\end{aligned}\n          \\]"})]}),(0,h.jsxs)("p",{className:"heading2",children:["Compounding ",(0,h.jsx)(r.A,{inline:!0,children:"\\( n \\)"})," Times Per Period"]}),(0,h.jsxs)("p",{children:["At this point, we'll introduce a small addition to our notation. We'll add another subscript to our ",(0,h.jsx)(r.A,{inline:!0,children:"\\( X \\)"}),"'s to denote how many times per period interest is compounding. Thus, ",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_{n,t} \\)"})," gives the value of the investment at period ",(0,h.jsx)(r.A,{inline:!0,children:"\\( t \\)"})," when interest is compounding ",(0,h.jsx)(r.A,{inline:!0,children:"\\( n \\)"})," times per period. Note that ",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_0 \\)"})," does not change depending on how many times interest is compounded per period. We'll save some excess notation by simply writing ",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_0 = X_{n,0} \\)"}),"."]}),(0,h.jsxs)("p",{children:["Suppose we compound twice per period: once in the middle of the period and once at the end of the period. After one period, our investment has a value of",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            X_{2,1} &= \\left(X_0\\left(1+\\frac{r}{2}\\right)\\right)\\left(1+\\frac{r}{2}\\right) \\\\\n            &= X_0\\left(1 + \\frac{r}{2}\\right)^2\n            \\end{aligned}\n          \\]"}),"After ",(0,h.jsx)(r.A,{inline:!0,children:"\\( t \\)"})," periods, the value becomes",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            X_{2,t} &= X_{2, t-1}\\left(1 + \\frac{r}{2}\\right)^2 \\\\\n            &= \\left(X_{2, t-2}\\left(1 + \\frac{r}{2}\\right)^2\\right)\\left(1 + \\frac{r}{2}\\right)^{2*1} \\\\\n            &= \\left(X_{2, t-3}\\left(1 + \\frac{r}{2}\\right)^2\\right)\\left(1 + \\frac{r}{2}\\right)^{2*2} \\\\\n            &\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\vdots \\\\\n            &= \\left(X_0\\left(1 + \\frac{r}{2}\\right)^2\\right)\\left(1 + \\frac{r}{2}\\right)^{2(t-1)} \\\\\n            &= X_0\\left(1 + \\frac{r}{2}\\right)^{2t}\n            \\end{aligned}\n          \\]"}),"Now, suppose we compound ",(0,h.jsx)(r.A,{inline:!0,children:"\\( n \\)"})," times per period. After one period, our investment has a value of",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            X_{n,1} &= X_0\\overbrace{\\left(1+\\frac{r}{n}\\right)\\left(1+\\frac{r}{n}\\right) \\cdots \\left(1+\\frac{r}{n}\\right)}^{n} \\\\\n            &= X_0\\left(1 + \\frac{r}{n}\\right)^n\n            \\end{aligned}\n          \\]"}),"After ",(0,h.jsx)(r.A,{inline:!0,children:"\\( t \\)"})," periods, the value becomes",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            X_{n,t} &= X_{n,t-1}\\left(1 + \\frac{r}{n}\\right)^n \\\\\n            &= \\left(X_{n, t-2}\\left(1 + \\frac{r}{n}\\right)^n\\right)\\left(1 + \\frac{r}{n}\\right)^{n} \\\\\n            &= \\left(X_{n,t-3}\\left(1 + \\frac{r}{n}\\right)^n\\right)\\left(1 + \\frac{r}{n}\\right)^{2n} \\\\\n            &\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\vdots \\\\\n            &= \\left(X_0\\left(1 + \\frac{r}{n}\\right)^n\\right)\\left(1 + \\frac{r}{n}\\right)^{n(t-1)} \\\\\n            &= X_0\\left(1 + \\frac{r}{n}\\right)^{nt}\n            \\end{aligned}\n          \\]"})]}),(0,h.jsxs)("p",{children:["Another way to get this equation is to do a change of variables using our once-per-period compounding equation. Here, we'll try to come up with a new time varible ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\tau \\)"})," and a new interest rate variable ",(0,h.jsx)(r.A,{inline:!0,children:"\\( r_{\\tau} \\)"})," such that",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            X_{\\tau} = X_0(1+r_{\\tau})^{\\tau}\n          \\]"}),"Instead of having one period in which we compound ",(0,h.jsx)(r.A,{inline:!0,children:"\\( n \\)"})," times, we'll now have ",(0,h.jsx)(r.A,{inline:!0,children:"\\( n \\)"})," periods in which we compound once each. This gives us ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\tau = nt \\)"}),". If we change our time units, we also have to change the interest rate variable to get ",(0,h.jsx)(r.A,{inline:!0,children:"\\( r_{\\tau} = \\frac{r}{n} \\)"}),"."]}),(0,h.jsx)("p",{className:"heading2",children:"Continuous Compounding"}),(0,h.jsxs)("p",{children:["Now we consider what happens to our pricing equation as the number of times we compound each period approaches infinity, or ",(0,h.jsx)(r.A,{inline:!0,children:"\\( \\underset{n \\to \\infty}{\\lim} X_{n,t}\\)"}),"."]}),(0,h.jsxs)("p",{children:["First, let's transform our equation for ",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_{n,t}\\)"})," into something that will be easier to take the limit of. We'll start by taking the natural log of both sides",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\log \\left(X_{n,t}\\right) &= \\log\\left(X_0\\left(1 + \\frac{r}{n}\\right)^{nt} \\right) \\\\\n            &= \\log\\left(X_0\\right)  + \\log\\left(\\left(1 + \\frac{r}{n}\\right)^{nt}\\right) \\\\\n            &= \\log\\left(X_0\\right)  + nt\\log\\left(1 + \\frac{r}{n}\\right) \\\\\n            \\end{aligned}\n          \\]"})]}),(0,h.jsxs)("p",{children:["Now, let's come up with another way of writing the function ",(0,h.jsx)(r.A,{inline:!0,children:"\\( f(x) = \\log\\left(1 + x\\right)\\)"}),". To do this, we'll take the Taylor Expansion of the function centered around zero. For a function, ",(0,h.jsx)(r.A,{inline:!0,children:"\\( f(x) \\)"}),", that is infinitely differentiable at some value ",(0,h.jsx)(r.A,{inline:!0,children:"\\( c  \\)"}),", the Taylor Expansion of ",(0,h.jsx)(r.A,{inline:!0,children:"\\( f(x) \\)"})," centered at ",(0,h.jsx)(r.A,{inline:!0,children:"\\( c \\)"})," is given by",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            f(x) &= f(c) + f'(c)(x-c) + \\frac{f''(c)(x-c)^2}{2!} + \\frac{f'''(c)(x-c)^3}{3!} + \\cdots + \\frac{f^{(k)}(c)(x-c)^k}{k!} + \\cdots \\\\\n            &= \\sum^{\\infty}_{k=0}\\frac{f^{(k)}(c)(x-c)^k}{k!}\n            \\end{aligned}\n          \\]"}),"In our case, we have the following derivatives of ",(0,h.jsx)(r.A,{inline:!0,children:"\\( f(x) = \\log\\left(1 + x\\right)\\)"}),":",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            f'(x) &=  (1+x)^{-1} \\\\\n            f''(x) &= -(1+x)^{-2} \\\\\n            f'''(x) &= 2(1+x)^{-3} \\\\\n            f^{(4)}(x) &= -(2\\times3)(1+x)^{-4} \\\\\n            \\;\\;\\;\\;\\;\\;\\;\\vdots \\\\\n            f^{(k)}(x) &= (-1)^{k+1}(1+x)^{-k}(k-1)! \\\\\n            \\Leftrightarrow f^{(k)}(0) &= (-1)^{k+1}(k-1)!\n            \\end{aligned}\n          \\]"}),"Then, if we center at zero, we can write ",(0,h.jsx)(r.A,{inline:!0,children:"\\( f(x) = \\log\\left(1 + x\\right)\\)"})," as",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\log\\left(1 + x\\right) &= \\log(1) + \\sum^{\\infty}_{k=1}\\frac{(-1)^{k+1}x^k(k-1)!}{k!}  \\\\\n            &= \\sum^{\\infty}_{k=1}\\frac{(-1)^{k+1}x^k}{k} \n            \\end{aligned}\n          \\]"}),"Plugging in ",(0,h.jsx)(r.A,{inline:!0,children:"\\( x = \\frac{r}{n}\\)"}),", we can rewrite our transformed equation as",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\log \\left(X_{n,t}\\right) &= \\log\\left(X_0\\right)  + nt\\sum^{\\infty}_{k=1}\\frac{(-1)^{k+1}\\left(\\frac{r}{n}\\right)^k}{k}  \\\\\n            &= \\log\\left(X_0\\right) + t\\left(r + \\sum^{\\infty}_{k=1}\\frac{(-1)^{k}\\frac{r^{k+1}}{n^k}}{k+1}\\right)\n            \\end{aligned}\n          \\]"}),"Now, if we take the limit of both sides, we get",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\underset{n \\to \\infty}{\\lim} \\log \\left(X_{n,t}\\right) &= \\log\\left(X_0\\right) + t\\left(r + \\underset{n \\to \\infty}{\\lim} \\sum^{\\infty}_{k=1}\\frac{(-1)^{k}\\frac{r^{k+1}}{n^k}}{k+1}\\right) \\\\\n            &= \\log\\left(X_0\\right) + rt\n            \\end{aligned}\n          \\]"}),"If we denote the value of the investment at time ",(0,h.jsx)(r.A,{inline:!0,children:"\\( t \\)"})," with continuously compounding interest as ",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_{c,t}\\)"}),", then we can solve for ",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_{c,t}\\)"}),".",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            &\\log \\left(X_{c,t}\\right) = \\log\\left(X_0\\right) + rt \\\\\n            &\\Leftrightarrow  \\log \\left(\\frac{X_{c,t}}{X_0}\\right) = rt \\\\\n            &\\Leftrightarrow  \\frac{X_{c,t}}{X_0} = e^{rt} \\\\\n            &\\Leftrightarrow  X_{c,t} = X_0e^{rt} \n            \\end{aligned}\n          \\]"})]}),(0,h.jsxs)("p",{children:["The graph below plots the growth of an investment with an initial value of ",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_0 = 10 \\)"}),". The blue line shows growth when interest is compounded ",(0,h.jsx)(r.A,{inline:!0,children:"\\( n \\)"})," times per period, and the dotted red line shows growth when interest is continuously compounded. Note that as you increase ",(0,h.jsx)(r.A,{inline:!0,children:"\\( n \\)"}),", the blue line approaches the dotted red line."]}),(0,h.jsxs)("div",{className:"graph-container",children:[(0,h.jsx)(c.default,{r:e,n:n}),(0,h.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,h.jsxs)("div",{className:"input-bars",children:[(0,h.jsxs)("label",{children:[(0,h.jsx)(r.A,{inline:!0,children:"\\( n \\)"})," (# of times compounded per period)"]}),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",paddingTop:"2px"},children:[(0,h.jsx)("button",{onClick:()=>d((e=>Math.max(1,e-1))),children:"\u25c0"}),(0,h.jsx)("span",{style:{margin:"0 10px"},children:n}),(0,h.jsx)("button",{onClick:()=>d((e=>Math.min(50,e+1))),children:"\u25b6"})]})]}),(0,h.jsxs)("div",{className:"input-bars",children:[(0,h.jsxs)("label",{children:[(0,h.jsx)(r.A,{inline:!0,children:"\\( r \\)"})," (discount rate)"]}),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",paddingTop:"2px"},children:[(0,h.jsx)("button",{onClick:()=>t((e=>Math.max(0,e-.01))),children:"\u25c0"}),(0,h.jsx)("span",{style:{margin:"0 10px"},children:e.toFixed(2)}),(0,h.jsx)("button",{onClick:()=>t((e=>Math.min(1,e+.01))),children:"\u25b6"})]})]})]})]}),(0,h.jsx)("p",{className:"heading2",children:"Examples"}),(0,h.jsx)(o.A,{solution:(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("p",{children:["Using our equation for compounding multiple times per period, we have ",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_0 = 100 \\)"}),", ",(0,h.jsx)(r.A,{inline:!0,children:"\\( r = .05 \\)"}),", ",(0,h.jsx)(r.A,{inline:!0,children:"\\( n = 4 \\)"}),", and ",(0,h.jsx)(r.A,{inline:!0,children:"\\( t = 5 \\)"}),".",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                X_{4,5} &= 100\\left(1 + \\frac{.05}{4}\\right)^{4*5}  \\\\\n                &\\approx $128.20\n                \\end{aligned}\n              \\]"})]})}),children:(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Example 1:"})," I invest $100 in a fund that guarantees a 5% annual interest rate compounded quarterly. How much is my investment worth in 5 years?"]})}),(0,h.jsx)(o.A,{solution:(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("p",{children:["We'll start with our equation for compounding every period.",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n                X_t = X_0(1 + r)^t\n              \\]"}),"Now, in this case, we know ",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_t \\)"})," and we want ",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_0 \\)"}),". So, we'll rearrange things to get",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n                X_0 = \\frac{X_t}{(1 + r)^t}\n              \\]"}),"Now we recognize that ",(0,h.jsx)(r.A,{inline:!0,children:"\\( X_{10} = 100 \\)"}),", ",(0,h.jsx)(r.A,{inline:!0,children:"\\( t = 10 \\)"}),", and ",(0,h.jsx)(r.A,{inline:!0,children:"\\( r = .03 \\)"}),".",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                X_0 &= \\frac{100}{(1 + .03)^{10}} \\\\\n                &\\approx $74.41\n                \\end{aligned}\n              \\]"})]})}),children:(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Example 2:"})," What is the net present value of an investment that pays out $100 in 10 years given an annual discount rate of 3% that compounds yearly?"]})}),(0,h.jsx)(o.A,{solution:(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("p",{children:["First, let's consider what this would look like if we compounded every two periods. On the second period, we would have",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n                X_2 = X_0(1+2r)\n              \\]"}),"On the fourth period, we would have",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n                X_4 = X_0(1+2r)^2\n              \\]"}),"On the ",(0,h.jsx)(r.A,{inline:!0,children:"\\( 2t^{\\text{th}} \\)"})," period, we would have",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n                X_{2t} = X_0(1+2r)^t\n              \\]"}),"Now, if we consider compounding every ",(0,h.jsx)(r.A,{inline:!0,children:"\\( m \\)"})," periods, this becomes",(0,h.jsx)(r.A,{className:"math-container",children:"\\[\n                X_{mt} = X_0(1+ mr)^t\n              \\]"})]})}),children:(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Example 3:"})," Find an equation for the value of an investment at time ",(0,h.jsx)(r.A,{inline:!0,children:"\\( mt \\)"})," that compounds every ",(0,h.jsx)(r.A,{inline:!0,children:"\\( m \\)"})," periods. Assume the interest rate ",(0,h.jsx)(r.A,{inline:!0,children:"\\( r \\)"})," is in terms of a single period."]})})]}),(0,h.jsx)(l.A,{group:"TD"}),(0,h.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,h.jsx)(s.k2,{className:"TD-link",to:"/corporate_finance/time_discounting",children:"Contents"})})]})}},4739:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});n(5043),n(7113);var a=n(4257),i=n(7971),r=n(5475),s=n(2638),l=n(2189),o=n(579);const c=function(){return(0,o.jsxs)("div",{className:"TimeDiscounting",children:[(0,o.jsx)(s.A,{group:"TD"}),(0,o.jsx)("p",{className:"heading1",children:"Annuities"}),(0,o.jsxs)(a.A,{children:[(0,o.jsx)("p",{className:"heading2",children:"Preliminaries"}),(0,o.jsxs)("p",{children:["An annuity is a financial instrument that provides a series of payments over time. Our goal here will be to determine how much we should pay today for the promise of these future payments given a discount rate ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r \\)"}),". We'll label the present time period relative to these future payments ",(0,o.jsx)(i.A,{inline:!0,children:"\\( t = 0\\)"})," and consider future payments ",(0,o.jsx)(i.A,{inline:!0,children:"\\( C_1, C_2, \\dots, C_T \\)"})," for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( t \\in \\{1, 2, \\dots, T\\} \\)"}),"."]}),(0,o.jsxs)("p",{children:["We'll generally assume that our discount rate compounds every period. Recall from the previous section that we can find the initial value of an investment (",(0,o.jsx)(i.A,{inline:!0,children:"\\( X_0\\)"}),") with interest that compounds every period given the final value (",(0,o.jsx)(i.A,{inline:!0,children:"\\( X_t \\)"}),") and the interest rate (",(0,o.jsx)(i.A,{inline:!0,children:"\\( r\\)"}),").",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            X_0 = \\frac{X_t}{(1 + r)^t}\n          \\]"}),"If we did not have compounding interest, ",(0,o.jsx)(i.A,{inline:!0,children:"\\( X_0\\)"})," would be given by",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            X_0 = \\frac{X_t}{(1 + rt)}\n          \\]"}),"If interest compounded multiple times during each period, ",(0,o.jsx)(i.A,{inline:!0,children:"\\( X_0\\)"})," would be given by",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            X_0 = \\frac{X_t}{\\left(1 + \\frac{r}{n}\\right)^{nt}}\n          \\]"})]}),(0,o.jsx)("p",{className:"heading2",children:"General Annuity Formula"}),(0,o.jsxs)("p",{children:["First, we'll consider the general case in which the payment in each period could be different. To do this, we'll find the initial value of each period's payment separately and then sum up all the initial values. Because we have a compound discount rate, the initial value of payment ",(0,o.jsx)(i.A,{inline:!0,children:"\\( C_t \\)"})," is given by",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\frac{C_t}{(1 + r)^t}\n          \\]"}),"If we sum all of these initial values up, we get that the present value of the entire stream of payments is given by",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            PV &= \\frac{C_1}{1 + r} + \\frac{C_2}{(1 + r)^2} + \\cdots + \\frac{C_T}{(1 + r)^T} \\\\\n            &= \\sum^{T}_{t=1} \\frac{C_t}{(1+r)^t}\n            \\end{aligned}\n          \\]"})]}),(0,o.jsx)("p",{className:"heading2",children:"Perpetuity"}),(0,o.jsxs)("p",{children:["Next, we consider what happens if we require that the payment be the same in each period, or ",(0,o.jsx)(i.A,{inline:!0,children:"\\( C_1 = C_2 = \\dots = C_T  = C\\)"}),", and the number of periods be infinite, or ",(0,o.jsx)(i.A,{inline:!0,children:"\\( T \\to \\infty\\)"}),". This special case is called a perpetuity. Applying these restrictions to our formual gives us",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            PV &= \\sum^{\\infty}_{t=1} \\frac{C}{(1+r)^t}\n            \\end{aligned}\n          \\]"}),"Now, recall that the sum of an infinite series beginning at zero is given by ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\sum^{\\infty}_{n=0} Ay^n = \\frac{A}{1 - y}\\)"})," as long as ",(0,o.jsx)(i.A,{inline:!0,children:"\\( |y| < 1\\)"}),". Our current formula looks close to this form if we let ",(0,o.jsx)(i.A,{inline:!0,children:"\\( y = \\frac{1}{1 + r}\\)"}),", but we need to make sure that it begins at zero. Let's rewrite things to get",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            PV &= C\\sum^{\\infty}_{t=1} \\left(\\frac{1}{1+r}\\right)^t \\\\\n               &= C\\left[\\sum^{\\infty}_{t=0} \\left(\\frac{1}{1+r}\\right)^t  - 1\\right] \\\\\n               &= C\\left(\\frac{1}{1 - \\frac{1}{1+r}}  - 1\\right) \\\\\n               &= \\frac{C}{r}\n            \\end{aligned}\n          \\]"}),"Note that we can apply the sum of an infinite series since ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\left|\\frac{1}{1+r}\\right| < 1 \\Leftrightarrow r > 0 \\)"}),". This gives us that the present value of a perpetuity is simply the payment each period divided by the discount rate."]}),(0,o.jsxs)("p",{children:["Suppose that, instead of a discount rate that compounds once each period, we had a rate that compounds ",(0,o.jsx)(i.A,{inline:!0,children:"\\( n \\)"})," times per period. In this case, the present value of the fixed payment stream would be given by",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            PV &= \\sum^{\\infty}_{t=1} \\frac{C}{\\left(1+\\frac{r}{n}\\right)^{nt}} \\\\            &= \\frac{C}{\\left(1 + \\frac{r}{n}\\right)^{n} - 1}\n            \\end{aligned}\n          \\]"})]}),(0,o.jsx)("p",{className:"heading2",children:"Fixed Payment Annuity"}),(0,o.jsxs)("p",{children:["Now we can use the formula for a perpetuity to find a formula for an annuity with the same payment each period. The only thing we're changing here is to use a finite ending period ",(0,o.jsx)(i.A,{inline:!0,children:"\\( T \\)"})," instead of ",(0,o.jsx)(i.A,{inline:!0,children:"\\( T \\to \\infty \\)"}),". The strategy will be to rewrite the finite sum in terms of two infinite sums that we can solve using our perpetuity formula.",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            PV &= \\sum^{T}_{t=1} \\frac{C}{(1+r)^t} \\\\\n            &= \\sum^{\\infty}_{t=1} \\frac{C}{(1+r)^t} - \\sum^{\\infty}_{t=T+1} \\frac{C}{(1+r)^t} \\\\\n            &= \\sum^{\\infty}_{t=1} \\frac{C}{(1+r)^t} - \\sum^{\\infty}_{t=1} \\frac{C}{(1+r)^{t+T}} \\\\\n            &= \\sum^{\\infty}_{t=1} \\frac{C}{(1+r)^t}\\left[1 - \\left(\\frac{1}{1 + r}\\right)^T\\right] \\\\\n            &= \\frac{C}{r}\\left(1 - \\left(\\frac{1}{1 + r}\\right)^T \\right) \\\\\n            &= C\\left(\\frac{1 - (1+r)^{-T}}{r}\\right)\n            \\end{aligned}\n          \\]"})]}),(0,o.jsxs)("p",{children:["If we had used a rate that compounds ",(0,o.jsx)(i.A,{inline:!0,children:"\\( n \\)"})," times per period, the present value of the fixed payment annuity would be given by",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            PV &= \\sum^{T}_{t=1} \\frac{C}{\\left(1+\\frac{r}{n}\\right)^{nt}} \\\\\n            &= C\\left(\\frac{1 - \\left(1 + \\frac{r}{n}\\right)^{-nT}}{\\left(1 + \\frac{r}{n}\\right)^n - 1}\\right)\n            \\end{aligned}\n          \\]"})]}),(0,o.jsx)("p",{className:"heading2",children:"Growth Annuity"}),(0,o.jsxs)("p",{children:["Next, we consider a growth annuity. In this case, we allow the payments to vary over time, but we require that they follow a growth pattern that compounds once per period. In other words, we have the following series of payments:",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            C, C(1+g), C(1+g)^2, \\dots, C(1 + g)^{T-1}\n          \\]"}),"where ",(0,o.jsx)(i.A,{inline:!0,children:"\\( g \\)"})," is our growth rate. Putting this together in the general annuity formula gives us",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            PV &= \\sum^{T}_{t=1} \\frac{C(1 + g)^{t-1}}{(1+r)^t} \\\\\n            &= \\frac{C}{1+g}\\sum^{T}_{t=1} \\left(\\frac{1 + g}{1 + r}\\right)^t\n            \\end{aligned}\n          \\]"}),"Note that all we've done here is substitute in ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\frac{1 + g}{1 + r} \\)"})," for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\frac{1}{1 + r} \\)"})," and ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\frac{C}{1 + g} \\)"})," for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( C \\)"}),". Let's do a change of variables with the discount rate from our non-growth equations to see how our formulas change with the addition of growth. First we'll call the discount rate in the non-growth equations ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r' \\)"})," and the payment in the non-growth equations ",(0,o.jsx)(i.A,{inline:!0,children:"\\( C' \\)"}),". Now we want to find expressions for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r' \\)"})," and ",(0,o.jsx)(i.A,{inline:!0,children:"\\( C' \\)"})," that give us",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\frac{1}{1 + r'} = \\frac{1+g}{1+r} \\\\\n            \\Leftrightarrow r' = \\frac{r-g}{1 + g}\n            \\end{aligned}\n          \\]"}),"and",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            C' = \\frac{C}{1+g}\n          \\]"}),"Using this change of variables, we get that the perpetuity formula with growth is",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            PV &= \\frac{\\frac{C}{1+g}}{\\frac{r - g}{1 + g}} \\\\\n            &= \\frac{C}{r-g}\n            \\end{aligned}\n          \\]"}),"so long as ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\frac{r-g}{1+g} > 0 \\Leftrightarrow r > g \\)"}),". Similarily, we get that the fixed payment annuity formula with growth is",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            PV &= \\frac{C}{1 + g}\\left(\\frac{1 - \\left(1+\\frac{r-g}{1+g}\\right)^{-T}}{\\frac{r-g}{1+g}}\\right) \\\\\n            &= C\\left(\\frac{1 - \\left(\\frac{1+g}{1+r}\\right)^{T}}{r-g}\\right) \\\\\n            \\end{aligned}\n          \\]"}),"Again, as long as the discount rate is greater than the growth rate, or ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r > g \\)"}),"."]}),(0,o.jsx)("p",{className:"heading2",children:"Time Units"}),(0,o.jsx)("p",{children:"In the annuity setting, we have four relevant time considerations: (1) the amount of time in between each payment (the cash-flow period), (2) the discount rate period, (3) the total duration of the annuity, and (4) the amount of time in between each compounding (the compounding period). To use the standard annuity formulas, we want everything to be measured in the same time units."}),(0,o.jsxs)("p",{children:["Before we try to convert everything to the same units, let's consider again the equation for the future value of a single payment with interest that compounds ",(0,o.jsx)(i.A,{inline:!0,children:"\\( n \\)"})," times per period. (We also assume the discount rate and the total duration are measured in the same time units.)",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            FV = PV\\left(1 + \\frac{r}{n}\\right)^{nt}\n            \\end{aligned}\n          \\]"}),"The goal will be to adjust the discount rate in such a way that enables us to ignore the fact that we are compounding multiple times per period. Put differently, we want to find a new discount rate, ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r_e \\)"}),", such that",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\left(1 + \\frac{r}{n}\\right)^{nt} = \\left(1 + r_e\\right)^t \\\\\n            \\Leftrightarrow r_e = \\left(1 + \\frac{r}{n}\\right)^{n}  - 1\n            \\end{aligned} \n          \\]"}),"Here, we call ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r \\)"})," the nominal rate and ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r_e \\)"})," the effective rate, or the rate that takes into account the effect of compounding."]}),(0,o.jsxs)("p",{children:["With the concept of an effective rate in mind, we can convert everything to the same time units if we know three things: (1) the number of times interest is compounded per rate period (",(0,o.jsx)(i.A,{inline:!0,children:"\\( n \\)"}),"), (2) the number of times interest is compounded per cash-flow period (",(0,o.jsx)(i.A,{inline:!0,children:"\\( k \\)"}),"), and (3) the number of payments per duration period (",(0,o.jsx)(i.A,{inline:!0,children:"\\( l \\)"}),"). Using these measures, we can adjust the discount rate and the time duration as follows:",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              r_{new} &= \\left(1 + \\frac{r}{n}\\right)^{k} - 1 \\\\\n              T_{new} &= lT\n            \\end{aligned} \n          \\]"}),"Once we make these changes, we can use ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r_{new} \\)"})," and ",(0,o.jsx)(i.A,{inline:!0,children:"\\( T_{new} \\)"})," in any of the following formulas:",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              PV &= \\sum^T_{t=1} \\frac{C_t}{(1+r)^t} & (\\text{General Annuity}) \\\\ \\\\\n              PV &= \\frac{C}{r} & (\\text{Perpetuity}) \\\\ \\\\\n              PV &= C\\left(\\frac{1 - (1 + r)^{-T}}{r}\\right) & (\\text{Fixed-Payment Annuity}) \\\\ \\\\\n              PV &= \\frac{C}{r - g} & (\\text{Growth Perpetuity}) \\\\ \\\\\n              PV &= C\\left(\\frac{1 - \\left(\\frac{1 + g}{1 + r}\\right)^{T}}{r - g}\\right) & (\\text{Fixed-Payment Annuity with Growth})\n            \\end{aligned} \n          \\]"})]}),(0,o.jsx)("p",{}),(0,o.jsx)("p",{className:"heading2",children:"Examples"}),(0,o.jsx)(l.A,{solution:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("p",{children:["The first payment needs no discounting since it happens immediately. For the remaining 19 payments, we use our fixed payment annuity formula with ",(0,o.jsx)(i.A,{inline:!0,children:"\\( C = 100 \\)"}),", ",(0,o.jsx)(i.A,{inline:!0,children:"\\( T=19 \\)"}),", and ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r = .05 \\)"}),". This gives us",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                PV &= 100 + 100\\left(\\frac{1 - (1+.05)^{-19}}{.05}\\right) \\\\\n                &\\approx $1308.53\n                \\end{aligned}\n              \\]"})]})}),children:(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Example 1:"})," What is the present value of an asset that pays out $100 every year for 20 years starting today? Assume a compound annual discount rate of 5%. "]})}),(0,o.jsx)(l.A,{solution:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("p",{children:["This is a perpetuity. Before we calculate the present value, we need to adjust the discount rate to account for the different time units. Compounding happens 4 times per year, which gives us ",(0,o.jsx)(i.A,{inline:!0,children:"\\( n = 4 \\)"}),". There are 90 days in each quarter, which gives us ",(0,o.jsx)(i.A,{inline:!0,children:"\\( k =  \\frac{1}{90} \\)"}),".",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n                  \\begin{aligned}\n                  r_{new} = \\left(1 + \\frac{0.04}{4}\\right)^{\\frac{1}{90}} - 1 \\approx 0.0001105653\n                  \\end{aligned}\n                \\]"}),"Now, we can use this new rate in the formula for a perpetuity.",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n                  \\begin{aligned}\n                  PV = \\frac{10}{0.0001105653} \\approx \\$90,0444\n                  \\end{aligned}\n                \\]"})]})}),children:(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Example 2:"})," How much should you pay for the promise of $10 every day forever if you have a nominal annual discount rate of 4% compounded quarterly? (Assume a 360-day year.)"]})}),(0,o.jsx)(l.A,{solution:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("p",{children:["First, we need to rewrite our growth annuity formula in terms of ",(0,o.jsx)(i.A,{inline:!0,children:"\\( T \\)"}),".",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                &PV = C\\left(\\frac{1 - \\left(\\frac{1+g}{1+r}\\right)^{T}}{r-g}\\right) \\\\\n                \\Leftrightarrow &\\left(\\frac{1+g}{1+r}\\right)^T = 1 - \\frac{PV(r-g)}{C} \\\\\n                \\Leftrightarrow & T = \\frac{\\log\\left(1 - \\frac{PV(r-g)}{C}\\right)}{\\log\\left(\\frac{1 + g}{1 + r}\\right)}\n                \\end{aligned}\n              \\]"}),"Now, we can use this equation with ",(0,o.jsx)(i.A,{inline:!0,children:"\\( C = 20 \\)"}),", ",(0,o.jsx)(i.A,{inline:!0,children:"\\( g=.02 \\)"}),", ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r = .03 \\)"}),", and ",(0,o.jsx)(i.A,{inline:!0,children:"\\( PV = 500 \\)"}),".",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                 T &= \\frac{\\log\\left(1 - \\frac{500(.03-.02)}{20}\\right)}{\\log\\left(\\frac{1 + .02}{1 + .03}\\right)} \\\\\n                 &\\approx 29.49\n                \\end{aligned}\n              \\]"}),"Finally, we need ",(0,o.jsx)(i.A,{inline:!0,children:"\\( T \\)"})," to be a whole number. Since the present value must be at least $500, we'll round up to get 30 months. (29 months results in a present value of $492.85 and 30 months results in a present value of $507.49.)"]})}),children:(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Example 3:"})," Consider an asset that has an initial payment of $20 one month from now. For each consecutive month, the payment grows at a rate of 2%. Using a compound monthly discount rate of 3%, find the minimum number of months the asset must pay out so that its present value today is at least $500."]})}),(0,o.jsx)(l.A,{solution:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("p",{children:["If we start with the fixed payment annuity equation and try to solve for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r \\)"}),", we soon run into a problem.",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n                    \\begin{aligned}\n                    & PV = C\\left(\\frac{1 - (1+r)^{-T}}{r}\\right) \\\\\n                    \\Leftrightarrow &(1+r)^{-T} = 1 - r\\frac{PV}{C}\n                    \\end{aligned}\n                  \\]"}),"We can't find a closed-form solution for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r \\)"})," here. This means we either have to use numerical methods to solve for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r \\)"})," or approxmiate ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r \\)"})," with some simplifying assumptions. Let's try to approximate ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r \\)"})," with a Taylor expansion. First, we'll take the log of both sides.",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n                     T\\log(1+r) + \\log\\left(1 - r\\frac{PV}{C}\\right) = 0\n                  \\]"}),"Now, recall in the previous section that we found the Taylor expansion of ",(0,o.jsx)(i.A,{inline:!0,children:"\\( \\log(1+x) \\)"})," centered at zero to be",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n                    \\begin{aligned}\n                     \\log(1+x) &= x - \\frac{x^2}{2} + \\frac{x^3}{3} - \\dots \\\\\n                     &= \\sum^{\\infty}_{k=1}\\frac{(-1)^{k+1}x^k}{k}\n                    \\end{aligned}\n                  \\]"}),"If ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r \\)"})," and ",(0,o.jsx)(i.A,{inline:!0,children:"\\( -r\\frac{PV}{C} \\)"})," are both small, we can use the first few terms of this expansion to write our equation as",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n                    \\begin{aligned}\n                     &T\\log(1+r) + \\log\\left(1 - r\\frac{PV}{C}\\right) \\\\\n                     &\\approx T\\left(r - \\frac{r^2}{2} + \\frac{r^3}{3}\\right) - r\\frac{PV}{C} - \\frac{r^2}{2}\\left(\\frac{PV}{C}\\right)^2 - \\frac{r^3}{3}\\left(\\frac{PV}{C}\\right)^3 \\\\\n                    \\end{aligned}\n                  \\]"}),"which gives us the following quadratic:",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n                        r^2\\frac{\\left(T - \\left(\\frac{PV}{C}\\right)^3\\right)}{3}\n                        - r\\frac{\\left(T + \\left(\\frac{PV}{C}\\right)^2\\right)}{2}\n                        + T - \\frac{PV}{C} = 0\n                  \\]"}),"Using the quadratic formula, we can solve for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r \\)"})," as",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n                    \\begin{aligned}\n                        r \\approx \\frac{\\frac{1}{2}\\left(T + \\left(\\frac{PV}{C}\\right)^2\\right) - \\sqrt{\\frac{1}{4}\\left(T + \\left(\\frac{PV}{C}\\right)^2\\right)^2 - \\frac{4}{3}\\left(T - \\left(\\frac{PV}{C}\\right)^3\\right) \\left(T - \\frac{PV}{C}\\right)}}{\\frac{2}{3}\\left(T - \\left(\\frac{PV}{C}\\right)^3\\right)}\n                    \\end{aligned}\n                  \\]"}),"Finally, given ",(0,o.jsx)(i.A,{inline:!0,children:"\\( C = 100 \\)"}),", ",(0,o.jsx)(i.A,{inline:!0,children:"\\( T= 10 \\)"}),", and ",(0,o.jsx)(i.A,{inline:!0,children:"\\( PV = 900 \\)"}),", we have",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n                    \\begin{aligned}\n                        r &\\approx \\frac{\\frac{1}{2}\\left(10 + \\left(\\frac{900}{100}\\right)^2\\right) - \\sqrt{\\frac{1}{4}\\left(10 + \\left(\\frac{900}{100}\\right)^2\\right)^2 - \\frac{4}{3}\\left(10 - \\left(\\frac{900}{100}\\right)^3\\right) \\left(T - \\frac{900}{100}\\right)}}{\\frac{2}{3}\\left(10 - \\left(\\frac{900}{100}\\right)^3\\right)} \\\\\n                        &\\approx 0.01989\n                    \\end{aligned}\n                  \\]"}),"In this case, ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r \\)"})," is fairly small, so our approximation does a good job. (The actual value is ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r = 0.01963\\)"}),".)"]})}),children:(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Example 4:"})," Consider an asset that pays out $100 every year for the next 10 years. Find the compound annual discount rate that will result in a present value of $900 for this asset."]})})]}),(0,o.jsx)(s.A,{group:"TD"}),(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,o.jsx)(r.k2,{className:"TD-link",to:"/corporate_finance/time_discounting",children:"Contents"})})]})}},4698:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(2555),i=n(5043),r=(n(7113),n(4257)),s=n(7971),l=n(5475),o=n(2638),c=n(2189),h=n(579);const d=function(){const[e,t]=(0,i.useState)("0.05"),[n,d]=(0,i.useState)(3),[u,p]=(0,i.useState)(Array(n+1).fill("")),[f,m]=(0,i.useState)("single"),[x,g]=(0,i.useState)({value:"",N:"",g:""});function y(e){if(null===e||void 0===e)return{value:0,isValid:!0};let t=String(e).trim();if(""===t)return{value:0,isValid:!0};t=t.replace(/,/g,""),t.startsWith(".")&&(t="0"+t),t.startsWith("-.")&&(t="-0"+t.slice(1)),t=t.replace(/^(-?)0+(?=\d)/,"$1");if(!/^-?\d*(\.\d*)?$/.test(t))return{value:0,isValid:!1};const n=parseFloat(t);return Number.isFinite(n)?Math.abs(n)>1e12?{value:0,isValid:!1}:{value:n,isValid:!0}:{value:0,isValid:!1}}function b(e,t,n,a,i,r,s){let l=0;for(let c=0;c<e.length;c++)l+=e[c]/Math.pow(1+t,c);let o=0;switch(s){case"single":o=a;break;case"annuity":o=a*(1-Math.pow(1+t,-i))/t;break;case"perpetuity":o=a/t;break;case"growingAnnuity":if(t<=r)return NaN;o=a*(1-Math.pow((1+r)/(1+t),i))/(t-r);break;case"growingPerpetuity":if(t<=r)return NaN;o=a/(t-r)}return l+=o/Math.pow(1+t,n),l}(0,i.useEffect)((()=>{p((e=>{const t=[...e];return t.length<n+1?t.concat(Array(n+1-t.length).fill("")):t.slice(0,n+1)}))}),[n]);const v=function(e){let{cashFlows:t,r:n,T:a,terminalType:i,terminalInputs:r}=e,s=y(n);if(!0!==s.isValid)return"\\\\&\\text{Error: Invalid Discount Rate}";if(s=s.value,s<=0)return"\\\\&\\text{Error: } r \\leq 0";let l=0;for(let u=0;u<t.length;u++){const e=y(t[u]);if(!e.isValid)return"\\\\&\\text{Error: Invalid Cash Flow}";l+=e.value/Math.pow(1+s,u)}let o=0,c=y(r.value);if(!0!==c.isValid)return"\\\\&\\text{Error: Invalid Terminal Value}";c=c.value;let h=y(r.N);if("annuity"===i||"growingAnnuity"===i){if(!0!==h.isValid)return"\\\\&\\text{Error: Invalid Period}";h=h.value}let d=y(r.g);if("growingPerpetuity"===i||"growingAnnuity"===i){if(!0!==d.isValid)return"\\\\&\\text{Error: Invalid Growth Rate}";d=d.value}switch(i){case"single":o=c;break;case"annuity":o=c*(1-Math.pow(1+s,-h))/s;break;case"perpetuity":o=c/s;break;case"growingAnnuity":if(s<=d)return"\\\\&\\text{Error: } r \\leq g";o=c*(1-Math.pow((1+d)/(1+s),h))/(s-d);break;case"growingPerpetuity":if(s<=d)return"\\\\&\\text{Error: } r \\leq g";o=c/(s-d);break;default:o=0}return l+=o/Math.pow(1+s,a),l<0?"&= -$"+(-1*l).toFixed(2):"&= $"+l.toFixed(2)}({cashFlows:u,r:e,T:n,terminalType:f,terminalInputs:x}),j="\n    NPV &=\n    \\sum_{t=0}^{T}\n    \\frac{C_t}{(1+r)^t}\n    +\n    ".concat(function(e){switch(e){case"single":return"\\frac{TV}{(1+r)^T}";case"annuity":return"\\frac{A}{(1+r)^T}\n          \\left( \\frac{1 - (1+r)^{-N}}{r} \\right)";case"perpetuity":return"\\frac{A}{r(1+r)^T}";case"growingAnnuity":return"\\frac{A}{(1+r)^T}\n          \\left( \\frac{1 - \\left(\\frac{1+g}{1+r}\\right)^N}{r-g} \\right)";case"growingPerpetuity":return"\\frac{A}{(r-g)(1+r)^T}"}}(f)," \\\\")+v,w=function(e,t,n,a){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e-4,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.5,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1e-6,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:200;if(!v.includes("$"))return null;const o=e.map((e=>{const t=y(e);return t.isValid?t.value:NaN}));if(o.some(Number.isNaN))return null;const c=y(t.value),h=y(t.N),d=y(t.g);if(!c.isValid)return null;if(("annuity"===a||"growingAnnuity"===a)&&!h.isValid)return null;if(("growingAnnuity"===a||"growingPerpetuity"===a)&&!d.isValid)return null;if("growingAnnuity"===a||"growingPerpetuity"===a){if(d.value>=r)return null;i+=d.value}const u=b(o,i,n,c.value,h.value,d.value,a),p=b(o,r,n,c.value,h.value,d.value,a);if(0===u&&0===p)return null;if(u*p>0)return null;let f=i,m=r;for(let x=0;x<l;x++){const e=(f+m)/2,t=b(o,e,n,c.value,h.value,d.value,a);if(Math.abs(t)<s)return e;t*u>0?f=e:m=e}return(f+m)/2}(u,x,n,f);return(0,h.jsxs)("div",{className:"TimeDiscounting",children:[(0,h.jsx)(o.A,{group:"TD"}),(0,h.jsx)("p",{className:"heading1",children:"Investment Decision Rules"}),(0,h.jsxs)(r.A,{children:[(0,h.jsx)("p",{children:"Suppose you are given the opportunity to invest in a project that offers a series of cash flows\u2014some positive and some negative\u2014over time. How do you know whether you should invest in the project? Two common ways of evaluating investment opportunities are the net present value (NPV) rule and the internal rate of return (IRR) rule."}),(0,h.jsx)("p",{className:"heading2",children:"Net Present Value"}),(0,h.jsx)("p",{children:"To find the net present value of a project, we discount each future cash flow back to present value and then sum up all present values. If the NPV is positive, you should take on the project; if the NPV is negative, you shouldn't take on the project. When you must pick among projects, you should choose the one with the highest NPV."}),(0,h.jsx)("p",{children:"How do you know what rate to use when discounting the cash flows back to present value? Your choice of rate depends on your other investment opportunities. Suppose you always have the option of investing in an account that offers a 5% return. If an investment in the account and an investment in the project have similar risk, you should not take on the project if a 5% discount rate results in a negative NPV. We call your choice of discount rate the required rate of return. The required rate of return can be thought of as the return on your next best investment opportunity with similar risk."}),(0,h.jsx)("p",{className:"heading2",children:"Internal Rate of Return"}),(0,h.jsx)("p",{children:'Another way to evaluate an investment opportunity is to calculate its internal rate of return. The IRR on a project is the discount rate that will result in an NPV equal to zero. If the IRR is greater than the required rate of return, you should take on the project; if the IRR is less than the required rate of return, you shouldn\'t take on the project. In this context, the required rate of return is sometimes called the "hurdle rate."'}),(0,h.jsx)("p",{children:"The IRR rule has the advantage of showing which range of discount rates will result in a positive NPV for the project. This can be harder to see with the NPV rule. However, there are a few limitations to the IRR rule to keep in mind: (1) some projects may create multiple IRRs, (2) IRRs are scale invariant, and (3) actually achieving the future value implied by the IRR depends on whether interim cash flows can be reinvested at the IRR. To build some intutition about these limitations and to see the relationship between the NPV and the IRR, let's consider a project with an initial payment today followed by two periods of cash flows:"}),(0,h.jsx)("div",{className:"table-wrapper",children:(0,h.jsx)("table",{className:"my-table",children:(0,h.jsxs)("tbody",{children:[(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:"Year"}),(0,h.jsx)("td",{className:"table-entry",children:"0"}),(0,h.jsx)("td",{className:"table-entry",children:"1"}),(0,h.jsx)("td",{className:"table-entry",children:"2"})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:"Cash Flow"}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(s.A,{inline:!0,children:"\\( C_0 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(s.A,{inline:!0,children:"\\( C_1 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(s.A,{inline:!0,children:"\\( C_2 \\)"})})]})]})})}),(0,h.jsxs)("p",{children:["Given a discount rate ",(0,h.jsx)(s.A,{inline:!0,children:"\\( r \\)"}),", the NPV of this project is",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n          \\begin{aligned}\n          NPV = C_0 + \\frac{C_1}{1 + r} + \\frac{C_2}{(1+r)^2}\n          \\end{aligned}\n        \\]"}),"We can find the IRR for this project by setting the NPV equal to zero and solving for ",(0,h.jsx)(s.A,{inline:!0,children:"\\( r \\)"}),".",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n          \\begin{aligned}\n          &0 = C_0 + \\frac{C_1}{1 + r} + \\frac{C_2}{(1+r)^2} \\\\\n          &\\Leftrightarrow C_0(1+r)^2 + C_1(1+r) + C_2 = 0 \n          \\end{aligned}\n        \\]"}),"In general, solving for ",(0,h.jsx)(s.A,{inline:!0,children:"\\( r \\)"})," by hand can quickly become intractable, so we typically rely on numerical methods to find ",(0,h.jsx)(s.A,{inline:!0,children:"\\( r \\)"}),". For this simple example, we can find a closed-form solution for ",(0,h.jsx)(s.A,{inline:!0,children:"\\( r \\)"})," using the quadratic formula. Recall that a second degree polynomial of the form ",(0,h.jsx)(s.A,{inline:!0,children:"\\( ax^2 + bx + c \\)"})," has roots given by ",(0,h.jsx)(s.A,{inline:!0,children:"\\( x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a} \\)"}),". Here, if we let ",(0,h.jsx)(s.A,{inline:!0,children:"\\( x = 1+r \\)"}),", ",(0,h.jsx)(s.A,{inline:!0,children:"\\( a = C_0 \\)"}),", ",(0,h.jsx)(s.A,{inline:!0,children:"\\( b =  C_1\\)"}),", and ",(0,h.jsx)(s.A,{inline:!0,children:"\\( c = C_2\\)"}),", we can solve for ",(0,h.jsx)(s.A,{inline:!0,children:"\\( r \\)"})," as",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n          \\begin{aligned}\n          &1 + r = \\frac{- C_1 \\pm \\sqrt{C_1^2 -4C_0C_2}}{2C_0} \\\\\n          &\\Leftrightarrow r = \\frac{-C_1 \\pm \\sqrt{C_1^2 - 4C_0C_2}}{2C_0} - 1\n          \\end{aligned}\n        \\]"}),"If the expression in the square root is negative (",(0,h.jsx)(s.A,{inline:!0,children:"\\( C_1^2 < 4C_0C_2 \\)"}),"), then there is no real solution. Thus, not every project has an IRR. If the inside of the square root is positive (",(0,h.jsx)(s.A,{inline:!0,children:"\\( C_1^2 \\geq 4C_0C_2 \\)"}),"), we run into a different problem: the plus or minus sign creates two real solutions. Sometimes this isn't a problem because one of the solutions is not economically meaningful, and we can discard it. If a solution results in ",(0,h.jsx)(s.A,{inline:!0,children:"\\( r \\leq -1\\)"}),", we can safely discard it since NPV loses economic meaning when ",(0,h.jsx)(s.A,{inline:!0,children:"\\( 1 + r \\leq 0\\)"}),". But, if both solutions are greater than -1, then we have two valid IRRs."]}),(0,h.jsxs)("p",{children:["In the example we're considering, both solutions are greater than -1 if ",(0,h.jsx)(s.A,{inline:!0,children:"\\( C_1^2 \\geq 4C_0C_2 \\)"})," and",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n          \\begin{aligned}\n          \\frac{-C_1 \\pm \\sqrt{C_1^2 - 4C_0C_2}}{2C_0} > 0\n          \\end{aligned}\n        \\]"}),"which happens if ",(0,h.jsx)(s.A,{inline:!0,children:"\\( C_0, C_2 > 0 \\)"})," and ",(0,h.jsx)(s.A,{inline:!0,children:"\\( C_1 < 0 \\)"})," OR ",(0,h.jsx)(s.A,{inline:!0,children:"\\( C_0, C_2 < 0 \\)"})," and ",(0,h.jsx)(s.A,{inline:!0,children:"\\( C_1 >0\\)"}),". In general, we may run into multiple IRRs whenever cash flows change sign and then revert back (i.e., from negative to positive to negative again or from positive to negative to positive again)."]}),(0,h.jsxs)("p",{children:["Even if we have only one economically meaningful IRR, using IRRs to compare projects may not result in the optimal investment decision. This happens because IRRs are scale invariant. Consider the equation we started with to find the IRR. If we multiply each cash flow in the equation by any arbitrary non-zero number, we will not have changed the IRR.",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n          \\begin{aligned}\n          0 &= C_0 + \\frac{C_1}{1 + r} + \\frac{C_2}{(1+r)^2} \\\\\n          \\Leftrightarrow 0 &= AC_0 + \\frac{AC_1}{1 + r} + \\frac{AC_2}{(1+r)^2} \n          \\end{aligned}\n        \\]"}),"Because of this scale invariance, it is possible for one project to have a higher IRR and a lower NPV than another project. Thus, you should use the NPV rule to choose among different projects, not the IRR rule."]}),(0,h.jsxs)("p",{children:["Finally, the IRR does not, in general, tell you the actual return that you will achieve if you invest in the project. To achieve the IRR in practice, you must be able to reinvest cash flows that pay out before the final period at the IRR. To see this, suppose ",(0,h.jsx)(s.A,{inline:!0,children:"\\( C_0 < 0 \\)"})," and ",(0,h.jsx)(s.A,{inline:!0,children:"\\( C_1, C_2 >0 \\)"})," in the example above (i.e., you make an initial payment of ",(0,h.jsx)(s.A,{inline:!0,children:"\\(-$C_0 \\)"})," today and receive ",(0,h.jsx)(s.A,{inline:!0,children:"\\( $C_1 \\)"})," in one year and ",(0,h.jsx)(s.A,{inline:!0,children:"\\( $C_2 \\)"})," in two years). In this case, the IRR is given by ",(0,h.jsx)(s.A,{inline:!0,children:"\\( r = \\frac{-C_1 - \\sqrt{C_1^2 - 4C_0C_2}}{2C_0} - 1\\)"}),". If you had invested the inital payment in an account offering the same rate as the IRR, you would have the following amount in two years:",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n          \\begin{aligned}\n          -C_0(1+r)^2 &= -C_0\\left(\\frac{-C_1 - \\sqrt{C_1^2 - 4C_0C_2}}{2C_0}\\right)^2 \\\\\n          &= C_1(1+r) + C_2\n          \\end{aligned}\n        \\]"}),"However, if you take on the project and don't reinvest the money you receive at the end of the first year, you will have only ",(0,h.jsx)(s.A,{inline:!0,children:"\\( C_1 + C_2 \\)"})," at the end of two years."]}),(0,h.jsx)("p",{className:"heading2",children:"Discounted Cash Flow Analysis"}),(0,h.jsxs)("p",{children:["The NPV and IRR rules are both forms of DCF analysis, or a broader methodology that seeks to determine the value of an asset based on the present value of its future cash flows. When using DCF analysis as a valuation tool, it is common to forecast cash flows for a set period and then assign a terminal value to the asset (at the end of the forecasting period). This terminal value could be a single number or a (growth) annuity/perpetuity. In this way, the value of the asset can be broken down into",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n          \\begin{aligned}\n          \\text{Value} = \\overbrace{\\sum^T_{t=1}\\frac{C_t}{(1+r)^t}}^{\\text{Forecasted Cash Flows}} + \\frac{\\text{Terminal Value}}{(1 + r)^T}\n          \\end{aligned}\n        \\]"})]}),(0,h.jsx)("p",{children:"Use the calculator below to calculate the NPV of different cash flow schedules. Choose up to 10 forecasted cash flow periods and a terminal value method. The IRR is shown if it exists and is less than 50%."}),(0,h.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,h.jsx)("div",{style:{padding:"10px",fontWeight:"600",fontSize:"1.2rem"},children:"NPV Calculator"}),(0,h.jsxs)("div",{className:"calc_button_container",children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"input-bars",children:[(0,h.jsx)("label",{children:(0,h.jsxs)("strong",{children:["Forecasted Periods (",(0,h.jsx)(s.A,{inline:!0,children:"\\( T \\)"}),")"]})}),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",paddingTop:"2px"},children:[(0,h.jsx)("button",{onClick:()=>d((e=>Math.max(0,e-1))),children:"\u25c0"}),(0,h.jsx)("span",{style:{margin:"0 10px"},children:n}),(0,h.jsx)("button",{onClick:()=>d((e=>Math.min(10,e+1))),children:"\u25b6"})]})]}),(0,h.jsxs)("div",{className:"cashflow-grid",children:[(0,h.jsxs)("div",{className:"row header",children:[(0,h.jsxs)("span",{children:["Period (",(0,h.jsx)(s.A,{inline:!0,children:"\\( t \\)"}),")"]}),(0,h.jsxs)("span",{children:["Cash Flow (",(0,h.jsx)(s.A,{inline:!0,children:"\\( C_t \\)"}),")"]})]}),u.map(((e,t)=>(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("span",{children:t}),(0,h.jsx)("input",{type:"text",inputMode:"decimal",value:e,onFocus:e=>e.target.select(),onChange:e=>{const n=[...u];n[t]=e.target.value,p(n)}})]},t)))]})]}),(0,h.jsxs)("div",{className:"terminal-side",children:[(0,h.jsx)("strong",{children:"Terminal Value Method:"}),(0,h.jsxs)("div",{className:"terminal-button-choice-container",children:[(0,h.jsx)("div",{className:"terminal-buttons",children:[["single","Single Value"],["annuity","Annuity"],["perpetuity","Perpetuity"],["growingAnnuity","Growing Annuity"],["growingPerpetuity","Growing Perpetuity"]].map((e=>{let[t,n]=e;return(0,h.jsxs)("label",{className:"terminal-radio ".concat(f===t?"active":""),children:[(0,h.jsx)("input",{type:"radio",name:"terminalType",value:t,checked:f===t,onChange:()=>m(t)}),n]},t)}))}),(0,h.jsxs)("div",{className:"terminal-choices",children:[(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("label",{children:["Discount Rate (",(0,h.jsx)(s.A,{inline:!0,children:"\\( r \\)"}),") (as decimal):"]}),(0,h.jsx)("input",{type:"text",value:e,inputMode:"decimal",onFocus:e=>e.target.select(),onChange:e=>{t(e.target.value)}})]}),"single"===f&&(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("label",{children:["Terminal Value (",(0,h.jsx)(s.A,{inline:!0,children:"\\( TV \\)"}),"):"]}),(0,h.jsx)("input",{type:"text",value:x.value,inputMode:"decimal",onFocus:e=>e.target.select(),onChange:e=>g((0,a.A)((0,a.A)({},x),{},{value:e.target.value}))})]}),["annuity","growingAnnuity"].includes(f)&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("label",{children:["Payment (",(0,h.jsx)(s.A,{inline:!0,children:"\\( A \\)"}),"):"]}),(0,h.jsx)("input",{type:"text",value:x.value,inputMode:"decimal",onFocus:e=>e.target.select(),onChange:e=>g((0,a.A)((0,a.A)({},x),{},{value:e.target.value}))})]}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("label",{children:["Periods (",(0,h.jsx)(s.A,{inline:!0,children:"\\( N \\)"}),"):"]}),(0,h.jsx)("input",{type:"text",value:x.N,inputMode:"decimal",onFocus:e=>e.target.select(),onChange:e=>g((0,a.A)((0,a.A)({},x),{},{N:e.target.value}))})]})]}),["perpetuity","growingPerpetuity"].includes(f)&&(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("label",{children:["Payment (",(0,h.jsx)(s.A,{inline:!0,children:"\\( A \\)"}),"):"]}),(0,h.jsx)("input",{type:"text",value:x.value,inputMode:"decimal",onFocus:e=>e.target.select(),onChange:e=>g((0,a.A)((0,a.A)({},x),{},{value:e.target.value}))})]}),f.includes("growing")&&(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("label",{children:["Growth Rate (",(0,h.jsx)(s.A,{inline:!0,children:"\\( g \\)"}),"):"]}),(0,h.jsx)("input",{type:"text",value:x.g,inputMode:"decimal",onFocus:e=>e.target.select(),onChange:e=>g((0,a.A)((0,a.A)({},x),{},{g:e.target.value}))})]})]})]}),(0,h.jsxs)("div",{style:{paddingTop:"10px"},children:[null===w&&(0,h.jsx)(s.A,{dynamic:!0,className:"math-container",children:"\\[\n                  \\begin{aligned}\n                  ".concat(j,"\n                  \\end{aligned}\n                \\]")}),null!==w&&(0,h.jsx)(s.A,{dynamic:!0,className:"math-container",children:"\\[\n                  \\begin{aligned}\n                  ".concat(j," \\\\ \\\\\n                  IRR &= ").concat((100*w).toFixed(2),"\\%\n                  \\end{aligned}\n                \\]")})]})]})]})]}),(0,h.jsx)("p",{children:'Note that the discount rate should be the effective rate that matches the cash flow period. See the "Time Units" subsection on the previous page for an explanation of how to ensure the rate matches the standard formulas.'}),(0,h.jsx)("p",{className:"heading2",children:"Examples"}),(0,h.jsxs)(c.A,{solution:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("p",{children:["The NPV of each project is given by",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                NPV_1 &= -100 + \\frac{10}{1+r} + \\frac{40}{(1+r)^2} + \\frac{20}{(1+r)^3} + \\frac{30}{(1+r)^4} + \\frac{50}{(1+r)^5} \\\\\n                NPV_2 &= -1000 + \\frac{100}{1+r} + \\frac{300}{(1+r)^2} + \\frac{100}{(1+r)^3} + \\frac{200}{(1+r)^4} + \\frac{500}{(1+r)^5} \n                \\end{aligned}\n              \\]"}),"Using numerical methods, we can find the IRRs for these projects. Project 1 has an IRR of 12.85%. Project 2 has an IRR of 5.3%. Thus, project 1 has the higher IRR."]}),(0,h.jsx)("p",{children:"However, using a discount rate of 4%, project 1 has an NPV of $31.12, and project 2 has an NPV of $44.34. Thus, you should choose project 2."})]}),children:[(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Example 1:"})," You have the option of taking on one of two projects. Project 1 requires an initial an investment of $100 today, project 2 requires an inital investment of $1,000 today. The projects pay out the following cash flows over the next five years:"]}),(0,h.jsx)("div",{className:"table-wrapper",children:(0,h.jsx)("table",{className:"my-table",children:(0,h.jsxs)("tbody",{children:[(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:"Year"}),(0,h.jsx)("td",{className:"table-entry",children:"1"}),(0,h.jsx)("td",{className:"table-entry",children:"2"}),(0,h.jsx)("td",{className:"table-entry",children:"3"}),(0,h.jsx)("td",{className:"table-entry",children:"4"}),(0,h.jsx)("td",{className:"table-entry",children:"5"})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:"Project 1"}),(0,h.jsx)("td",{className:"table-entry",children:"10"}),(0,h.jsx)("td",{className:"table-entry",children:"40"}),(0,h.jsx)("td",{className:"table-entry",children:"20"}),(0,h.jsx)("td",{className:"table-entry",children:"30"}),(0,h.jsx)("td",{className:"table-entry",children:"50"})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:"Project 2"}),(0,h.jsx)("td",{className:"table-entry",children:"100"}),(0,h.jsx)("td",{className:"table-entry",children:"300"}),(0,h.jsx)("td",{className:"table-entry",children:"100"}),(0,h.jsx)("td",{className:"table-entry",children:"200"}),(0,h.jsx)("td",{className:"table-entry",children:"500"})]})]})})}),(0,h.jsx)("p",{children:"Which project has the higher IRR? Which project should you choose if your only other investment option has an annual return of 4% (compounded annually)?"})]})]}),(0,h.jsx)(o.A,{group:"TD"}),(0,h.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,h.jsx)(l.k2,{className:"TD-link",to:"/corporate_finance/time_discounting",children:"Contents"})})]})}},7481:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});n(5043),n(7113);var a=n(4257),i=n(7971),r=n(5475),s=n(2638),l=n(2189),o=n(4),c=n(579);const h=function(){return(0,c.jsxs)("div",{className:"TimeDiscounting",children:[(0,c.jsx)(s.A,{group:"TD"}),(0,c.jsx)("p",{className:"heading1",children:"Bonds"}),(0,c.jsxs)(a.A,{children:[(0,c.jsx)("p",{className:"heading2",children:"Preliminaries"}),(0,c.jsxs)("p",{children:["Using what we've learned so far about discount rates, compounding, and annuities, we can come up with a way to determine the value of a bond. A bond is a debt security that gives the holder a right to one or more future fixed payments by the bond's issuer. A bond remains outstanding as long as the issuer still has scheduled payments to make. A bond matures on the date of the last payment. The face value of a bond is the amount of the last payment. Some bonds offer a single payment upon maturity (no-coupon bonds) while other bonds offer multiple payments at fixed intervals up to and including the date of maturity (coupon bonds). Payments made in addition to the payment of the face value upon maturity are called coupon payments. Coupon payments are typically fixed as a percentage of the face value of the bond and paid every period, including upon maturity. For example, a coupon bond that pays out $50 every year for the next 10 years and an additional $1,000 on the 10th year has a face value of $1,000, a coupon of $50, and a coupon rate of ",(0,c.jsx)(i.A,{inline:!0,children:"\\( \\frac{50}{1000} =.05 \\)"}),"."]}),(0,c.jsxs)("p",{children:["Let's establish some notation. We'll call the current price of the bond ",(0,c.jsx)(i.A,{inline:!0,children:"\\( P \\)"}),", the face value ",(0,c.jsx)(i.A,{inline:!0,children:"\\( FV \\)"}),", the coupon (if any) ",(0,c.jsx)(i.A,{inline:!0,children:"\\( C \\)"}),", the coupon rate ",(0,c.jsx)(i.A,{inline:!0,children:"\\( c = \\frac{C}{FV} \\)"}),", the time until maturity ",(0,c.jsx)(i.A,{inline:!0,children:"\\( T \\)"}),", and the compound discount rate (measured relative to the same units as our time variable) ",(0,c.jsx)(i.A,{inline:!0,children:"\\( r \\)"}),"."]}),(0,c.jsx)("p",{className:"heading2",children:"No-Coupon Bonds"}),(0,c.jsxs)("p",{children:["To price a no-coupon bond with maturity ",(0,c.jsx)(i.A,{inline:!0,children:"\\( T \\)"}),", compound discount rate ",(0,c.jsx)(i.A,{inline:!0,children:"\\( r \\)"}),", and face value ",(0,c.jsx)(i.A,{inline:!0,children:"\\( FV \\)"}),", we use our formula for compounding every period solved for the initial value.",(0,c.jsx)(i.A,{className:"math-container",children:"\\[\n            P = \\frac{FV}{(1 + r)^T}\n          \\]"})]}),(0,c.jsx)("p",{className:"heading2",children:"Coupon Bonds"}),(0,c.jsxs)("p",{children:["To price a coupon bond that pays out ",(0,c.jsx)(i.A,{inline:!0,children:"\\( C \\)"})," each period through maturity, we treat the face value payment as a no-coupon bond and the coupon payments as a fixed-payment annuity. If we put these two together, we get",(0,c.jsx)(i.A,{className:"math-container",children:"\\[\n            P = \\frac{FV}{(1 + r)^T} + C\\left(\\frac{1 - (1+r)^{-T}}{r}\\right)\n          \\]"}),"We can also think about the price of a coupon bond in terms of the coupon rate ",(0,c.jsx)(i.A,{inline:!0,children:"\\( c \\)"})," by substituting in ",(0,c.jsx)(i.A,{inline:!0,children:"\\( C = cFV\\)"}),".",(0,c.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            P &= \\frac{FV}{(1 + r)^T} + cFV\\left(\\frac{1 - (1+r)^{-T}}{r}\\right) \\\\\n            &= FV\\left((1 + r)^{-T}\\left(1 - \\frac{c}{r}\\right) + \\frac{c}{r}\\right)\n            \\end{aligned}\n          \\]"}),"Note that if the coupon rate is greater than the discount rate (",(0,c.jsx)(i.A,{inline:!0,children:"\\( c > r \\)"}),"), ",(0,c.jsx)(i.A,{inline:!0,children:"\\( (1 + r)^{-T}\\left(1 - \\frac{c}{r}\\right) + \\frac{c}{r} > 1 \\)"}),", which means the price is greater than the face value. If the coupon rate is less than the discount rate, the price is less than the face value. Finally, if the coupon rate and the discount rate are equal, the price is equal to the face value."]}),(0,c.jsx)("p",{children:"Bonds are typically issued with a coupon rate that matches the discount rate, so that the issue price is equal to the face value of the bond. When this happens we say the bond is issued at par. If the discount rate falls after the bonds are issued (either because the risk-free rate goes down or the company's credit risk improves), the price of the bonds will go up relative to their face value, or the bonds will be priced at a premium. If the discount rate rises after the bonds are issued (either because the risk-free rate goes up or the company's credit risk worsens), the price of the bonds will go down relative to their face value, or the bonds will be priced at a discount."}),(0,c.jsx)("p",{className:"heading2",children:"Convertible Bonds"}),(0,c.jsx)("p",{children:"A convertible bond is a bond that can be exchanged for shares of stock before it matures. A vanilla convertible allows the bondholder to exhange the bond for a fixed number of shares of the issuer's stock at any point before the bond matures. The number of shares available upon conversion for a single convertible bond is called the conversion ratio. We can think of convertibles as having three sources of value: (1) the value of the convertible as a bond, (2) the value of the convertible as stock, and (3) the value of the convertible as an option. At any period before maturity, the convertible is worth at least as much as a similarily structured non-convertible bond and at least as much as the stock price multiplied by the number of shares available upon conversion. Holding a convertible can also be thought of as holding a call option with a strike price equal to the bond value at a given period."}),(0,c.jsxs)("p",{children:["Consider a vanilla convertible with conversion ratio ",(0,c.jsx)(i.A,{inline:!0,children:"\\( N \\)"}),", coupon payments ",(0,c.jsx)(i.A,{inline:!0,children:"\\( C \\)"}),", discount rate ",(0,c.jsx)(i.A,{inline:!0,children:"\\( r \\)"}),", and underlying stock price ",(0,c.jsx)(i.A,{inline:!0,children:"\\( S \\)"}),". Suppose we forced the convertible holder to either keep the bond and forfeit the option of future conversion or convert right now. In this case, the holder would simply pick whichever choice was worth more, giving a value of",(0,c.jsx)(i.A,{className:"math-container",children:"\\[\n            \\max \\left\\{\\frac{FV}{(1 + r)^T} + C\\left(\\frac{1 - (1+r)^{-T}}{r}\\right), S\\times N\\right\\}\n          \\]"}),"However, vanilla convertible holders have the option of converting at any time until maturity. Thus, the above expression is only a lower bound for the convertible's value. Suppose we had a call option that gave the holder of the option the right to purchase ",(0,c.jsx)(i.A,{inline:!0,children:"\\( N \\)"})," shares of stock at whatever the price of a non-convertible bond was at the time. Let's denote this option price ",(0,c.jsx)(i.A,{inline:!0,children:"\\( P_{option} \\)"}),". An investor could obtain the same rights by either (1) purchasing a single vanilla convertible or (2) purchasing one non-convertible bond and one option. Thus, the value of a vanilla convertible is",(0,c.jsx)(i.A,{className:"math-container",children:"\\[\n            P = \\frac{FV}{(1 + r)^T} + C\\left(\\frac{1 - (1+r)^{-T}}{r}\\right) + P_{option}\n          \\]"})]}),(0,c.jsxs)("p",{children:["For now, we won't go into how we might come up with a price for the hypothetical call option we've described. (See ",(0,c.jsx)(r.k2,{className:"inline-link",to:"/corporate_finance/black_scholes",children:"Black-Scholes"})," for a discussion of option pricing.) Instead, we simply acknowledge that a convertible's price should include an option-value component."]}),(0,c.jsx)("p",{className:"heading2",children:"Bond Yield"}),(0,c.jsxs)("p",{children:["The yield to maturity (YTM) on a bond is the discount rate needed to generate the current market price for the bond. In the case of a no-coupon bond, we can explicitly solve for the YTM as",(0,c.jsx)(i.A,{className:"math-container",children:"\\[\n            r = \\left(\\frac{FV}{P}\\right)^{\\frac{1}{T}} - 1\n          \\]"}),"where ",(0,c.jsx)(i.A,{inline:!0,children:"\\( T \\)"})," is the remaining time until maturity and ",(0,c.jsx)(i.A,{inline:!0,children:"\\( P \\)"})," is the market price. In the case of a coupon bond, we can use numerical methods to solve for ",(0,c.jsx)(i.A,{inline:!0,children:"\\( r \\)"}),"."]}),(0,c.jsxs)("p",{children:["Do equivalent bonds with different maturities have the same YTM? Let's consider the YTM for no-coupon bonds with the same face value and different maturities. A YTM in this context is known as a spot rate, or the interest rate applicable to a single cash flow occurring at a specific future time. The one-year spot rate (the YTM on a zero-coupon bond that matures in one year) is given by ",(0,c.jsx)(i.A,{inline:!0,children:"\\( s_1 = \\frac{FV}{P_1} - 1 \\)"}),"; the two-year spot rate is ",(0,c.jsx)(i.A,{inline:!0,children:"\\( s_2 = \\left(\\frac{FV}{P_2}\\right)^{1/2} - 1 \\)"}),"; the ",(0,c.jsx)(i.A,{inline:!0,children:"\\( t \\)"}),"-year spot rate is ",(0,c.jsx)(i.A,{inline:!0,children:"\\( s_t = \\left(\\frac{FV}{P_t}\\right)^{1/t} - 1 \\)"}),". In this context, ",(0,c.jsx)(i.A,{inline:!0,children:"\\( P_1 \\)"}),", ",(0,c.jsx)(i.A,{inline:!0,children:"\\( P_2 \\)"}),", and ",(0,c.jsx)(i.A,{inline:!0,children:"\\( P_t \\)"})," are the market prices of no-coupon bonds with the same face value that will mature in one, two, and ",(0,c.jsx)(i.A,{inline:!0,children:"\\( t \\)"})," years respectively. These spot rates might differ if investors believe short-term interest rates will change in the future. If investors expect future short-term interest rates to steadily increase, then the yield on bonds with longer maturities should be greater than the yield on bonds with shorter maturities. If investors expect future short-term interest rates to steadily fall, then the yield on bonds with longer maturities should be lower than the yield on bonds with shorter maturities."]}),(0,c.jsx)("p",{children:"We can visualize these differences by plotting spot rates and observing the direction of the slope on the resulting yield curve."}),(0,c.jsx)("div",{className:"graph-container",children:(0,c.jsx)(o.default,{data:[{maturity:1,yield:2},{maturity:3,yield:3},{maturity:5,yield:3.7},{maturity:10,yield:4.1},{maturity:30,yield:4.5}]})}),(0,c.jsx)("p",{children:'In practice, yield curves are usually upward sloping. This is not because investors consistently expect increases in future short-term interest rates but because bond prices reflect future interest rate uncertainty as well as directional beliefs about future interest rates. Longer-maturity bonds typically carry a "term premium" because investors face greater uncertainty about interest rates farther into the future, so these bonds must offer higher yields than comparable short-term bonds.'}),(0,c.jsxs)("p",{children:["Spot rates on Treasury bonds are not readily observable since Treasury bonds typically carry coupons. However, we can infer spot rates for longer-maturity bonds using spot rates for shorter-maturity bonds. We start with a one-year Treasury with an annual coupon. The price of this Treasury is given by",(0,c.jsx)(i.A,{className:"math-container",children:"\\[\n            P_1 = \\frac{FV + C}{1 + s_1} \\Leftrightarrow s_1 = \\frac{FV + C}{P_1} - 1\n          \\]"}),"Next, we can infer the two-year spot rate by noting that the the price of a two-year Treasury is",(0,c.jsx)(i.A,{className:"math-container",children:"\\[\n            P_2 = \\frac{C}{1 + s_1} + \\frac{FV + C}{(1 + s_2)^2} \\Leftrightarrow s_2 = \\left(\\frac{FV +C}{P_2 - \\frac{C}{1 + s_1}}\\right)^{\\frac{1}{2}} - 1\n          \\]"}),"Continuing on, we can infer the ",(0,c.jsx)(i.A,{inline:!0,children:"\\( t \\)"}),"-year spot rate using the price of a ",(0,c.jsx)(i.A,{inline:!0,children:"\\( t \\)"}),"-year Treasury",(0,c.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            P_t = \\frac{C}{1 + s_1} + \\frac{C}{(1 + s_2)^2}  + \\dots + \\frac{C}{(1 + s_{t-1})^{t-1}}  + \\frac{FV + C}{(1 + s_t)^t} \\\\\n            \\Leftrightarrow s_t = \\left(\\frac{FV +C}{P_t - \\sum^{t-1}_{i=1}\\frac{C}{(1 + s_1)^i}}\\right)^{\\frac{1}{t}} - 1\n            \\end{aligned}\n          \\]"})]}),(0,c.jsx)("p",{className:"heading2",children:"Examples"}),(0,c.jsx)(l.A,{solution:(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("p",{children:["First, let's use the coupon rate to find the yearly coupon payment.",(0,c.jsx)(i.A,{className:"math-container",children:"\\[\n                C = cFV = .05*1000 = $50\n              \\]"}),"Next, we can use the equation for a coupon bond with ",(0,c.jsx)(i.A,{inline:!0,children:"\\( FV = 1000 \\)"}),", ",(0,c.jsx)(i.A,{inline:!0,children:"\\( C = 50\\)"}),", ",(0,c.jsx)(i.A,{inline:!0,children:"\\( T=20 \\)"}),", and ",(0,c.jsx)(i.A,{inline:!0,children:"\\( r = .03 \\)"}),".",(0,c.jsx)(i.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                 P &= \\frac{1000}{(1 + .03)^{20}} + 50\\left(\\frac{1 - (1+.03)^{-20}}{.03}\\right) \\\\\n                 &\\approx $1297.55\n                \\end{aligned}\n              \\]"})]})}),children:(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Example 1:"})," What is the price of a 20-year bond with a 5% coupon rate and a face value of $1,000? Assume a compound annual discount rate of 3%."]})}),(0,c.jsx)(l.A,{solution:(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("p",{children:["First, let's rewrite the coupon bond formual in terms of ",(0,c.jsx)(i.A,{inline:!0,children:"\\( T \\)"}),".",(0,c.jsx)(i.A,{className:"math-container",children:"\\[\n                    \\begin{aligned}\n                    &P = \\frac{FV}{(1 + r)^T} + C\\left(\\frac{1 - (1+r)^{-T}}{r}\\right) \\\\\n                    &\\Leftrightarrow (1+r)^T = \\frac{FV - \\frac{C}{r}}{P - \\frac{C}{r}} \\\\\n                    &\\Leftrightarrow T = \\frac{\\log\\left(\\frac{FV - \\frac{C}{r}}{P - \\frac{C}{r}} \\right)}{\\log(1+r)}\n                    \\end{aligned}\n                  \\]"}),"Now, we can use this equation with ",(0,c.jsx)(i.A,{inline:!0,children:"\\( FV = 500 \\)"}),", ",(0,c.jsx)(i.A,{inline:!0,children:"\\( C = cFV = .06*500 = 30 \\)"}),", ",(0,c.jsx)(i.A,{inline:!0,children:"\\( r = .08 \\)"}),", and ",(0,c.jsx)(i.A,{inline:!0,children:"\\( P = 450\\)"}),".",(0,c.jsx)(i.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                T &= \\frac{\\log\\left(\\frac{500 - \\frac{30}{.08}}{450 - \\frac{30}{.08}} \\right)}{\\log(1+.08)} \\\\\n                &\\approx 6.64\n                \\end{aligned}\n              \\]"}),"Finally, we need ",(0,c.jsx)(i.A,{inline:!0,children:"\\( T \\)"})," to be a whole number. Since we want the present value to be no greater than $450, we'll round up to get 7 years. (6 years results in a present value of $453.77 and 7 years results in a present value of $447.94.)"]})}),children:(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Example 2:"})," Consider a bond with a 6% coupon rate and a face value of $500. What is the minimum number of years the bond must have until maturity to ensure a present value of no greater than $450? Assume a compound annual discount rate of 8%."]})}),(0,c.jsx)(l.A,{solution:(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("p",{children:["To answer this question, we need to figure out what the price of the bonds is five years after issuance. Because the bonds were issued at par, we know that the coupon rate must equal the discount rate at the time of issuance, or ",(0,c.jsx)(i.A,{inline:!0,children:"\\( c=.02 \\)"}),". The coupon rate does not change over the lifetime of the bonds. Thus, the coupon for the first 5 years is the same as the coupon for the last 5 years (",(0,c.jsx)(i.A,{inline:!0,children:"\\( C = cFV = .02*1000 = 20 \\)"}),"). Using this coupon payment, along with ",(0,c.jsx)(i.A,{inline:!0,children:"\\( r = .07 \\)"}),", ",(0,c.jsx)(i.A,{inline:!0,children:"\\( T = 5\\)"}),", and ",(0,c.jsx)(i.A,{inline:!0,children:"\\( FV = 1000 \\)"}),", we have the following price five years after issuance:",(0,c.jsx)(i.A,{className:"math-container",children:"\\[\n                    \\begin{aligned}\n                    P &= \\frac{1000}{(1 + .07)^{5}} + 20\\left(\\frac{1 - (1+.07)^{-5}}{.07}\\right) \\\\\n                    &\\approx $794.99\n                    \\end{aligned}\n                  \\]"}),"Thus, the bondholders could make ",(0,c.jsx)(i.A,{inline:!0,children:"\\( 1000 - 794.99 = $205.01\\)"})," per bond by forcing the company to buy back the bonds at par."]})}),children:(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Example 3:"})," Suppose a company issues 10-year coupon bonds with a face value of $1,000 at par when the compound annual discount rate for the company is 2%. Five years later, the risk-free rate rises and the company's risk profile remains the same, causing the discount rate to increase to 7%. How much could the current bondholders make if they accelerated the debt and forced the company to pay face value for the bonds?"]})})]}),(0,c.jsx)(s.A,{group:"TD"}),(0,c.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,c.jsx)(r.k2,{className:"TD-link",to:"/corporate_finance/time_discounting",children:"Contents"})})]})}},6432:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});n(5043),n(7113);var a=n(4257),i=n(7971),r=n(5475),s=n(2638),l=n(2189),o=n(579);const c=function(){return(0,o.jsxs)("div",{className:"TimeDiscounting",children:[(0,o.jsx)(s.A,{group:"TD"}),(0,o.jsx)("p",{className:"heading1",children:"Time Conversion"}),(0,o.jsxs)(a.A,{children:[(0,o.jsx)("p",{children:"Suppose we have a nominal monthly interset rate that is compounded daily. What is the equivalent nominal annual interest rate compounded quarterly?"}),(0,o.jsx)("p",{className:"heading2",children:"Nominal vs. Effective Rate"}),(0,o.jsx)("p",{children:"Before we make this conversion, let's think about nominal rates and effective rates. A nominal rate does not take into account the effect of compounding multiple times per rate period. An effective rate is the rate that would give the same total return as the nominal rate if compounding happened only once per rate period."}),(0,o.jsxs)("p",{children:["Suppose we invest $",(0,o.jsx)(i.A,{inline:!0,children:"\\( PV \\)"})," in two accounts: The first offers a nominal rate (",(0,o.jsx)(i.A,{inline:!0,children:"\\( r \\)"}),") that compounds ",(0,o.jsx)(i.A,{inline:!0,children:"\\( n \\)"})," times per rate period. The second offers an effective rate (",(0,o.jsx)(i.A,{inline:!0,children:"\\( r_e \\)"}),") with the same time units as the nominal rate. What is the future value after one rate period?",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\overbrace{FV = PV\\left(1 + \\frac{r}{n}\\right)^n}^{\\text{Account #1}} \\quad\\quad \\overbrace{FV = PV\\left(1 + r_e \\right)}^{\\text{Account #2}}  \\\\\n            \\end{aligned}\n          \\]"}),"These accounts should have the same future value at the end of the rate period. If we set them equal, we can solve for the effective rate in terms of the nominal rate as",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n             r_e = \\left(1 + \\frac{r}{n}\\right)^n - 1\n            \\end{aligned}\n          \\]"}),"We can also solve for the nominal rate in terms of the effective rate as",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n             r = n\\left[(1 + r_e)^{\\frac{1}{n}} - 1\\right] \n            \\end{aligned}\n          \\]"})]}),(0,o.jsx)("p",{className:"heading2",children:"Changing Time Units"}),(0,o.jsxs)("p",{children:["With the ability to move between nominal and effective rates, we are halfway there. We still need to figure out how to change the time units on an effective rate. For example, how can we go from a monthly effective rate to an annual effective rate? Suppose we want to change the time units on an effective rate (",(0,o.jsx)(i.A,{inline:!0,children:"\\( r_{e1} \\)"}),") to get a new effective rate (",(0,o.jsx)(i.A,{inline:!0,children:"\\( r_{e2} \\)"}),"). Let's say that ",(0,o.jsx)(i.A,{inline:!0,children:"\\( m \\)"})," current rate periods occur every one new rate period. In this case, the following equations should yield the same future value:",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n             FV = PV(1 + r_{e1})^m \\quad\\quad FV = PV(1 + r_{e2}) \n            \\end{aligned}\n          \\]"}),"If we set these equations equal, we can solve for the new effective rate in terms of our current effective rate.",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n             r_{e2} = (1+r_{e1})^m - 1\n            \\end{aligned}\n          \\]"}),(0,o.jsxs)("p",{children:["Changing the time units on a nominal rate is even simpler. Given a current nominal rate ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r \\)"})," with compounding ",(0,o.jsx)(i.A,{inline:!0,children:"\\( n \\)"})," times per rate period, we can change to a nominal rate in which ",(0,o.jsx)(i.A,{inline:!0,children:"\\( m \\)"})," current rate periods occur every one new rate period by multiplying by ",(0,o.jsx)(i.A,{inline:!0,children:"\\( m \\)"}),". For example, to change from a 1% nominal monthly rate with daily compounding to a nominal yearly rate with daily compounding, we multiply by 12 to get a new rate of 12%."]})]}),(0,o.jsx)("p",{className:"heading2",children:"Process"}),(0,o.jsx)("p",{children:"Now that we can change between nominal and effective rates and adjust the time units on an effective rate, we are ready to tackle the rate conversion problem at the beginning. The process looks like this"}),(0,o.jsxs)("div",{className:"flow-container",children:[(0,o.jsxs)("div",{className:"flow-step",children:["Current Nominal Rate (",(0,o.jsx)(i.A,{inline:!0,children:"\\( r_1 \\)"}),")"]}),(0,o.jsx)("div",{className:"flow-arrow",children:"\u279c"}),(0,o.jsxs)("div",{className:"flow-step",children:["Current Effective Rate (",(0,o.jsx)(i.A,{inline:!0,children:"\\( r_{e1} \\)"}),")"]}),(0,o.jsx)("div",{className:"flow-arrow",children:"\u279c"}),(0,o.jsxs)("div",{className:"flow-step",children:["New Effective Rate (",(0,o.jsx)(i.A,{inline:!0,children:"\\( r_{e2} \\)"}),")"]}),(0,o.jsx)("div",{className:"flow-arrow",children:"\u279c"}),(0,o.jsxs)("div",{className:"flow-step",children:["New Nominal Rate (",(0,o.jsx)(i.A,{inline:!0,children:"\\( r_2 \\)"}),")"]})]}),(0,o.jsxs)("p",{children:["First, we change the nominal monthly rate into an effective monthly rate, using the fact that we have compounding 30 times per month (",(0,o.jsx)(i.A,{inline:!0,children:"\\( n_1=30 \\)"}),").",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n             r_{e1} = \\left(1 + \\frac{r_1}{n_1}\\right)^{n_1} - 1\n            \\end{aligned}\n          \\]"}),"Next, we change the monthly effective rate to an annual effective rate, using the fact that there are 12 months per year (",(0,o.jsx)(i.A,{inline:!0,children:"\\( m=12 \\)"}),").",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n             r_{e2} = (1+r_{e1})^m - 1\n            \\end{aligned}\n          \\]"}),"Finally, we change the annual effective rate into an annual nominal rate, using the fact that we have compounding 4 times per year (",(0,o.jsx)(i.A,{inline:!0,children:"\\( n_2=4 \\)"}),").",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n             r_2 = n_2\\left[(1 + r_{e2})^{\\frac{1}{n_2}} - 1\\right] \n            \\end{aligned}\n          \\]"}),"Let's see what this looks like with a starting rate of ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r_1=0.01 \\)"}),".",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n             r_{e1} &= \\left(1 + \\frac{0.01}{30}\\right)^{30} - 1 \\approx 0.010048 \\\\\n             r_{e2} &= (1+0.010048)^{12} - 1 \\approx 0.127474 \\\\\n             r_2 &= 4\\left[(1 + 0.127474)^{\\frac{1}{4}} - 1\\right] \\approx 0.121798\n            \\end{aligned}\n          \\]"}),"We can verify that we have done the conversion correctly by calculating the future value after one year of $100 placed in an account with a 1% monthly interest rate compounded daily and $100 placed in an account with a 12.1798% annual interest rate compounded quarterly.",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n             FV &= 100\\left(1 + \\frac{0.01}{30}\\right)^{12\\times 30} \\approx \\$112.75 \\\\\n             FV &= 100\\left(1 + \\frac{0.121798}{4}\\right)^{1\\times 4} \\approx \\$112.75\n            \\end{aligned}\n          \\]"}),"Here, we see that both rates yield the same future value."]}),(0,o.jsx)("p",{className:"heading2",children:"Single Equation"}),(0,o.jsxs)("p",{children:["If we plug in ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r_{e1} \\)"})," to our equation for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r_{e2} \\)"})," and then plug in ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r_{e2} \\)"})," to our equation for ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r_2 \\)"}),", we can find ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r_2 \\)"})," in terms of ",(0,o.jsx)(i.A,{inline:!0,children:"\\( r_1 \\)"}),".",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n          \\begin{aligned}\n           r_2 = n_2\\left[\\left(1 + \\frac{r_1}{n_1}\\right)^{m\\frac{n_1}{n_2}} - 1\\right] \n          \\end{aligned}\n        \\]"}),"where",(0,o.jsxs)("ul",{children:[(0,o.jsxs)("li",{children:[(0,o.jsx)(i.A,{inline:!0,children:"\\( r_1 \\)"})," is the current nominal rate;"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)(i.A,{inline:!0,children:"\\( r_2 \\)"})," is the new nominal rate;"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)(i.A,{inline:!0,children:"\\( n_1 \\)"})," is the number of times the current nominal rate is compounded per current rate period;"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)(i.A,{inline:!0,children:"\\( n_2 \\)"})," is the number of times the new nominal rate is compounded per new rate period; and"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)(i.A,{inline:!0,children:"\\( m \\)"})," is the number of current rate periods in one new rate period."]})]})]}),(0,o.jsxs)("p",{children:["We can write this another way if we consider the units on ",(0,o.jsx)(i.A,{inline:!0,children:"\\( m \\times n_1 \\)"}),".",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n             m \\times n_1 &= \\frac{\\text{# of current rate periods}}{\\text{new rate period}} \\times \\frac{\\text{# of current compounding periods}}{\\text{current rate period}}  \\\\\n             &= \\frac{\\text{# of current compounding periods}}{\\text{new rate period}} = k\n            \\end{aligned}\n          \\]"}),"This gives us",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n          \\begin{aligned}\n           r_2 = n_2\\left[\\left(1 + \\frac{r_1}{n_1}\\right)^{\\frac{k}{n_2}} - 1\\right] \n          \\end{aligned}\n        \\]"}),"where",(0,o.jsxs)("ul",{children:[(0,o.jsxs)("li",{children:[(0,o.jsx)(i.A,{inline:!0,children:"\\( r_1 \\)"})," is the current nominal rate;"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)(i.A,{inline:!0,children:"\\( r_2 \\)"})," is the new nominal rate;"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)(i.A,{inline:!0,children:"\\( n_1 \\)"})," is the number of times the current nominal rate is compounded per current rate period;"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)(i.A,{inline:!0,children:"\\( n_2 \\)"})," is the number of times the new nominal rate is compounded per new rate period; and"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)(i.A,{inline:!0,children:"\\( k \\)"})," is the number of current compounding periods in one new rate period."]})]}),"Note that if we set ",(0,o.jsx)(i.A,{inline:!0,children:"\\( n_2=1 \\)"}),", this reduces to the same formula we used to convert rates in the annuity and perpetuity setting. This makes sense because the target rate in that case is an effective rate that compounds once per cash flow period."]}),(0,o.jsx)("p",{className:"heading2",children:"Examples"}),(0,o.jsx)(l.A,{solution:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("p",{children:["Let's convert the first rate into an annual rate compounded daily to make a valid comparison. In this case, we have ",(0,o.jsx)(i.A,{inline:!0,children:"\\( n_1 = 3 \\)"}),", ",(0,o.jsx)(i.A,{inline:!0,children:"\\( n_2 = 360 \\)"}),", and ",(0,o.jsx)(i.A,{inline:!0,children:"\\( k = 12 \\)"}),".",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n                r_2 = 360\\left[\\left(1 + \\frac{0.03}{3}\\right)^{\\frac{12}{360}} - 1\\right]  \\approx 11.94\\%\n              \\]"}),"Since 11.94 is less than 11.95, you should choose to invest in the account with 11.95% annual interest compounded daily."]})}),children:(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Example 1:"})," Would you rather invest in an account that pays 3% quarterly interest compounded monthly or an account that pays 11.95% annual interest compounded daily? (Assume a 360-day year)"]})}),(0,o.jsx)(l.A,{solution:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("p",{children:["We need to convert the discount rate to a semi-annual effective rate before we can use it in our bond pricing equation. Here, we have ",(0,o.jsx)(i.A,{inline:!0,children:"\\( n_1 = 12 \\)"}),", ",(0,o.jsx)(i.A,{inline:!0,children:"\\( n_2 = 1 \\)"}),", and ",(0,o.jsx)(i.A,{inline:!0,children:"\\( k = 6 \\)"}),".",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n                r_2 = \\left(1 + \\frac{0.05}{12}\\right)^{6} - 1 \\approx 0.025262\n              \\]"}),"Now, we can use this new rate in our equation for a coupon bond with ",(0,o.jsx)(i.A,{inline:!0,children:"\\( FV = 100 \\)"}),", ",(0,o.jsx)(i.A,{inline:!0,children:"\\( C = 3\\)"}),", and ",(0,o.jsx)(i.A,{inline:!0,children:"\\( T=20\\times2=40 \\)"}),".",(0,o.jsx)(i.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                 P &= \\frac{100}{(1 + 0.025262)^{40}} + 3\\left(\\frac{1 - (1+0.025262)^{-40}}{0.025262}\\right) \\\\\n                 &\\approx $111.84\n                \\end{aligned}\n              \\]"})]})}),children:(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Example 2:"})," Suppose we have a 20-year bond with a face value of $100 that pays a semi-annual (twice per year) coupon of $3. Assuming we hold to maturity, how much is the bond worth given a 5% annual discount rate compounded monthly?"]})})]}),(0,o.jsx)(s.A,{group:"TD"}),(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,o.jsx)(r.k2,{className:"TD-link",to:"/corporate_finance/time_discounting",children:"Contents"})})]})}},4:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});n(5043);var a=n(579);const i=e=>{let{data:t,width:n=500,height:i=250,padding:r=40}=e;const s=t.map((e=>e.maturity)),l=t.map((e=>e.yield)),o=Math.min(...s),c=Math.max(...s),h=Math.max(...l),d=e=>r+(e-o)/(c-o)*(n-2*r),u=e=>i-r-(e-0)/(h-0)*(i-2*r),p="M "+t.map((e=>"".concat(d(e.maturity),",").concat(u(e.yield)))).join(" L ");return(0,a.jsxs)("svg",{width:n,height:i,children:[(0,a.jsx)("line",{x1:r,y1:i-r,x2:n-r,y2:i-r,stroke:"#333"}),(0,a.jsx)("line",{x1:r,y1:r,x2:r,y2:i-r,stroke:"#333"}),(0,a.jsx)("text",{x:n/2,y:i-10,textAnchor:"middle",fontSize:12,fill:"#333",children:"Maturity (Years)"}),(0,a.jsx)("text",{x:-i/2,y:15,transform:"rotate(-90)",textAnchor:"middle",fontSize:12,fill:"#333",children:"Yield (%)"}),(0,a.jsx)("path",{d:p,fill:"none",stroke:"#0b6efd",strokeWidth:3}),t.map(((e,t)=>(0,a.jsx)("circle",{cx:d(e.maturity),cy:u(e.yield),r:4,fill:"#0b6efd"},t)))]})}},1646:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Wn});var a=n(5043),i=(n(4265),n(8738));function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const o=()=>{};let c={},h={},d=null,u={mark:o,measure:o};try{"undefined"!==typeof window&&(c=window),"undefined"!==typeof document&&(h=document),"undefined"!==typeof MutationObserver&&(d=MutationObserver),"undefined"!==typeof performance&&(u=performance)}catch(Xn){}const{userAgent:p=""}=c.navigator||{},f=c,m=h,x=d,g=u,y=(f.document,!!m.documentElement&&!!m.head&&"function"===typeof m.addEventListener&&"function"===typeof m.createElement),b=~p.indexOf("MSIE")||~p.indexOf("Trident/");var v={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},j=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],w="classic",_="duotone",k=[w,_,"sharp","sharp-duotone"],A=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),N=["fak","fa-kit","fakd","fa-kit-duotone"],S={fak:"kit","fa-kit":"kit"},T={fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"},C=["fak","fakd"],M={kit:"fak"},E={"kit-duotone":"fakd"},P={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},R=["fak","fa-kit","fakd","fa-kit-duotone"],I={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},F=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],D=[1,2,3,4,5,6,7,8,9,10],q=D.concat([11,12,13,14,15,16,17,18,19,20]),L=[...Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",P.GROUP,P.SWAP_OPACITY,P.PRIMARY,P.SECONDARY].concat(D.map((e=>"".concat(e,"x")))).concat(q.map((e=>"w-".concat(e))));const O="___FONT_AWESOME___",B=16,z="svg-inline--fa",V="data-fa-i2svg",W="data-fa-pseudo-element",X="data-prefix",H="data-icon",U="fontawesome-i2svg",K=["HTML","HEAD","STYLE","SCRIPT"],$=(()=>{try{return!0}catch(e){return!1}})();function Y(e){return new Proxy(e,{get:(e,t)=>t in e?e[t]:e[w]})}const G=l({},v);G[w]=l(l(l(l({},{"fa-duotone":"duotone"}),v[w]),S),T);const Q=Y(G),Z=l({},{classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}});Z[w]=l(l(l(l({},{duotone:"fad"}),Z[w]),M),E);const J=Y(Z),ee=l({},I);ee[w]=l(l({},ee[w]),{fak:"fa-kit"});const te=Y(ee),ne=l({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}});ne[w]=l(l({},ne[w]),{"fa-kit":"fak"});Y(ne);const ae=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,ie="fa-layers-text",re=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,se=(Y(l({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}})),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),le={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},oe=["kit",...L],ce=f.FontAwesomeConfig||{};if(m&&"function"===typeof m.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((e=>{let[t,n]=e;const a=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=m.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t));void 0!==a&&null!==a&&(ce[n]=a)}))}const he={styleDefault:"solid",familyDefault:w,cssPrefix:"fa",replacementClass:z,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};ce.familyPrefix&&(ce.cssPrefix=ce.familyPrefix);const de=l(l({},he),ce);de.autoReplaceSvg||(de.observeMutations=!1);const ue={};Object.keys(he).forEach((e=>{Object.defineProperty(ue,e,{enumerable:!0,set:function(t){de[e]=t,pe.forEach((e=>e(ue)))},get:function(){return de[e]}})})),Object.defineProperty(ue,"familyPrefix",{enumerable:!0,set:function(e){de.cssPrefix=e,pe.forEach((e=>e(ue)))},get:function(){return de.cssPrefix}}),f.FontAwesomeConfig=ue;const pe=[];const fe=B,me={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function xe(){let e=12,t="";for(;e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function ge(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function ye(e){return e.classList?ge(e.classList):(e.getAttribute("class")||"").split(" ").filter((e=>e))}function be(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ve(e){return Object.keys(e||{}).reduce(((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";")),"")}function je(e){return e.size!==me.size||e.x!==me.x||e.y!==me.y||e.rotate!==me.rotate||e.flipX||e.flipY}function we(){const e="fa",t=z,n=ue.cssPrefix,a=ue.replacementClass;let i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}';if(n!==e||a!==t){const r=new RegExp("\\.".concat(e,"\\-"),"g"),s=new RegExp("\\--".concat(e,"\\-"),"g"),l=new RegExp("\\.".concat(t),"g");i=i.replace(r,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(l,".".concat(a))}return i}let _e=!1;function ke(){ue.autoAddCss&&!_e&&(!function(e){if(!e||!y)return;const t=m.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=m.head.childNodes;let a=null;for(let i=n.length-1;i>-1;i--){const e=n[i],t=(e.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(t)>-1&&(a=e)}m.head.insertBefore(t,a)}(we()),_e=!0)}var Ae={mixout:()=>({dom:{css:we,insertCss:ke}}),hooks:()=>({beforeDOMElementCreation(){ke()},beforeI2svg(){ke()}})};const Ne=f||{};Ne[O]||(Ne[O]={}),Ne[O].styles||(Ne[O].styles={}),Ne[O].hooks||(Ne[O].hooks={}),Ne[O].shims||(Ne[O].shims=[]);var Se=Ne[O];const Te=[],Ce=function(){m.removeEventListener("DOMContentLoaded",Ce),Me=1,Te.map((e=>e()))};let Me=!1;function Ee(e){const{tag:t,attributes:n={},children:a=[]}=e;return"string"===typeof e?be(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce(((t,n)=>t+"".concat(n,'="').concat(be(e[n]),'" ')),"").trim()}(n),">").concat(a.map(Ee).join(""),"</").concat(t,">")}function Pe(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}y&&(Me=(m.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(m.readyState),Me||m.addEventListener("DOMContentLoaded",Ce));var Re=function(e,t,n,a){var i,r,s,l=Object.keys(e),o=l.length,c=void 0!==a?function(e,t){return function(n,a,i,r){return e.call(t,n,a,i,r)}}(t,a):t;for(void 0===n?(i=1,s=e[l[0]]):(i=0,s=n);i<o;i++)s=c(s,e[r=l[i]],r,e);return s};function Ie(e){const t=function(e){const t=[];let n=0;const a=e.length;for(;n<a;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<a){const a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function Fe(e){return Object.keys(e).reduce(((t,n)=>{const a=e[n];return!!a.icon?t[a.iconName]=a.icon:t[n]=a,t}),{})}function De(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:a=!1}=n,i=Fe(t);"function"!==typeof Se.hooks.addPack||a?Se.styles[e]=l(l({},Se.styles[e]||{}),i):Se.hooks.addPack(e,Fe(t)),"fas"===e&&De("fa",t)}const{styles:qe,shims:Le}=Se,Oe=Object.keys(te),Be=Oe.reduce(((e,t)=>(e[t]=Object.keys(te[t]),e)),{});let ze=null,Ve={},We={},Xe={},He={},Ue={};function Ke(e,t){const n=t.split("-"),a=n[0],i=n.slice(1).join("-");return a!==e||""===i||(r=i,~oe.indexOf(r))?null:i;var r}const $e=()=>{const e=e=>Re(qe,((t,n,a)=>(t[a]=Re(n,e,{}),t)),{});Ve=e(((e,t,n)=>{if(t[3]&&(e[t[3]]=n),t[2]){t[2].filter((e=>"number"===typeof e)).forEach((t=>{e[t.toString(16)]=n}))}return e})),We=e(((e,t,n)=>{if(e[n]=n,t[2]){t[2].filter((e=>"string"===typeof e)).forEach((t=>{e[t]=n}))}return e})),Ue=e(((e,t,n)=>{const a=t[2];return e[n]=n,a.forEach((t=>{e[t]=n})),e}));const t="far"in qe||ue.autoFetchSvg,n=Re(Le,((e,n)=>{const a=n[0];let i=n[1];const r=n[2];return"far"!==i||t||(i="fas"),"string"===typeof a&&(e.names[a]={prefix:i,iconName:r}),"number"===typeof a&&(e.unicodes[a.toString(16)]={prefix:i,iconName:r}),e}),{names:{},unicodes:{}});Xe=n.names,He=n.unicodes,ze=et(ue.styleDefault,{family:ue.familyDefault})};var Ye;function Ge(e,t){return(Ve[e]||{})[t]}function Qe(e,t){return(Ue[e]||{})[t]}function Ze(e){return Xe[e]||{prefix:null,iconName:null}}function Je(){return ze}Ye=e=>{ze=et(e.styleDefault,{family:ue.familyDefault})},pe.push(Ye),$e();function et(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:n=w}=t,a=Q[n][e];if(n===_&&!e)return"fad";const i=J[n][e]||J[n][a],r=e in Se.styles?e:null;return i||r||null}function tt(e){return e.sort().filter(((e,t,n)=>n.indexOf(e)===t))}function nt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:n=!1}=t;let a=null;const i=F.concat(R),r=tt(e.filter((e=>i.includes(e)))),s=tt(e.filter((e=>!F.includes(e)))),o=r.filter((e=>(a=e,!j.includes(e)))),[c=null]=o,h=function(e){let t=w;const n=Oe.reduce(((e,t)=>(e[t]="".concat(ue.cssPrefix,"-").concat(t),e)),{});return k.forEach((a=>{(e.includes(n[a])||e.some((e=>Be[a].includes(e))))&&(t=a)})),t}(r),d=l(l({},function(e){let t=[],n=null;return e.forEach((e=>{const a=Ke(ue.cssPrefix,e);a?n=a:e&&t.push(e)})),{iconName:n,rest:t}}(s)),{},{prefix:et(c,{family:h})});return l(l(l({},d),function(e){const{values:t,family:n,canonical:a,givenPrefix:i="",styles:r={},config:s={}}=e,l=n===_,o=t.includes("fa-duotone")||t.includes("fad"),c="duotone"===s.familyDefault,h="fad"===a.prefix||"fa-duotone"===a.prefix;!l&&(o||c||h)&&(a.prefix="fad");(t.includes("fa-brands")||t.includes("fab"))&&(a.prefix="fab");if(!a.prefix&&at.includes(n)){if(Object.keys(r).find((e=>it.includes(e)))||s.autoFetchSvg){const e=A.get(n).defaultShortPrefixId;a.prefix=e,a.iconName=Qe(a.prefix,a.iconName)||a.iconName}}"fa"!==a.prefix&&"fa"!==i||(a.prefix=Je()||"fas");return a}({values:e,family:h,styles:qe,config:ue,canonical:d,givenPrefix:a})),function(e,t,n){let{prefix:a,iconName:i}=n;if(e||!a||!i)return{prefix:a,iconName:i};const r="fa"===t?Ze(i):{},s=Qe(a,i);i=r.iconName||s||i,a=r.prefix||a,"far"!==a||qe.far||!qe.fas||ue.autoFetchSvg||(a="fas");return{prefix:a,iconName:i}}(n,a,d))}const at=k.filter((e=>e!==w||e!==_)),it=Object.keys(I).filter((e=>e!==w)).map((e=>Object.keys(I[e]))).flat();let rt=[],st={};const lt={},ot=Object.keys(lt);function ct(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return(st[e]||[]).forEach((e=>{t=e.apply(null,[t,...a])})),t}function ht(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];(st[e]||[]).forEach((e=>{e.apply(null,n)}))}function dt(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return lt[e]?lt[e].apply(null,t):void 0}function ut(e){"fa"===e.prefix&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||Je();if(t)return t=Qe(n,t)||t,Pe(pt.definitions,n,t)||Pe(Se.styles,n,t)}const pt=new class{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const a=t.reduce(this._pullDefinitions,{});Object.keys(a).forEach((e=>{this.definitions[e]=l(l({},this.definitions[e]||{}),a[e]),De(e,a[e]);const t=te[w][e];t&&De(t,a[e]),$e()}))}reset(){this.definitions={}}_pullDefinitions(e,t){const n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((t=>{const{prefix:a,iconName:i,icon:r}=n[t],s=r[2];e[a]||(e[a]={}),s.length>0&&s.forEach((t=>{"string"===typeof t&&(e[a][t]=r)})),e[a][i]=r})),e}},ft={i2svg:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y?(ht("beforeI2svg",e),dt("pseudoElements2svg",e),dt("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;var n;!1===ue.autoReplaceSvg&&(ue.autoReplaceSvg=!0),ue.observeMutations=!0,n=()=>{gt({autoReplaceSvgRoot:t}),ht("watch",e)},y&&(Me?setTimeout(n,0):Te.push(n))}},mt={icon:e=>{if(null===e)return null;if("object"===typeof e&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Qe(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){const t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=et(e[0]);return{prefix:n,iconName:Qe(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(ue.cssPrefix,"-"))>-1||e.match(ae))){const t=nt(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||Je(),iconName:Qe(t.prefix,t.iconName)||t.iconName}}if("string"===typeof e){const t=Je();return{prefix:t,iconName:Qe(t,e)||e}}}},xt={noAuto:()=>{ue.autoReplaceSvg=!1,ue.observeMutations=!1,ht("noAuto")},config:ue,dom:ft,parse:mt,library:pt,findIconDefinition:ut,toHtml:Ee},gt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:t=m}=e;(Object.keys(Se.styles).length>0||ue.autoFetchSvg)&&y&&ue.autoReplaceSvg&&xt.dom.i2svg({node:t})};function yt(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((e=>Ee(e)))}}),Object.defineProperty(e,"node",{get:function(){if(!y)return;const t=m.createElement("div");return t.innerHTML=e.html,t.children}}),e}function bt(e){const{icons:{main:t,mask:n},prefix:a,iconName:i,transform:r,symbol:s,title:o,maskId:c,titleId:h,extra:d,watchable:u=!1}=e,{width:p,height:f}=n.found?n:t,m=C.includes(a),x=[ue.replacementClass,i?"".concat(ue.cssPrefix,"-").concat(i):""].filter((e=>-1===d.classes.indexOf(e))).filter((e=>""!==e||!!e)).concat(d.classes).join(" ");let g={children:[],attributes:l(l({},d.attributes),{},{"data-prefix":a,"data-icon":i,class:x,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(f)})};const y=m&&!~d.classes.indexOf("fa-fw")?{width:"".concat(p/f*16*.0625,"em")}:{};u&&(g.attributes[V]=""),o&&(g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-".concat(h||xe())},children:[o]}),delete g.attributes.title);const b=l(l({},g),{},{prefix:a,iconName:i,main:t,mask:n,maskId:c,transform:r,symbol:s,styles:l(l({},y),d.styles)}),{children:v,attributes:j}=n.found&&t.found?dt("generateAbstractMask",b)||{children:[],attributes:{}}:dt("generateAbstractIcon",b)||{children:[],attributes:{}};return b.children=v,b.attributes=j,s?function(e){let{prefix:t,iconName:n,children:a,attributes:i,symbol:r}=e;const s=!0===r?"".concat(t,"-").concat(ue.cssPrefix,"-").concat(n):r;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:l(l({},i),{},{id:s}),children:a}]}]}(b):function(e){let{children:t,main:n,mask:a,attributes:i,styles:r,transform:s}=e;if(je(s)&&n.found&&!a.found){const{width:e,height:t}=n,a={x:e/t/2,y:.5};i.style=ve(l(l({},r),{},{"transform-origin":"".concat(a.x+s.x/16,"em ").concat(a.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(b)}function vt(e){const{content:t,width:n,height:a,transform:i,title:r,extra:s,watchable:o=!1}=e,c=l(l(l({},s.attributes),r?{title:r}:{}),{},{class:s.classes.join(" ")});o&&(c[V]="");const h=l({},s.styles);je(i)&&(h.transform=function(e){let{transform:t,width:n=B,height:a=B,startCentered:i=!1}=e,r="";return r+=i&&b?"translate(".concat(t.x/fe-n/2,"em, ").concat(t.y/fe-a/2,"em) "):i?"translate(calc(-50% + ".concat(t.x/fe,"em), calc(-50% + ").concat(t.y/fe,"em)) "):"translate(".concat(t.x/fe,"em, ").concat(t.y/fe,"em) "),r+="scale(".concat(t.size/fe*(t.flipX?-1:1),", ").concat(t.size/fe*(t.flipY?-1:1),") "),r+="rotate(".concat(t.rotate,"deg) "),r}({transform:i,startCentered:!0,width:n,height:a}),h["-webkit-transform"]=h.transform);const d=ve(h);d.length>0&&(c.style=d);const u=[];return u.push({tag:"span",attributes:c,children:[t]}),r&&u.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),u}const{styles:jt}=Se;function wt(e){const t=e[0],n=e[1],[a]=e.slice(4);let i=null;return i=Array.isArray(a)?{tag:"g",attributes:{class:"".concat(ue.cssPrefix,"-").concat(le.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ue.cssPrefix,"-").concat(le.SECONDARY),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(ue.cssPrefix,"-").concat(le.PRIMARY),fill:"currentColor",d:a[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:a}},{found:!0,width:t,height:n,icon:i}}const _t={found:!1,width:512,height:512};function kt(e,t){let n=t;return"fa"===t&&null!==ue.styleDefault&&(t=Je()),new Promise(((a,i)=>{if("fa"===n){const n=Ze(e)||{};e=n.iconName||e,t=n.prefix||t}if(e&&t&&jt[t]&&jt[t][e]){return a(wt(jt[t][e]))}!function(e,t){$||ue.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),a(l(l({},_t),{},{icon:ue.showMissingIcons&&e&&dt("missingIconAbstract")||{}}))}))}const At=()=>{},Nt=ue.measurePerformance&&g&&g.mark&&g.measure?g:{mark:At,measure:At},St='FA "6.7.2"',Tt=e=>{Nt.mark("".concat(St," ").concat(e," ends")),Nt.measure("".concat(St," ").concat(e),"".concat(St," ").concat(e," begins"),"".concat(St," ").concat(e," ends"))};var Ct=e=>(Nt.mark("".concat(St," ").concat(e," begins")),()=>Tt(e));const Mt=()=>{};function Et(e){return"string"===typeof(e.getAttribute?e.getAttribute(V):null)}function Pt(e){return m.createElementNS("http://www.w3.org/2000/svg",e)}function Rt(e){return m.createElement(e)}function It(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:n=("svg"===e.tag?Pt:Rt)}=t;if("string"===typeof e)return m.createTextNode(e);const a=n(e.tag);Object.keys(e.attributes||[]).forEach((function(t){a.setAttribute(t,e.attributes[t])}));return(e.children||[]).forEach((function(e){a.appendChild(It(e,{ceFn:n}))})),a}const Ft={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach((e=>{t.parentNode.insertBefore(It(e),t)})),null===t.getAttribute(V)&&ue.keepOriginalSource){let e=m.createComment(function(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}(t));t.parentNode.replaceChild(e,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~ye(t).indexOf(ue.replacementClass))return Ft.replace(e);const a=new RegExp("".concat(ue.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const e=n[0].attributes.class.split(" ").reduce(((e,t)=>(t===ue.replacementClass||t.match(a)?e.toSvg.push(t):e.toNode.push(t),e)),{toNode:[],toSvg:[]});n[0].attributes.class=e.toSvg.join(" "),0===e.toNode.length?t.removeAttribute("class"):t.setAttribute("class",e.toNode.join(" "))}const i=n.map((e=>Ee(e))).join("\n");t.setAttribute(V,""),t.innerHTML=i}};function Dt(e){e()}function qt(e,t){const n="function"===typeof t?t:Mt;if(0===e.length)n();else{let t=Dt;"async"===ue.mutateApproach&&(t=f.requestAnimationFrame||Dt),t((()=>{const t=!0===ue.autoReplaceSvg?Ft.replace:Ft[ue.autoReplaceSvg]||Ft.replace,a=Ct("mutate");e.map(t),a(),n()}))}}let Lt=!1;function Ot(){Lt=!0}function Bt(){Lt=!1}let zt=null;function Vt(e){if(!x)return;if(!ue.observeMutations)return;const{treeCallback:t=Mt,nodeCallback:n=Mt,pseudoElementsCallback:a=Mt,observeMutationsRoot:i=m}=e;zt=new x((e=>{if(Lt)return;const i=Je();ge(e).forEach((e=>{if("childList"===e.type&&e.addedNodes.length>0&&!Et(e.addedNodes[0])&&(ue.searchPseudoElements&&a(e.target),t(e.target)),"attributes"===e.type&&e.target.parentNode&&ue.searchPseudoElements&&a(e.target.parentNode),"attributes"===e.type&&Et(e.target)&&~se.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){const t=e.getAttribute?e.getAttribute(X):null,n=e.getAttribute?e.getAttribute(H):null;return t&&n}(e.target)){const{prefix:t,iconName:n}=nt(ye(e.target));e.target.setAttribute(X,t||i),n&&e.target.setAttribute(H,n)}else(r=e.target)&&r.classList&&r.classList.contains&&r.classList.contains(ue.replacementClass)&&n(e.target);var r}))})),y&&zt.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Wt(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),a=void 0!==e.innerText?e.innerText.trim():"";let i=nt(ye(e));return i.prefix||(i.prefix=Je()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&a.length>0&&(i.iconName=function(e,t){return(We[e]||{})[t]}(i.prefix,e.innerText)||Ge(i.prefix,Ie(e.innerText))),!i.iconName&&ue.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function Xt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:n,prefix:a,rest:i}=Wt(e),r=function(e){const t=ge(e.attributes).reduce(((e,t)=>("class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e)),{}),n=e.getAttribute("title"),a=e.getAttribute("data-fa-title-id");return ue.autoA11y&&(n?t["aria-labelledby"]="".concat(ue.replacementClass,"-title-").concat(a||xe()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),s=ct("parseNodeAttributes",{},e);let o=t.styleParser?function(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce(((e,t)=>{const n=t.split(":"),a=n[0],i=n.slice(1);return a&&i.length>0&&(e[a]=i.join(":").trim()),e}),{})),n}(e):[];return l({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:a,transform:me,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:o,attributes:r}},s)}const{styles:Ht}=Se;function Ut(e){const t="nest"===ue.autoReplaceSvg?Xt(e,{styleParser:!1}):Xt(e);return~t.extra.classes.indexOf(ie)?dt("generateLayersText",e,t):dt("generateSvgReplacementMutation",e,t)}function Kt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!y)return Promise.resolve();const n=m.documentElement.classList,a=e=>n.add("".concat(U,"-").concat(e)),i=e=>n.remove("".concat(U,"-").concat(e)),r=ue.autoFetchSvg?[...N,...F]:j.concat(Object.keys(Ht));r.includes("fa")||r.push("fa");const s=[".".concat(ie,":not([").concat(V,"])")].concat(r.map((e=>".".concat(e,":not([").concat(V,"])")))).join(", ");if(0===s.length)return Promise.resolve();let l=[];try{l=ge(e.querySelectorAll(s))}catch(h){}if(!(l.length>0))return Promise.resolve();a("pending"),i("complete");const o=Ct("onTree"),c=l.reduce(((e,t)=>{try{const n=Ut(t);n&&e.push(n)}catch(h){$||"MissingIcon"===h.name&&console.error(h)}return e}),[]);return new Promise(((e,n)=>{Promise.all(c).then((n=>{qt(n,(()=>{a("active"),a("complete"),i("pending"),"function"===typeof t&&t(),o(),e()}))})).catch((e=>{o(),n(e)}))}))}function $t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ut(e).then((e=>{e&&qt([e],t)}))}const Yt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=me,symbol:a=!1,mask:i=null,maskId:r=null,title:s=null,titleId:o=null,classes:c=[],attributes:h={},styles:d={}}=t;if(!e)return;const{prefix:u,iconName:p,icon:f}=e;return yt(l({type:"icon"},e),(()=>(ht("beforeDOMElementCreation",{iconDefinition:e,params:t}),ue.autoA11y&&(s?h["aria-labelledby"]="".concat(ue.replacementClass,"-title-").concat(o||xe()):(h["aria-hidden"]="true",h.focusable="false")),bt({icons:{main:wt(f),mask:i?wt(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:u,iconName:p,transform:l(l({},me),n),symbol:a,title:s,maskId:r,titleId:o,extra:{attributes:h,styles:d,classes:c}}))))};var Gt={mixout(){return{icon:(e=Yt,function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=(t||{}).icon?t:ut(t||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:ut(i||{})),e(a,l(l({},n),{},{mask:i}))})};var e},hooks:()=>({mutationObserverCallbacks:e=>(e.treeCallback=Kt,e.nodeCallback=$t,e)}),provides(e){e.i2svg=function(e){const{node:t=m,callback:n=()=>{}}=e;return Kt(t,n)},e.generateSvgReplacementMutation=function(e,t){const{iconName:n,title:a,titleId:i,prefix:r,transform:s,symbol:l,mask:o,maskId:c,extra:h}=t;return new Promise(((t,d)=>{Promise.all([kt(n,r),o.iconName?kt(o.iconName,o.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((o=>{let[d,u]=o;t([e,bt({icons:{main:d,mask:u},prefix:r,iconName:n,transform:s,symbol:l,maskId:c,title:a,titleId:i,extra:h,watchable:!0})])})).catch(d)}))},e.generateAbstractIcon=function(e){let{children:t,attributes:n,main:a,transform:i,styles:r}=e;const s=ve(r);let l;return s.length>0&&(n.style=s),je(i)&&(l=dt("generateAbstractTransformGrouping",{main:a,transform:i,containerWidth:a.width,iconWidth:a.width})),t.push(l||a.icon),{children:t,attributes:n}}}},Qt={mixout:()=>({layer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:n=[]}=t;return yt({type:"layer"},(()=>{ht("beforeDOMElementCreation",{assembler:e,params:t});let a=[];return e((e=>{Array.isArray(e)?e.map((e=>{a=a.concat(e.abstract)})):a=a.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(ue.cssPrefix,"-layers"),...n].join(" ")},children:a}]}))}})},Zt={mixout:()=>({counter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:n=null,classes:a=[],attributes:i={},styles:r={}}=t;return yt({type:"counter",content:e},(()=>(ht("beforeDOMElementCreation",{content:e,params:t}),function(e){const{content:t,title:n,extra:a}=e,i=l(l(l({},a.attributes),n?{title:n}:{}),{},{class:a.classes.join(" ")}),r=ve(a.styles);r.length>0&&(i.style=r);const s=[];return s.push({tag:"span",attributes:i,children:[t]}),n&&s.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),s}({content:e.toString(),title:n,extra:{attributes:i,styles:r,classes:["".concat(ue.cssPrefix,"-layers-counter"),...a]}}))))}})},Jt={mixout:()=>({text(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:n=me,title:a=null,classes:i=[],attributes:r={},styles:s={}}=t;return yt({type:"text",content:e},(()=>(ht("beforeDOMElementCreation",{content:e,params:t}),vt({content:e,transform:l(l({},me),n),title:a,extra:{attributes:r,styles:s,classes:["".concat(ue.cssPrefix,"-layers-text"),...i]}}))))}}),provides(e){e.generateLayersText=function(e,t){const{title:n,transform:a,extra:i}=t;let r=null,s=null;if(b){const t=parseInt(getComputedStyle(e).fontSize,10),n=e.getBoundingClientRect();r=n.width/t,s=n.height/t}return ue.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,vt({content:e.innerHTML,width:r,height:s,transform:a,title:n,extra:i,watchable:!0})])}}};const en=new RegExp('"',"ug"),tn=[1105920,1112319],nn=l(l(l(l({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),an=Object.keys(nn).reduce(((e,t)=>(e[t.toLowerCase()]=nn[t],e)),{}),rn=Object.keys(an).reduce(((e,t)=>{const n=an[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e}),{});function sn(e,t){const n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(((a,i)=>{if(null!==e.getAttribute(n))return a();const r=ge(e.children).filter((e=>e.getAttribute(W)===t))[0],s=f.getComputedStyle(e,t),o=s.getPropertyValue("font-family"),c=o.match(re),h=s.getPropertyValue("font-weight"),d=s.getPropertyValue("content");if(r&&!c)return e.removeChild(r),a();if(c&&"none"!==d&&""!==d){const d=s.getPropertyValue("content");let u=function(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),a=parseInt(t),i=isNaN(a)?"normal":a;return(an[n]||{})[i]||rn[n]}(o,h);const{value:p,isSecondary:f}=function(e){const t=e.replace(en,""),n=function(e,t){const n=e.length;let a,i=e.charCodeAt(t);return i>=55296&&i<=56319&&n>t+1&&(a=e.charCodeAt(t+1),a>=56320&&a<=57343)?1024*(i-55296)+a-56320+65536:i}(t,0),a=n>=tn[0]&&n<=tn[1],i=2===t.length&&t[0]===t[1];return{value:Ie(i?t[0]:t),isSecondary:a||i}}(d),x=c[0].startsWith("FontAwesome");let g=Ge(u,p),y=g;if(x){const e=function(e){const t=He[e],n=Ge("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(p);e.iconName&&e.prefix&&(g=e.iconName,u=e.prefix)}if(!g||f||r&&r.getAttribute(X)===u&&r.getAttribute(H)===y)a();else{e.setAttribute(n,y),r&&e.removeChild(r);const s={iconName:null,title:null,titleId:null,prefix:null,transform:me,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},{extra:o}=s;o.attributes[W]=t,kt(g,u).then((i=>{const r=bt(l(l({},s),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:u,iconName:y,extra:o,watchable:!0})),c=m.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(c,e.firstChild):e.appendChild(c),c.outerHTML=r.map((e=>Ee(e))).join("\n"),e.removeAttribute(n),a()})).catch(i)}}else a()}))}function ln(e){return Promise.all([sn(e,"::before"),sn(e,"::after")])}function on(e){return e.parentNode!==document.head&&!~K.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(W)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function cn(e){if(y)return new Promise(((t,n)=>{const a=ge(e.querySelectorAll("*")).filter(on).map(ln),i=Ct("searchPseudoElements");Ot(),Promise.all(a).then((()=>{i(),Bt(),t()})).catch((()=>{i(),Bt(),n()}))}))}var hn={hooks:()=>({mutationObserverCallbacks:e=>(e.pseudoElementsCallback=cn,e)}),provides(e){e.pseudoElements2svg=function(e){const{node:t=m}=e;ue.searchPseudoElements&&cn(t)}}};let dn=!1;var un={mixout:()=>({dom:{unwatch(){Ot(),dn=!0}}}),hooks:()=>({bootstrap(){Vt(ct("mutationObserverCallbacks",{}))},noAuto(){zt&&zt.disconnect()},watch(e){const{observeMutationsRoot:t}=e;dn?Bt():Vt(ct("mutationObserverCallbacks",{observeMutationsRoot:t}))}})};const pn=e=>e.toLowerCase().split(" ").reduce(((e,t)=>{const n=t.toLowerCase().split("-"),a=n[0];let i=n.slice(1).join("-");if(a&&"h"===i)return e.flipX=!0,e;if(a&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(a){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0});var fn={mixout:()=>({parse:{transform:e=>pn(e)}}),hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=pn(n)),e}}),provides(e){e.generateAbstractTransformGrouping=function(e){let{main:t,transform:n,containerWidth:a,iconWidth:i}=e;const r={transform:"translate(".concat(a/2," 256)")},s="translate(".concat(32*n.x,", ").concat(32*n.y,") "),o="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),c="rotate(".concat(n.rotate," 0 0)"),h={outer:r,inner:{transform:"".concat(s," ").concat(o," ").concat(c)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:l({},h.outer),children:[{tag:"g",attributes:l({},h.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:l(l({},t.icon.attributes),h.path)}]}]}}}};const mn={x:0,y:0,width:"100%",height:"100%"};function xn(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var gn={hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),a=n?nt(n.split(" ").map((e=>e.trim()))):{prefix:null,iconName:null,rest:[]};return a.prefix||(a.prefix=Je()),e.mask=a,e.maskId=t.getAttribute("data-fa-mask-id"),e}}),provides(e){e.generateAbstractMask=function(e){let{children:t,attributes:n,main:a,mask:i,maskId:r,transform:s}=e;const{width:o,icon:c}=a,{width:h,icon:d}=i,u=function(e){let{transform:t,containerWidth:n,iconWidth:a}=e;const i={transform:"translate(".concat(n/2," 256)")},r="translate(".concat(32*t.x,", ").concat(32*t.y,") "),s="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),l="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(r," ").concat(s," ").concat(l)},path:{transform:"translate(".concat(a/2*-1," -256)")}}}({transform:s,containerWidth:h,iconWidth:o}),p={tag:"rect",attributes:l(l({},mn),{},{fill:"white"})},f=c.children?{children:c.children.map(xn)}:{},m={tag:"g",attributes:l({},u.inner),children:[xn(l({tag:c.tag,attributes:l(l({},c.attributes),u.path)},f))]},x={tag:"g",attributes:l({},u.outer),children:[m]},g="mask-".concat(r||xe()),y="clip-".concat(r||xe()),b={tag:"mask",attributes:l(l({},mn),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,x]},v={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(j=d,"g"===j.tag?j.children:[j])},b]};var j;return t.push(v,{tag:"rect",attributes:l({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},mn)}),{children:t,attributes:n}}}},yn={provides(e){let t=!1;f.matchMedia&&(t=f.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const e=[],n={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:l(l({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const i=l(l({},a),{},{attributeName:"opacity"}),r={tag:"circle",attributes:l(l({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||r.children.push({tag:"animate",attributes:l(l({},a),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:l(l({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(r),e.push({tag:"path",attributes:l(l({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:l(l({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:l(l({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:l(l({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){let{mixoutsTo:n}=t;rt=e,st={},Object.keys(lt).forEach((e=>{-1===ot.indexOf(e)&&delete lt[e]})),rt.forEach((e=>{const t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((e=>{"function"===typeof t[e]&&(n[e]=t[e]),"object"===typeof t[e]&&Object.keys(t[e]).forEach((a=>{n[e]||(n[e]={}),n[e][a]=t[e][a]}))})),e.hooks){const t=e.hooks();Object.keys(t).forEach((e=>{st[e]||(st[e]=[]),st[e].push(t[e])}))}e.provides&&e.provides(lt)}))}([Ae,Gt,Qt,Zt,Jt,hn,un,fn,gn,yn,{hooks:()=>({parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),a=null!==n&&(""===n||n);return e.symbol=a,e}})}],{mixoutsTo:xt});const bn=xt.parse,vn=xt.icon;var jn=n(5173),wn=n.n(jn);function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){Nn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function An(e){return An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An(e)}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sn(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tn(e){return function(e){if(Array.isArray(e))return Cn(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Mn(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var En=["style"];var Pn=!1;try{Pn=!0}catch(Xn){}function Rn(e){return e&&"object"===An(e)&&e.prefix&&e.iconName&&e.icon?e:bn.icon?bn.icon(e):null===e?null:e&&"object"===An(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function In(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Nn({},e,t):{}}var Fn={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Dn=a.forwardRef((function(e,t){var n=kn(kn({},Fn),e),a=n.icon,i=n.mask,r=n.symbol,s=n.className,l=n.title,o=n.titleId,c=n.maskId,h=Rn(a),d=In("classes",[].concat(Tn(function(e){var t,n=e.beat,a=e.fade,i=e.beatFade,r=e.bounce,s=e.shake,l=e.flash,o=e.spin,c=e.spinPulse,h=e.spinReverse,d=e.pulse,u=e.fixedWidth,p=e.inverse,f=e.border,m=e.listItem,x=e.flip,g=e.size,y=e.rotation,b=e.pull,v=(Nn(t={"fa-beat":n,"fa-fade":a,"fa-beat-fade":i,"fa-bounce":r,"fa-shake":s,"fa-flash":l,"fa-spin":o,"fa-spin-reverse":h,"fa-spin-pulse":c,"fa-pulse":d,"fa-fw":u,"fa-inverse":p,"fa-border":f,"fa-li":m,"fa-flip":!0===x,"fa-flip-horizontal":"horizontal"===x||"both"===x,"fa-flip-vertical":"vertical"===x||"both"===x},"fa-".concat(g),"undefined"!==typeof g&&null!==g),Nn(t,"fa-rotate-".concat(y),"undefined"!==typeof y&&null!==y&&0!==y),Nn(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),Nn(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(v).map((function(e){return v[e]?e:null})).filter((function(e){return e}))}(n)),Tn((s||"").split(" ")))),u=In("transform","string"===typeof n.transform?bn.transform(n.transform):n.transform),p=In("mask",Rn(i)),f=vn(h,kn(kn(kn(kn({},d),u),p),{},{symbol:r,title:l,titleId:o,maskId:c}));if(!f)return function(){var e;!Pn&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",h),null;var m=f.abstract,x={ref:t};return Object.keys(n).forEach((function(e){Fn.hasOwnProperty(e)||(x[e]=n[e])})),qn(m[0],x)}));Dn.displayName="FontAwesomeIcon",Dn.propTypes={beat:wn().bool,border:wn().bool,beatFade:wn().bool,bounce:wn().bool,className:wn().string,fade:wn().bool,flash:wn().bool,mask:wn().oneOfType([wn().object,wn().array,wn().string]),maskId:wn().string,fixedWidth:wn().bool,inverse:wn().bool,flip:wn().oneOf([!0,!1,"horizontal","vertical","both"]),icon:wn().oneOfType([wn().object,wn().array,wn().string]),listItem:wn().bool,pull:wn().oneOf(["right","left"]),pulse:wn().bool,rotation:wn().oneOf([0,90,180,270]),shake:wn().bool,size:wn().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:wn().bool,spinPulse:wn().bool,spinReverse:wn().bool,symbol:wn().oneOfType([wn().bool,wn().string]),title:wn().string,titleId:wn().string,transform:wn().oneOfType([wn().string,wn().object]),swapOpacity:wn().bool};var qn=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),r=Object.keys(n.attributes||{}).reduce((function(e,t){var a=n.attributes[t];switch(t){case"class":e.attrs.className=a,delete n.attributes.class;break;case"style":e.attrs.style=a.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,a=t.indexOf(":"),i=Mn(t.slice(0,a)),r=t.slice(a+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=r:e[i]=r,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=a:e.attrs[Mn(t)]=a}return e}),{attrs:{}}),s=a.style,l=void 0===s?{}:s,o=Sn(a,En);return r.attrs.style=kn(kn({},r.attrs.style),l),t.apply(void 0,[n.tag,kn(kn({},r.attrs),o)].concat(Tn(i)))}.bind(null,a.createElement);const Ln={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]};const On={prefix:"fab",iconName:"google-scholar",icon:[512,512,[],"e63b","M390.9 298.5c0 0 0 .1 .1 .1c9.2 19.4 14.4 41.1 14.4 64C405.3 445.1 338.5 512 256 512s-149.3-66.9-149.3-149.3c0-22.9 5.2-44.6 14.4-64h0c1.7-3.6 3.6-7.2 5.6-10.7c4.4-7.6 9.4-14.7 15-21.3c27.4-32.6 68.5-53.3 114.4-53.3c33.6 0 64.6 11.1 89.6 29.9c9.1 6.9 17.4 14.7 24.8 23.5c5.6 6.6 10.6 13.8 15 21.3c2 3.4 3.8 7 5.5 10.5zm26.4-18.8c-30.1-58.4-91-98.4-161.3-98.4s-131.2 40-161.3 98.4L0 202.7 256 0 512 202.7l-94.7 77.1z"]},Bn={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"]};var zn=n(579);const Vn=()=>(0,zn.jsxs)("div",{className:"contact-icons",children:[(0,zn.jsx)("a",{href:"mailto:adam.callister@yale.edu","aria-label":"Email",children:(0,zn.jsx)(Dn,{icon:Ln})}),(0,zn.jsx)("a",{href:"https://www.linkedin.com/in/adamhenrycallister/",target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",children:(0,zn.jsx)(Dn,{icon:Bn})}),(0,zn.jsx)("a",{href:"https://scholar.google.com/citations?user=uUr-yUgAAAAJ&hl=en",target:"_blank",rel:"noopener noreferrer","aria-label":"Google Scholar",children:(0,zn.jsx)(Dn,{icon:On})}),(0,zn.jsx)("a",{href:"https://papers.ssrn.com/sol3/cf_dev/AbsByAuth.cfm?per_id=6987965",target:"_blank",rel:"noopener noreferrer","aria-label":"SSRN",children:(0,zn.jsx)("img",{src:"/ssrn.svg",alt:"SSRN"})})]});const Wn=function(){return(0,zn.jsxs)("main",{children:[(0,zn.jsx)(i.S7,{children:(0,zn.jsx)("div",{className:"homeCenter",children:(0,zn.jsxs)("div",{className:"container",children:[(0,zn.jsx)("div",{className:"oval"}),(0,zn.jsxs)("div",{className:"wordContainer",children:[(0,zn.jsx)("p",{className:"Name",children:"ADAM CALLISTER"}),(0,zn.jsxs)("p",{className:"intro",children:["I am a JD-PhD candidate in financial economics at Yale. I am currently on the academic law teaching market. You can read my job market paper ",(0,zn.jsx)("a",{className:"paper-link",href:"https://papers.ssrn.com/sol3/papers.cfm?abstract_id=5375703",target:"_blank",children:"here"}),"."]}),(0,zn.jsx)("p",{className:"intro1",children:"I study how legal rules function in complex institutional environments where their effects depend on market structure, litigation dynamics, and stakeholder incentives. Using tools from economics\u2014including formal modeling, causal inference, and natural language processing\u2014I analyze how regulation interacts with preexisting systems in sometimes unexpected ways. Much of my work uses securities fraud class actions as an empirical setting, but my approach extends to broader questions in administrative law, corporate governance, and professional responsibility."}),(0,zn.jsx)("div",{className:"intro1",children:(0,zn.jsx)(Vn,{})})]})]})})}),(0,zn.jsx)(i.IM,{children:(0,zn.jsxs)("div",{className:"homeCenterMobile",children:[(0,zn.jsx)("div",{className:"picBoxMobile"}),(0,zn.jsx)("p",{className:"NameMobile",children:"ADAM CALLISTER"}),(0,zn.jsxs)("p",{className:"introMobile",children:["I am a JD-PhD candidate in financial economics at Yale. I am currently on the academic law teaching market. You can read my job market paper ",(0,zn.jsx)("a",{className:"paper-link",href:"https://papers.ssrn.com/sol3/papers.cfm?abstract_id=5375703",target:"_blank",children:"here"}),"."]}),(0,zn.jsx)("p",{className:"introMobile",children:"I study how legal rules function in complex institutional environments where their effects depend on market structure, litigation dynamics, and stakeholder incentives. Using tools from economics\u2014including formal modeling, causal inference, and natural language processing\u2014I analyze how regulation interacts with preexisting systems in sometimes unexpected ways. Much of my work uses securities fraud class actions as an empirical setting, but my approach extends to broader questions in administrative law, corporate governance, and professional responsibility."}),(0,zn.jsx)("div",{className:"introMobile",children:(0,zn.jsx)(Vn,{})})]})})]})}},5504:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(5043),i=(n(1644),n(2638),n(4907)),r=n(415),s=n(9879),l=n(4447),o=n(9727),c=n(7781),h=n(579);const d=function(){const[e,t]=(0,a.useState)("count"),[n,d]=(0,a.useState)(2024);return(0,h.jsxs)("div",{className:"Corp",children:[(0,h.jsx)("p",{className:"heading1",children:"Incorporating in Delaware"}),(0,h.jsx)("p",{children:"The map below shows how many public companies were incorporated in each state in 2024. Hover over a state to see exact counts. Note that Delaware has over 60% of all public companies incorporated in the U.S."}),(0,h.jsx)("p",{children:"Another way to consider this data is to look at the size of the companies incorporated in each state rather than the number of companies. Use the button below to switch the graph to the total share of the U.S. public market covered by companies incorporated in each state. Delaware is even more dominant under this metric, covering over 67% of the total U.S. public market capitalization."}),(0,h.jsx)("p",{children:"Because Delaware is so dominant, both color scales in the graph are based on log instead of level values. Without this scaling, it is not possible to see any meaningful variation in the other states."}),(0,h.jsxs)("div",{children:[(0,h.jsx)(s.default,{data:i,dataField:e,year:n}),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",flexDirection:"row",gap:"10%",paddingBottom:"15px"},children:[(0,h.jsx)(l.default,{onToggle:t}),(0,h.jsx)(o.default,{year:n,setYear:d})]})]}),(0,h.jsx)("p",{children:"Time trends back to 1990 show that Delaware has long been the dominant state for corporate law. The graph below plots over time the number of U.S. public companies incorporated in (i) Delaware, (ii) the same state as the company's headquarters, and (iii) a state other than Delaware or the company's headquarter state."}),(0,h.jsx)("div",{className:"graph-container",children:(0,h.jsx)(c.default,{data:r})}),(0,h.jsx)("p",{children:"Data for these figures includes all companies in the Compustat database with a valid CIK and CUSIP."})]})}},9879:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(5043),i=n(6980);function r(e){return e}function s(e,t){var n=t.id,a=t.bbox,i=null==t.properties?{}:t.properties,s=function(e,t){var n=function(e){if(null==e)return r;var t,n,a=e.scale[0],i=e.scale[1],s=e.translate[0],l=e.translate[1];return function(e,r){r||(t=n=0);var o=2,c=e.length,h=new Array(c);for(h[0]=(t+=e[0])*a+s,h[1]=(n+=e[1])*i+l;o<c;)h[o]=e[o],++o;return h}}(e.transform),a=e.arcs;function i(e,t){t.length&&t.pop();for(var i=a[e<0?~e:e],r=0,s=i.length;r<s;++r)t.push(n(i[r],r));e<0&&function(e,t){for(var n,a=e.length,i=a-t;i<--a;)n=e[i],e[i++]=e[a],e[a]=n}(t,s)}function s(e){return n(e)}function l(e){for(var t=[],n=0,a=e.length;n<a;++n)i(e[n],t);return t.length<2&&t.push(t[0]),t}function o(e){for(var t=l(e);t.length<4;)t.push(t[0]);return t}function c(e){return e.map(o)}function h(e){var t,n=e.type;switch(n){case"GeometryCollection":return{type:n,geometries:e.geometries.map(h)};case"Point":t=s(e.coordinates);break;case"MultiPoint":t=e.coordinates.map(s);break;case"LineString":t=l(e.arcs);break;case"MultiLineString":t=e.arcs.map(l);break;case"Polygon":t=c(e.arcs);break;case"MultiPolygon":t=e.arcs.map(c);break;default:return null}return{type:n,coordinates:t}}return h(t)}(e,t);return null==n&&null==a?{type:"Feature",properties:i,geometry:s}:null==a?{type:"Feature",id:n,properties:i,geometry:s}:{type:"Feature",id:n,bbox:a,properties:i,geometry:s}}var l=n(579);const o={"01":"AL","02":"AK","04":"AZ","05":"AR","06":"CA","08":"CO","09":"CT",10:"DE",11:"DC",12:"FL",13:"GA",15:"HI",16:"ID",17:"IL",18:"IN",19:"IA",20:"KS",21:"KY",22:"LA",23:"ME",24:"MD",25:"MA",26:"MI",27:"MN",28:"MS",29:"MO",30:"MT",31:"NE",32:"NV",33:"NH",34:"NJ",35:"NM",36:"NY",37:"NC",38:"ND",39:"OH",40:"OK",41:"OR",42:"PA",44:"RI",45:"SC",46:"SD",47:"TN",48:"TX",49:"UT",50:"VT",51:"VA",53:"WA",54:"WV",55:"WI",56:"WY"};function c(e){let{data:t,dataField:n,year:r}=e;const c=(0,a.useRef)(null),h=(0,a.useRef)(null);return(0,a.useEffect)((()=>{const e=t["".concat(r)];if(!e)return;const a=i.Ltv(c.current).attr("viewBox",[0,0,960,600]).style("font","10px sans-serif");a.selectAll("*").remove();const l=i.Ltv("body").append("div").attr("class","tooltip").style("position","absolute").style("padding","6px").style("background","#fff").style("border","1px solid #999").style("border-radius","4px").style("pointer-events","none").style("display","none"),d=Object.values(e).map((e=>null===e||void 0===e?void 0:e[n]));console.log(d);const u=i.T9B(d),p="count"===n?i.M3p([1,u],i.TEm):i.M3p([1e-4,u],i.dM);return i.Pq9("https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json").then((t=>{const r=(c=t,h=t.objects.states,"string"===typeof h&&(h=c.objects[h]),"GeometryCollection"===h.type?{type:"FeatureCollection",features:h.geometries.map((function(e){return s(c,e)}))}:s(c,h)).features;var c,h;const d=i.UtK().translate([480,300]).scale(1e3),u=i.zFW().projection(d);a.append("g").selectAll("path").data(r).join("path").attr("d",u).attr("fill",(t=>{const a=o[String(t.id).padStart(2,"0")],i=e[a]?"count"===n?e[a].count:e[a].mkt_cap:null;return null!=i?p(i):"#eee"})).attr("stroke","#fff").on("mouseover",((t,a)=>{const i=o[String(a.id).padStart(2,"0")],r=e[i];if(!r)return;const s="count"===n?"<strong>".concat(i,"</strong><br/>Companies: ").concat(r.count.toLocaleString()," (").concat(r.percent,"%)"):"<strong>".concat(i,"</strong><br/>Mkt Cap Share: ").concat(r.mkt_cap,"%");l.html(s).style("left","".concat(t.pageX+10,"px")).style("top","".concat(t.pageY-28,"px")).style("display","inline-block")})).on("mousemove",(e=>{l.style("left","".concat(e.pageX+10,"px")).style("top","".concat(e.pageY-28,"px"))})).on("mouseout",(()=>l.style("display","none")))})),()=>{h.current&&l.remove()}}),[t,n,r]),(0,l.jsx)("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:(0,l.jsx)("svg",{ref:c,width:"100%",height:"100%"})})}},7781:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(5043),i=n(6980),r=n(579);function s(e){let{data:t}=e;const n=(0,a.useRef)();return(0,a.useEffect)((()=>{if(!t||0===t.length)return;const e=20,a=30,r=45,s=55,l=800-s-a,o=400-e-r,c=i.Ltv(n.current).html("").attr("width",l+s+a).attr("height",o+e+r),h=c.append("g").attr("transform","translate(".concat(s,",").concat(e,")")),d=t.map((e=>e.year)),u=Object.keys(t[0]).filter((e=>"year"!==e)),p=i.m4Y().domain(i.Xxv(d)).range([0,l]),f=i.m4Y().domain([0,i.T9B(t,(e=>i.T9B(u,(t=>e[t]))))]).nice().range([o,0]),m=i.UMr().domain(u).range(i.t55);h.append("g").attr("transform","translate(0,".concat(o,")")).call(i.l78(p).tickFormat(i.GPZ("d"))),h.append("g").call(i.V4s(f));const x=i.n8j().x((e=>p(e.year))).y(((e,t,n)=>f(e.value)));u.forEach((e=>{const n=t.map((t=>({year:t.year,value:t[e]})));h.append("path").datum(n).attr("fill","none").attr("stroke",m(e)).attr("stroke-width",2).attr("d",x),h.selectAll(".dot-".concat(e)).data(n).enter().append("circle").attr("cx",(e=>p(e.year))).attr("cy",(e=>f(e.value))).attr("r",4).attr("fill",m(e)).on("mouseover",(function(t,n){i.Ltv(this).transition().duration(100).attr("r",7).attr("stroke","#000").attr("stroke-width",2),g.style("opacity",1).html("<strong>".concat(e,"</strong><br>Year: ").concat(n.year,"<br>Count: ").concat(n.value)).style("left","".concat(t.pageX+10,"px")).style("top","".concat(t.pageY-28,"px"))})).on("mouseout",(function(){i.Ltv(this).transition().duration(100).attr("r",4).attr("stroke","none"),g.style("opacity",0)}))}));const g=i.Ltv("body").append("div").attr("class","tooltip-line").style("position","absolute").style("text-align","left").style("padding","6px").style("font","12px sans-serif").style("background","rgba(0,0,0,0.7)").style("color","#fff").style("border-radius","4px").style("pointer-events","none").style("opacity",0);c.append("text").attr("x",-o/2).attr("y",12).text("Number of Companies").style("font-size","15px").style("text-anchor","middle").attr("transform","rotate(-90)"),c.append("text").attr("x",l/2).attr("y",o+55).text("Year").style("font-size","15px").attr("alignment-baseline","middle"),c.append("line").style("stroke",m("DE")).attr("stroke-width",2).attr("x1",600).attr("y1",40).attr("x2",615).attr("y2",40),c.append("line").style("stroke",m("HQ")).attr("stroke-width",2).attr("x1",600).attr("y1",60).attr("x2",615).attr("y2",60),c.append("line").style("stroke",m("other")).attr("stroke-width",2).attr("x1",600).attr("y1",80).attr("x2",615).attr("y2",80),c.append("text").attr("x",620).attr("y",40).text("Delaware").style("font-size","15px").attr("alignment-baseline","middle"),c.append("text").attr("x",620).attr("y",60).text("Headquarter State").style("font-size","15px").attr("alignment-baseline","middle"),c.append("text").attr("x",620).attr("y",80).text("Other State").style("font-size","15px").attr("alignment-baseline","middle"),c.append("text").attr("x",500).attr("y",20).text("Number of Companies Incorporated in:").style("font-size","15px").attr("alignment-baseline","middle")}),[t]),(0,r.jsx)("svg",{ref:n})}},4447:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(5043),i=(n(1644),n(579));function r(e){let{onToggle:t}=e;const[n,r]=(0,a.useState)(!1);return(0,i.jsxs)("div",{className:"toggle-container",children:[(0,i.jsx)("span",{className:n?"label":"label active",children:"Count"}),(0,i.jsxs)("label",{className:"switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:n,onChange:()=>{const e=!n;r(e),t(e?"mkt_cap":"count")}}),(0,i.jsx)("span",{className:"slider"})]}),(0,i.jsx)("span",{className:n?"label active":"label",children:"Market Cap %"})]})}},9727:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});n(5043);var a=n(579);function i(e){let{year:t,setYear:n}=e;const i=Array.from({length:27},((e,t)=>1998+t));return(0,a.jsxs)("label",{className:"label1",children:["Year:"," ",(0,a.jsx)("select",{value:t,onChange:e=>n(Number(e.target.value)),children:i.map((e=>(0,a.jsx)("option",{value:e,children:e},e)))})]})}},7018:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});n(5043),n(8841);var a=n(5475),i=n(2638),r=n(579);const s=function(){return(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)(i.A,{group:"MA"}),(0,r.jsx)("p",{className:"heading1",children:"Mergers & Acquisitions"}),(0,r.jsx)("div",{style:{display:"flex",paddingLeft:"10vw"},children:(0,r.jsx)("ul",{className:"toc-list",children:(0,r.jsx)("div",{className:"content-group",children:(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"MA-link",to:"/ma/del_incorp",children:"Delaware Incorporation"})})})})}),(0,r.jsx)(i.A,{group:"MA"})]})}},313:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(5043),i=n(6980),r=n(579);const s=()=>{const e=(0,a.useRef)(null);return(0,a.useEffect)((()=>{if(e.current){const t=600,n=600,a=50,r=1,s=i.Ltv(e.current).attr("width",t).attr("height",n),l=i.m4Y().domain([-10,10]).range([a,t-a]),o=i.m4Y().domain([-10,10]).range([n-a,a]);s.append("defs").append("marker").attr("id","arrow").attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto-start-reverse").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("fill","black"),s.append("line").attr("x1",l(-10)).attr("x2",l(10)).attr("y1",o(0)).attr("y2",o(0)).attr("stroke","black").attr("stroke-width",2).attr("marker-end","url(#arrow)").attr("marker-start","url(#arrow)"),s.append("line").attr("x1",l(0)).attr("x2",l(0)).attr("y1",o(-10)).attr("y2",o(10)).attr("stroke","black").attr("stroke-width",2).attr("marker-end","url(#arrow)").attr("marker-start","url(#arrow)"),s.selectAll(".x-tick").data(i.y17(-9,10,r)).enter().append("g").each((function(e){i.Ltv(this).append("line").attr("x1",l(e)).attr("x2",l(e)).attr("y1",o(0)-5).attr("y2",o(0)+5).attr("stroke","black"),0!==e&&i.Ltv(this).append("text").attr("x",l(e)).attr("y",o(0)+15).attr("text-anchor","middle").attr("font-size","12px").text(e)})),s.selectAll(".y-tick").data(i.y17(-9,10,r)).enter().append("g").each((function(e){i.Ltv(this).append("line").attr("x1",l(0)-5).attr("x2",l(0)+5).attr("y1",o(e)).attr("y2",o(e)).attr("stroke","black"),0!==e&&i.Ltv(this).append("text").attr("x",l(0)-15).attr("y",o(e)+5).attr("text-anchor","end").attr("font-size","12px").text("".concat(e,"i"))})),s.append("text").attr("x",t-a).attr("y",o(0)+30).attr("text-anchor","end").attr("font-size","14px").attr("font-weight","bold").text("Real"),s.append("text").attr("x",l(0)+25).attr("y",a-10).attr("text-anchor","end").attr("font-size","14px").attr("font-weight","bold").text("Imaginary");const c=s.append("circle").attr("r",5).attr("fill","red").style("display","none"),h=s.append("text").attr("font-size","14px").attr("fill","black").style("display","none");s.on("mousemove",(e=>{const[t,n]=i.WnM(e);let a,r,s,d=Math.round(l.invert(t)),u=Math.round(o.invert(n));d=Math.max(-10,Math.min(10,d)),u=Math.max(-10,Math.min(10,u)),a=0===d?0!==u?"".concat(u,"i"):"":0===u?"".concat(d):"".concat(d," ").concat(u>0?"+":"-"," ").concat(Math.abs(u),"i"),r=u<0?20:-10,s=d<0?-20:5,c.attr("cx",l(d)).attr("cy",o(u)).style("display","block"),h.attr("x",l(d)+s).attr("y",o(u)+r).text(a).style("display","block")})),s.on("mouseleave",(()=>{c.style("display","none"),h.style("display","none")}))}}),[]),(0,r.jsx)("svg",{ref:e})}},1657:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(6980),i=n(5043),r=n(579);const s=function(e){let{terms:t}=e;const n=(0,i.useRef)(),[s,l]=(0,i.useState)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:39,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.01;const i=[arguments.length>1&&void 0!==arguments[1]?arguments[1]:1];for(let r=1;r<e;r++){const e=Math.sqrt(a)*(2*Math.random()-1),s=i[r-1]*Math.exp((t-.5*n**2)*a+n*e);i.push(s)}return i}());return(0,i.useEffect)((()=>{const e=40,i=function(e,t){const n=e.length,a=Array(n).fill(0);if(n%2===0)for(let i=0;i<n;i++){let r=0;for(let a=0;a<n;a++){let s=1;for(let e=1;e<=Math.min(t-1,n/2-1);e++)s+=2*Math.cos(2*Math.PI*e*(i-a)/n);t>n/2-1&&(s+=(-1)**(i-a)),r+=e[a]*s}a[i]=r/n}else for(let i=0;i<n;i++){let r=0;for(let a=0;a<n;a++){let s=1;for(let e=1;e<t;e++)s+=2*Math.cos(2*Math.PI*e*(i-a)/n);r+=e[a]*s}a[i]=r/n}return a}(s,t),r=a.m4Y().domain([0,s.length-1]).range([e,560]),l=a.m4Y().domain([a.jkA(s),a.T9B(s)]).range([310,e]),o=a.Ltv(n.current).attr("width",600).attr("height",350).style("overflow","visible");o.selectAll("*").remove();const c=a.n8j().x(((e,t)=>r(t))).y((e=>l(e))),h=a.l78(r).ticks(39).tickFormat(""),d=a.V4s(l).ticks(10).tickFormat("");o.append("g").attr("transform","translate(0, ".concat(310,")")).call(h),o.append("g").attr("transform","translate(".concat(e,", 0)")).call(d),o.append("path").datum(s).attr("fill","none").attr("stroke","red").attr("stroke-width",2).attr("stroke-dasharray","5,5").attr("d",c),o.append("path").datum(i).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",2).attr("d",c),o.append("line").style("stroke","red").attr("stroke-width",2).attr("stroke-dasharray","5,5").attr("x1",150).attr("y1",0).attr("x2",165).attr("y2",0),o.append("line").style("stroke","steelblue").attr("stroke-width",2).attr("x1",150).attr("y1",20).attr("x2",165).attr("y2",20),o.append("text").attr("x",170).attr("y",0).text("Data").style("font-size","15px").attr("alignment-baseline","middle"),o.append("text").attr("x",170).attr("y",20).text("Approximation").style("font-size","15px").attr("alignment-baseline","middle")}),[s,t]),(0,r.jsx)("svg",{ref:n})}},3339:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});n(5043),n(7724);var a=n(5475),i=n(2638),r=n(579);const s=function(){return(0,r.jsxs)("div",{className:"Fourier",children:[(0,r.jsx)(i.A,{group:"Fourier"}),(0,r.jsx)("p",{className:"heading1",children:"Fourier Transform"}),(0,r.jsx)("div",{style:{display:"flex",paddingLeft:"10vw"},children:(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Fourier-link",to:"/fourier/complex_numbers",children:"Complex Numbers"})}),(0,r.jsx)("ul",{className:"toc-list",children:(0,r.jsx)("li",{className:"Fourier-content",children:"Euler's Identity"})})]}),(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Fourier-link",to:"/fourier/series",children:"Fourier Series"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"Fourier-content",children:"Definition"}),(0,r.jsx)("li",{className:"Fourier-content",children:"Box Function"}),(0,r.jsx)("li",{className:"Fourier-content",children:"Examples"})]})]}),(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Fourier-link",to:"/fourier/transform",children:"Fourier Transform"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"Fourier-content",children:"Definition"}),(0,r.jsx)("li",{className:"Fourier-content",children:"Gaussian Function"}),(0,r.jsx)("li",{className:"Fourier-content",children:"Convolution"})]})]}),(0,r.jsx)("div",{className:"content-group",children:(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Fourier-link",to:"/fourier/heat_equation",children:"Heat Equation"})})}),(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Fourier-link",to:"/fourier/discrete",children:"Discrete Fourier Transform"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"Fourier-content",children:"Definition"}),(0,r.jsx)("li",{className:"Fourier-content",children:"Approximation"}),(0,r.jsx)("li",{className:"Fourier-content",children:"Numerical Example"}),(0,r.jsx)("li",{className:"Fourier-content",children:"Graph"})]})]})]})}),(0,r.jsx)(i.A,{group:"Fourier"})]})}},9044:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});n(5043),n(7724);var a=n(4257),i=n(7971),r=n(2638),s=n(313),l=n(579);const o=function(){return(0,l.jsxs)("div",{className:"Fourier",children:[(0,l.jsx)(r.A,{group:"Fourier"}),(0,l.jsx)("p",{className:"heading1",children:"Complex Numbers"}),(0,l.jsxs)(a.A,{children:[(0,l.jsxs)("p",{children:["Before we jump into Fourier series and Fourier transforms, let's review some basics about complex numbers. The set of complex numbers includes all numbers that can be written in the form ",(0,l.jsx)(i.A,{inline:!0,children:"\\( a + bi \\)"}),", where ",(0,l.jsx)(i.A,{inline:!0,children:"\\( a \\)"})," and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( b \\)"})," are both real numbers and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( i = \\sqrt{-1} \\)"}),". We call ",(0,l.jsx)(i.A,{inline:!0,children:"\\( a \\)"}),' the "real" part of the number and ',(0,l.jsx)(i.A,{inline:!0,children:"\\( b \\)"}),' the "imaginary" part of the number. A number is a pure real number if ',(0,l.jsx)(i.A,{inline:!0,children:"\\( b = 0 \\)"})," and a pure imaginary number if ",(0,l.jsx)(i.A,{inline:!0,children:"\\( a = 0 \\)"}),". If we think of the pure real numbers along an infinitely long line from ",(0,l.jsx)(i.A,{inline:!0,children:"\\( -\\infty \\)"})," to ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\infty \\)"}),", the set of complex numbers extends this line into a plane by adding another axis. In this way, we can think about each complex number as a ",(0,l.jsx)(i.A,{inline:!0,children:"\\( (a,b) \\)"})," coordinate pair on a graph, where the x-coordinate, ",(0,l.jsx)(i.A,{inline:!0,children:"\\( a \\)"}),", moves horizontally along the real axis and the y-coordinate, ",(0,l.jsx)(i.A,{inline:!0,children:"\\( b \\)"}),", moves vertically along the imaginary axis."]}),(0,l.jsx)("div",{className:"graph-container",children:(0,l.jsx)(s.default,{})}),(0,l.jsxs)("p",{children:["Note that we can add and subtract with complex numbers by simply keeping track of the real and the imaginary components. For any two complex numbers ",(0,l.jsx)(i.A,{inline:!0,children:"\\( a + bi \\)"})," and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( c + di \\)"}),", we have",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            (a + bi) + (c + di) = (a + c) + (b + d)i \\\\\n            (a + bi) - (c + di) = (a - c) + (b - d)i \\\\\n            \\end{aligned}\n          \\]"}),"We can also multiply with complex numbers if we remember that ",(0,l.jsx)(i.A,{inline:!0,children:"\\( i^2 = \\sqrt{-1}^2 = -1 \\)"}),".",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            (a + bi)(c + di) &= ac + adi + bci + bdi^2 \\\\\n            &= (ac - bd) + (ad + bc)i\n            \\end{aligned}\n          \\]"}),"Division is also possible if we use the complex conjugate of the divisor. For a complex number ",(0,l.jsx)(i.A,{inline:!0,children:"\\( a + bi \\)"}),", the complex conjugate of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( a + bi \\)"})," is ",(0,l.jsx)(i.A,{inline:!0,children:"\\( a - bi \\)"}),". You can get rid of the imaginary component of a complex number by multiplying by its conjugate.",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            (a + bi)(a - bi) &= a^2 - b^2i^2 \\\\\n            &= a^2 + b^2\n            \\end{aligned}\n          \\]"}),"Thus, we can remove the imaginary component from a complex divisor by simply multiplying the top and bottom of the fraction by the divisor's conjugate. This give us",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\frac{c + di}{a + bi} &= \\frac{(c + di)(a-bi)}{(a + bi)(a-bi)} \\\\\n            &= \\frac{ac - bci + adi -bdi^2}{a^2 + b^2} \\\\\n            &= \\frac{(ac + bd) + (ad - bc)i}{a^2 + b^2}\n            \\end{aligned}\n          \\]"})]}),(0,l.jsx)("p",{className:"heading2",children:"Euler's Identity"}),(0,l.jsxs)("p",{children:["We've talked about addition, subtraction, multiplication, and division, but what about using a complex number as an exponent? What does it mean if I take a number, ",(0,l.jsx)(i.A,{inline:!0,children:"\\( x \\)"}),", to the power of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( a + bi \\)"}),"? We can write any exponential in terms of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( e \\)"})," as follows:",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            x^{a + bi} &= x^ax^{bi} \\\\\n            &= x^ae^{\\log(x^{bi})} \\\\\n            &= x^ae^{b\\log(x)i}\n            \\end{aligned}\n          \\]"}),"We know how to find ",(0,l.jsx)(i.A,{inline:!0,children:"\\( x^a \\)"})," and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( b\\log(x) \\)"}),". Thus, to solve the problem of complex exponents, we really need only find an expression for ",(0,l.jsx)(i.A,{inline:!0,children:"\\( e^{\\theta i} \\)"}),", where ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\theta \\)"})," is some real number."]}),(0,l.jsxs)("p",{children:["First let's consider the Taylor expansions of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( e^x \\)"}),", ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\sin(x) \\)"}),", and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\cos (x) \\)"}),", all centered at zero. For a function, ",(0,l.jsx)(i.A,{inline:!0,children:"\\( f(x) \\)"}),", that is infinitely differentiable at some value ",(0,l.jsx)(i.A,{inline:!0,children:"\\( c  \\)"}),", the Taylor Expansion of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( f(x) \\)"})," centered at ",(0,l.jsx)(i.A,{inline:!0,children:"\\( c \\)"})," is given by",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            f(x) &= f(c) + f'(c)(x-c) + \\frac{f''(c)(x-c)^2}{2!} + \\frac{f'''(c)(x-c)^3}{3!} + \\cdots + \\frac{f^{(k)}(c)(x-c)^k}{k!} + \\cdots \\\\\n            &= \\sum^{\\infty}_{k=0}\\frac{f^{(k)}(c)(x-c)^k}{k!}\n            \\end{aligned}\n          \\]"}),"This gives us the following expressions for ",(0,l.jsx)(i.A,{inline:!0,children:"\\( e^x \\)"}),", ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\sin(x) \\)"}),", and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\cos (x) \\)"}),":",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            e^x &= 1 + x + \\frac{x^2}{2!} + \\frac{x^3}{3!} + \\dots \\\\\n            \\sin (x) &= x - \\frac{x^3}{3!} + \\frac{x^5}{5!} - \\dots \\\\\n            \\cos (x) &= 1 - \\frac{x^2}{2!} + \\frac{x^4}{4!} - \\dots \\\\\n            \\end{aligned}\n          \\]"}),"Let's plug in ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\theta i \\)"})," for ",(0,l.jsx)(i.A,{inline:!0,children:"\\( x \\)"})," in our expression of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( e^x \\)"}),".",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            e^{\\theta i} &= 1 + \\theta i + \\frac{\\theta^2 i^2}{2!} + \\frac{\\theta^3 i^3}{3!} + \\dots \\\\\n            \\end{aligned}\n          \\]"}),"Note that the exponents of ",(0,l.jsx)(i.A,{inline:!0,children:"\\( i \\)"})," create the following repeating pattern:",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            i^1 &= i \\\\\n            i^2 &= -1 \\\\\n            i^3 &= -i \\\\\n            i^4 &= 1 \\\\\n            &\\vdots\n            \\end{aligned}\n          \\]"}),"Thus, we can group together the real and imaginary parts of our expression to get",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            e^{\\theta i} &= 1 + \\theta i - \\frac{\\theta^2}{2!} - \\frac{\\theta^3 i}{3!} + \\frac{\\theta^4}{4!} + \\frac{\\theta^5 i}{5!} - \\frac{\\theta^6}{6!} - \\frac{\\theta^7 i}{7!} + \\dots \\\\\n            &= \\left(1 - \\frac{\\theta^2}{2!} + \\frac{\\theta^4}{4!} - \\frac{\\theta^6}{6!}  + \\right)  + i\\left(\\theta  - \\frac{\\theta^3}{3!} + \\frac{\\theta^5 }{5!} - \\frac{\\theta^7 }{7!} + \\dots \\right) \\\\\n            &= \\cos (\\theta) + i \\sin (\\theta)\n            \\end{aligned}\n          \\]"}),"In this way, we can think of an imaginary exponent in terms of trignometric functions. If we let ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\theta = \\pi \\)"}),", we get Euler's Identity",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n            e^{\\pi i} = -1\n          \\]"})]}),(0,l.jsxs)("p",{children:["We'll use ",(0,l.jsx)(i.A,{inline:!0,children:"\\( e^{\\theta i} \\)"})," a lot, so let's go over a few useful properties. Recall that since ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\sin(x) \\)"})," is an odd function and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\cos(x) \\)"})," is an even function, we have that ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\sin(-x) = -\\sin(x) \\)"})," and ",(0,l.jsx)(i.A,{inline:!0,children:"\\( \\cos(-x) = \\cos(x) \\)"}),". This gives us that",(0,l.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            e^{\\theta i} - e^{-\\theta i} = \\cos (\\theta) + i \\sin (\\theta) - \\cos (-\\theta) -  i \\sin (-\\theta) = 2 i\\sin (\\theta) \\\\\n            e^{\\theta i} + e^{-\\theta i} = \\cos (\\theta) + i \\sin (\\theta) + \\cos (-\\theta) +  i \\sin (-\\theta) = 2\\cos (\\theta)\n            \\end{aligned}\n          \\]"})]})]}),(0,l.jsx)(r.A,{group:"Fourier"})]})}},7245:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(5043),i=(n(7724),n(5475)),r=n(4257),s=n(7971),l=n(2638),o=n(490),c=n(2189),h=n(579);const d=function(){const[e,t]=(0,a.useState)(1),[n,d]=(0,a.useState)("box");return(0,h.jsxs)("div",{className:"Fourier",children:[(0,h.jsx)(l.A,{group:"Fourier"}),(0,h.jsx)("p",{className:"heading1",children:"Fourier Series"}),(0,h.jsxs)(r.A,{children:[(0,h.jsx)("p",{children:"The goal of a Fourier series is to take a periodic function, or a function that repeats itself every period, and write it in terms of sines and cosines. Later, when we go over Fourier transforms, we'll generalize this idea of approximating a function with sines and cosines to non-periodic functions. But, for now, we are only going to think about repeating functions. Similar to a Taylor expansion, a Fourier series will express our periodic function as an infinite sum of terms. Each term will have either a sine or cosine. We can approximate the function by taking the first few terms of the series. The more terms we include, the better the approximation becomes."}),(0,h.jsx)("p",{children:"The graph below shows how a Fourier series fits three different types of periodic functions: box, saw tooth, and triangle. Notice how the Fourier approximation (the blue line) gets closer to fitting the function (the red line) as the number of terms included in the approximation increases (as N goes up)."}),(0,h.jsxs)("div",{className:"graph-container",children:[(0,h.jsx)(o.default,{N:e,graph:n}),(0,h.jsxs)("div",{className:"input-container",children:[(0,h.jsxs)("div",{className:"button-padding",style:{display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,h.jsx)("p",{children:"Number of Terms:"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("button",{onClick:()=>t((e=>Math.max(1,e-1))),children:"\u25c0"}),(0,h.jsxs)("span",{style:{margin:"0 10px"},children:["N = ",e]}),(0,h.jsx)("button",{onClick:()=>t((e=>Math.min(50,e+1))),children:"\u25b6"})]})]}),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,h.jsx)("p",{children:"Function Type:"}),(0,h.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,h.jsx)("button",{className:"".concat("box"===n?"graph-button-active":"graph-button"),onClick:()=>d("box"),children:"Box"}),(0,h.jsx)("button",{className:"".concat("saw"===n?"graph-button-active":"graph-button"),onClick:()=>d("saw"),children:"Saw Tooth"}),(0,h.jsx)("button",{className:"".concat("triangle"===n?"graph-button-active":"graph-button"),onClick:()=>d("triangle"),children:"Triangle"})]})]})]})]}),(0,h.jsx)("p",{className:"heading2",children:"Definition"}),(0,h.jsxs)("p",{children:["Given a periodic function, ",(0,h.jsx)(s.A,{inline:!0,children:"\\( f(x) \\)"}),", with period length ",(0,h.jsx)(s.A,{inline:!0,children:"\\( T \\)"}),", the Fourier series of ",(0,h.jsx)(s.A,{inline:!0,children:"\\( f(x) \\)"})," is given by",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            f(x) &= \\sum^{\\infty}_{n=-\\infty} c_n e^{\\frac{2\\pi ni}{T}x} \\\\\n            \\text{where } \\;\\;\\;c_n &= \\frac{1}{T}\\int_T f(x)e^{\\frac{-2\\pi ni}{T}x}dx\n            \\end{aligned}\n          \\]"}),"The ",(0,h.jsx)(s.A,{inline:!0,children:"\\( c_n \\)"})," terms are called the coefficients. Note that ",(0,h.jsx)(s.A,{inline:!0,children:"\\( c_0 \\)"})," simplifies to ",(0,h.jsx)(s.A,{inline:!0,children:"\\( c_0 = \\frac{1}{T}\\int_T f(x) dx \\)"}),". The sum goes from ",(0,h.jsx)(s.A,{inline:!0,children:"\\( -\\infty \\)"})," to ",(0,h.jsx)(s.A,{inline:!0,children:"\\( \\infty \\)"}),", but we typically simplify things after solving for the coefficients by taking out ",(0,h.jsx)(s.A,{inline:!0,children:"\\( c_0 \\)"})," and writing",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            f(x) &= c_0 + \\sum^{\\infty}_{n=1} \\left(c_n e^{\\frac{2\\pi ni}{T}x} + c_{-n} e^{\\frac{-2\\pi ni}{T}x}\\right) \\\\\n            \\end{aligned}\n          \\]"}),"Also note that the integral in the expression for ",(0,h.jsx)(s.A,{inline:!0,children:"\\( c_n \\)"})," can be taken over any full period length (e.g., from ",(0,h.jsx)(s.A,{inline:!0,children:"\\( -T/2 \\)"})," to ",(0,h.jsx)(s.A,{inline:!0,children:"\\( T/2 \\)"}),", from ",(0,h.jsx)(s.A,{inline:!0,children:"\\( 0 \\)"})," to ",(0,h.jsx)(s.A,{inline:!0,children:"\\( T \\)"}),", etc.). Try to choose period bounds that make things simplier."]}),(0,h.jsx)("p",{className:"heading2",children:"Box Function"}),(0,h.jsxs)("p",{children:["We'll start by finding the Fourier series for the box function, or the function that goes from 1 to -1 every half period. Let's assume the function is centered such that ",(0,h.jsx)(s.A,{inline:!0,children:"\\( f(0) = 1 \\)"})," and ",(0,h.jsx)(s.A,{inline:!0,children:"\\( f(T/2) = -1 \\)"}),". In other words, ",(0,h.jsx)(s.A,{inline:!0,children:"\\( x=0 \\)"})," lines up with a switch from -1 to 1. (This describes the box function in the above graph.) First, we need to decide which period we want to use to solve for our coefficients. In this case, we'll have to split up our integral when we go from -1 to 1, and it will be helpful to have zero in our integration bounds. So, we'll integrate over ",(0,h.jsx)(s.A,{inline:!0,children:"\\( [-T/2, T/2] \\)"}),". This means we can write our function as",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            f(x) = \n            \\begin{cases}\n                -1 & \\text{if } x \\in [-T/2, 0] \\\\\n                1 & \\text{if } x \\in (0, T/2]\n            \\end{cases}\n            \\end{aligned}\n          \\]"})]}),(0,h.jsxs)("p",{children:["Now, we can solve for the coefficients",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            c_n &= \\frac{1}{T}\\int^{T/2}_{-T/2} f(x)e^{\\frac{-2\\pi ni}{T}x}dx \\\\\n            &= \\frac{1}{T}\\left(\\int^{T/2}_{0} e^{\\frac{-2\\pi ni}{T}x}dx - \\int^{0}_{-T/2} e^{\\frac{-2\\pi ni}{T}x}dx\\right) \\\\\n            &= \\frac{-1}{2\\pi n i}\\left( \\left.e^{\\frac{-2\\pi ni}{T}x}\\right|^{T/2}_{0} - \\left.e^{\\frac{-2\\pi ni}{T}x}\\right|^{0}_{-T/2}  \\right) \\\\\n            &= \\frac{i}{2\\pi n}\\left( e^{-\\pi ni} + e^{\\pi ni}  - 2 \\right) \\\\\n            &= \\frac{i}{2\\pi n}\\left( 2\\cos(\\pi n )  - 2 \\right) \\\\\n            &= \\frac{i}{\\pi n}\\left( (-1)^n  - 1 \\right) \\\\ \\\\\n            c_{-n} &= \\frac{- i}{\\pi n}\\left( (-1)^n  - 1 \\right) \\\\ \\\\\n            c_0 &= \\frac{1}{T}\\left(\\int^{T/2}_{0} 1 dx - \\int^{0}_{-T/2} 1 dx\\right) = 0\n            \\end{aligned}\n          \\]"}),"Here, recall that ",(0,h.jsx)(s.A,{inline:!0,children:"\\( e^{\\pi n i} + e^{-\\pi n i} = 2\\cos(\\pi n)\\)"}),", and ",(0,h.jsx)(s.A,{inline:!0,children:"\\( \\cos(\\pi n)\\)"})," is 1 if ",(0,h.jsx)(s.A,{inline:!0,children:"\\( n \\)"})," is even and -1 if ",(0,h.jsx)(s.A,{inline:!0,children:"\\( n \\)"})," is odd. Using these coefficients, we can write ",(0,h.jsx)(s.A,{inline:!0,children:"\\( f(x) \\)"})," as",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            f(x) &= \\sum^{\\infty}_{n=1} \\left(\\frac{i}{\\pi n}\\left( (-1)^n  - 1 \\right) e^{\\frac{2\\pi ni}{T}x} - \\frac{ i}{\\pi n}\\left( (-1)^n  - 1 \\right) e^{\\frac{-2\\pi ni}{T}x}\\right) \\\\\n            &= \\sum^{\\infty}_{n=1} \\left(\\frac{i}{\\pi n}\\left( (-1)^n  - 1 \\right) \\right) 2 i\\sin \\left(\\frac{2\\pi n}{T}x \\right) \\\\\n            &= \\frac{2}{\\pi} \\sum^{\\infty}_{n=1} \\left(\\frac{1}{n}\\left( 1 - (-1)^n \\right) \\right)\\sin \\left(\\frac{2\\pi n}{T}x \\right)  \n            \\end{aligned}\n          \\]"}),"Note that ",(0,h.jsx)(s.A,{inline:!0,children:"\\( \\left( 1 - (-1)^n \\right) \\)"})," makes all of the even terms zero. Let's adjust things by subbing in ",(0,h.jsx)(s.A,{inline:!0,children:"\\(  2n-1 \\)"})," for ",(0,h.jsx)(s.A,{inline:!0,children:"\\( n \\)"}),".",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            f(x) &= \\frac{4}{\\pi} \\sum^{\\infty}_{n=1} \\left(\\frac{1}{2n - 1} \\right) \\sin \\left(\\frac{2\\pi (2n-1)}{T}x \\right)\n            \\end{aligned}\n          \\]"}),"This gives us the Fourier series for a box function! Try working through the examples below to find the Fourier series for a saw tooth and a triangle function."]}),(0,h.jsx)("p",{className:"heading2",children:"Examples"}),(0,h.jsx)(c.A,{solution:(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("p",{children:["Here, we can use the period from ",(0,h.jsx)(s.A,{inline:!0,children:"\\( -T/2 \\)"})," to ",(0,h.jsx)(s.A,{inline:!0,children:"\\( T/2 \\)"}),", which follows ",(0,h.jsx)(s.A,{inline:!0,children:"\\( f(x) = x \\)"})," over this interval. We can solve for the coefficients as",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                c_n &= \\frac{1}{T}\\int^{T/2}_{-T/2} x e^{\\frac{-2\\pi n i}{T}x}dx\n                \\end{aligned}\n              \\]"}),"Here, we'll use integration by parts with ",(0,h.jsx)(s.A,{inline:!0,children:"\\( u = x \\)"}),", ",(0,h.jsx)(s.A,{inline:!0,children:"\\( du = dx \\)"}),", ",(0,h.jsx)(s.A,{inline:!0,children:"\\( dv =  e^{\\frac{-2\\pi n i}{T}x}dx \\)"}),", and ",(0,h.jsx)(s.A,{inline:!0,children:"\\( v =  \\frac{-T}{2\\pi n i}e^{\\frac{-2\\pi n i}{T}x} \\)"}),".",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                c_n &= \\frac{1}{T}\\left(\\left.uv\\right|^{T/2}_{-T/2} - \\int^{T/2}_{-T/2} v du\\right) \\\\\n                &= \\frac{1}{T}\\left(\\left.\\frac{-Tx}{2\\pi n i}e^{\\frac{-2\\pi n i}{T}x} \\right|^{T/2}_{-T/2} + \\frac{T}{2\\pi n i}\\int^{T/2}_{-T/2} e^{\\frac{-2\\pi n i}{T}x}  dx\\right) \\\\\n                &= \\left.\\left(\\frac{-x}{2\\pi n i}e^{\\frac{-2\\pi n i}{T}x} + \\frac{T}{4\\pi^2 n^2} e^{\\frac{-2\\pi n i}{T}x} \\right)  \\right|^{T/2}_{-T/2}  \\\\\n                &= \\frac{-T}{4\\pi n i}e^{-\\pi n i} + \\frac{T}{4\\pi^2 n^2} e^{-\\pi n i}  - \\left( \\frac{T}{4\\pi n i}e^{\\pi n i} + \\frac{T}{4\\pi^2 n^2} e^{\\pi n i} \\right)  \\\\\n                &= \\frac{Ti}{4\\pi n }\\left(e^{\\pi n i} + e^{-\\pi n i} \\right) - \\frac{T}{4\\pi^2 n^2} \\left(e^{\\pi n i} - e^{-\\pi n i} \\right) \\\\\n                 &= \\frac{2 Ti\\cos(\\pi n)}{4\\pi n } - \\frac{2 Ti \\sin(\\pi n)}{4\\pi^2 n^2} \\\\\n                 &= \\frac{Ti(-1)^n}{\\pi n } \\\\ \\\\\n                 c_{-n} &= \\frac{-Ti(-1)^n}{\\pi n } \\\\ \\\\\n                 c_0 &= \\frac{1}{T}\\int^{T/2}_{-T/2} x dx = 0\n                \\end{aligned}\n              \\]"}),"Using these coefficients, we have",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                f(x) &= \\sum^{\\infty}_{n=1} \\left( \\frac{Ti(-1)^n}{\\pi n }  e^{\\frac{2\\pi ni}{T}x} - \\frac{Ti(-1)^n}{\\pi n }  e^{\\frac{-2\\pi ni}{T}x}\\right) \\\\\n                &= \\frac{Ti}{\\pi} \\sum^{\\infty}_{n=1} \\left( \\frac{(-1)^n}{ n } \\right) \\left(2 i\\sin \\left(\\frac{2\\pi n}{T}x\\right) \\right) \\\\\n                &= \\frac{2 T}{\\pi} \\sum^{\\infty}_{n=1} \\left( \\frac{(-1)^{n-1}}{ n } \\right) \\sin \\left(\\frac{2\\pi n}{T}x\\right)\n                \\end{aligned}\n              \\]"})]})}),children:(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Example 1:"})," Find the Fourier series for a saw tooth function where ",(0,h.jsx)(s.A,{inline:!0,children:"\\( f(-T/2) = -T/2 \\)"})," and ",(0,h.jsx)(s.A,{inline:!0,children:"\\( f(T/2) = T/2 \\)"}),"."]})}),(0,h.jsx)(c.A,{solution:(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("p",{children:["Here, we can use the period from ",(0,h.jsx)(s.A,{inline:!0,children:"\\( -T/2 \\)"})," to ",(0,h.jsx)(s.A,{inline:!0,children:"\\( T/2 \\)"}),", which follows",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n                f(x) = \\begin{cases} T/4 + x & \\text{if } x \\in [-T/2, 0] \\\\ T/4 -x & \\text{if } x \\in (0, T/2] \\end{cases}\n              \\]"}),"We can solve for the coefficients as",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                c_n &= \\frac{1}{T}\\left( \\int^{0}_{-T/2} (T/4 + x) e^{\\frac{-2\\pi n i}{T}x}dx  + \\int^{T/2}_{0} (T/4 - x) e^{\\frac{-2\\pi n i}{T}x}dx \\right) \\\\\n                &= \\frac{1}{T}\\left( \\int^{0}_{-T/2}  x e^{\\frac{-2\\pi n i}{T}x}dx  - \\int^{T/2}_{0}  x e^{\\frac{-2\\pi n i}{T}x}dx + (T/4)\\int^{T/2}_{-T/2} e^{\\frac{-2\\pi n i}{T}x}dx\\right) \n                \\end{aligned}\n              \\]"}),"In Example 1, we found that we can use integration by parts to get ",(0,h.jsx)(s.A,{inline:!0,children:"\\( \\int^b_a x e^{\\frac{-2\\pi n i}{T}x} =  \\left.\\left(\\frac{-Tx}{2\\pi n i}e^{\\frac{-2\\pi n i}{T}x} + \\frac{T^2}{4\\pi^2 n^2} e^{\\frac{-2\\pi n i}{T}x} \\right)  \\right|^{b}_{a} \\)"}),". This gives us",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                c_n &=  \\left.\\left(\\frac{-x}{2\\pi n i}e^{\\frac{-2\\pi n i}{T}x} + \\frac{T}{4\\pi^2 n^2} e^{\\frac{-2\\pi n i}{T}x} \\right)  \\right|^{0}_{-T/2} -  \\left.\\left(\\frac{-x}{2\\pi n i}e^{\\frac{-2\\pi n i}{T}x} + \\frac{T}{4\\pi^2 n^2} e^{\\frac{-2\\pi n i}{T}x} \\right)  \\right|^{T/2}_{0}  - \\left. \\frac{T}{8\\pi n i} e^{\\frac{-2\\pi n i}{T}x} \\right|^{T/2}_{-T/2}\\\\\n                &= \\frac{T}{2\\pi^2 n^2} + \\left(e^{\\pi n i} - e^{-\\pi n i}\\right)\\left(\\frac{Ti}{4 \\pi n } - \\frac{Ti}{8\\pi n }\\right) - \\left(e^{\\pi n i} + e^{-\\pi ni}\\right)\\left(\\frac{T}{4 \\pi^2 n^2}\\right)  \\\\ \n                &= \\frac{T}{2\\pi^2 n^2} + 2 i\\sin(\\pi n)\\left(\\frac{Ti}{4 \\pi n } - \\frac{Ti}{8\\pi n }\\right) - 2 \\cos(\\pi n)\\left(\\frac{T}{4 \\pi^2 n^2}\\right) \\\\\n                &= \\frac{T\\left(1 - (-1)^n\\right)}{2 \\pi^2 n^2} \\\\ \\\\\n                 c_{-n} &= \\frac{T\\left(1 - (-1)^n\\right)}{2 \\pi^2 n^2} \\\\ \\\\\n                 c_0 &= \\frac{1}{T}\\left( \\int^{0}_{-T/2} (T/4 + x) dx  + \\int^{T/2}_{0} (T/4 - x) dx \\right) = 0\n                \\end{aligned}\n              \\]"}),"Using these coefficients, we have",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                f(x) &= \\sum^{\\infty}_{n=1} \\left( \\frac{T\\left(1 - (-1)^n\\right)}{2 \\pi^2 n^2}\\right)\\left(e^{\\frac{2\\pi ni}{T}x} + e^{\\frac{-2\\pi ni}{T}x}\\right) \\\\\n                &= \\frac{T}{\\pi^2}\\sum^{\\infty}_{n=1} \\left( \\frac{1 - (-1)^n}{ n^2} \\right)\\cos \\left(\\frac{2 \\pi n}{T}x\\right) \\\\\n                \\end{aligned}\n              \\]"}),"Note that ",(0,h.jsx)(s.A,{inline:!0,children:"\\( \\left( 1 - (-1)^n \\right) \\)"})," makes all of the even terms zero. Let's adjust things by subbing in ",(0,h.jsx)(s.A,{inline:!0,children:"\\(  2n-1 \\)"})," for ",(0,h.jsx)(s.A,{inline:!0,children:"\\( n \\)"}),".",(0,h.jsx)(s.A,{className:"math-container",children:"\\[\n                \\begin{aligned}\n                f(x) &= \\frac{2 T}{\\pi^2}\\sum^{\\infty}_{n=1} \\left( \\frac{1}{ (2n-1)^2} \\right)\\cos \\left(\\frac{2 \\pi (2n-1)}{T}x\\right) \\\\\n                \\end{aligned}\n              \\]"})]})}),children:(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Example 2:"})," Find the Fourier series for a triangle function where ",(0,h.jsx)(s.A,{inline:!0,children:"\\( f(-T/2) = -T/4 \\)"}),", ",(0,h.jsx)(s.A,{inline:!0,children:"\\( f(0) = T/4 \\)"}),", and ",(0,h.jsx)(s.A,{inline:!0,children:"\\( f(T/2) = -T/4 \\)"}),"."]})})]}),(0,h.jsx)(l.A,{group:"Fourier"}),(0,h.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,h.jsx)(i.k2,{className:"TD-link",to:"/fourier",children:"Contents"})})]})}},974:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});n(5043),n(7724);var a=n(5475),i=n(4257),r=n(7971),s=n(2638),l=(n(2189),n(579));const o=function(){return(0,l.jsxs)("div",{className:"Fourier",children:[(0,l.jsx)(s.A,{group:"Fourier"}),(0,l.jsx)("p",{className:"heading1",children:"Fourier Transform"}),(0,l.jsxs)(i.A,{children:[(0,l.jsxs)("p",{children:["In the last section, we went over how to use a Fourier series to write a periodic function in terms of sines and cosines. Our end result was an infinite series of trignometric functions. But what about non-periodic functions? Recall the Fourier series definition and consider what would happen if we let the period length tend toward infinity (",(0,l.jsx)(r.A,{inline:!0,children:"\\( T \\rightarrow \\infty \\)"}),").",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            f(x) &= \\frac{1}{T} \\sum^{\\infty}_{n=-\\infty} \\left(\\int_T f(x')e^{\\frac{-2\\pi ni}{T}x'}dx'\\right) e^{\\frac{2\\pi ni}{T}x} \n            \\end{aligned}\n          \\]"}),"Let's denote ",(0,l.jsx)(r.A,{inline:!0,children:"\\( k = \\frac{n}{T} \\)"})," and consider how ",(0,l.jsx)(r.A,{inline:!0,children:"\\( k \\)"})," changes as ",(0,l.jsx)(r.A,{inline:!0,children:"\\( n \\)"})," increases. Since ",(0,l.jsx)(r.A,{inline:!0,children:"\\( n \\)"})," must be an integer, the distance between each consecutive ",(0,l.jsx)(r.A,{inline:!0,children:"\\( n \\)"})," is ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{T} \\)"}),". As ",(0,l.jsx)(r.A,{inline:!0,children:"\\( T \\rightarrow \\infty \\)"}),", this distance becomes infinitesimally small. Thus, ",(0,l.jsx)(r.A,{inline:!0,children:"\\( k \\)"})," is a continuous variable, and we can convert the infinite sum ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{T} \\sum^{\\infty}_{n=-\\infty} (\\cdot)\\)"})," into an integral ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\int^{\\infty}_{-\\infty} (\\cdot)dk \\)"}),".",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            f(x) &= \\int^{\\infty}_{-\\infty} \\left(\\int^{\\infty}_{-\\infty} f(x')e^{-2\\pi i k x'}dx'\\right) e^{2\\pi i k x}dk\n            \\end{aligned}\n          \\]"}),"The expression in parentheses gives us the definition of a Fourier transform."]}),(0,l.jsx)("p",{className:"heading2",children:"Definition"}),(0,l.jsxs)("p",{children:["The Fourier transform of a function ",(0,l.jsx)(r.A,{inline:!0,children:"\\( f(x) \\)"})," is given by",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            F(k) &= \\int^{\\infty}_{-\\infty} f(x)e^{-2\\pi i k x}dx\n            \\end{aligned}\n          \\]"}),"Given a Fourier transform ",(0,l.jsx)(r.A,{inline:!0,children:"\\( F(k) \\)"}),", the inverse Fourier transform is given by",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            f(x) &= \\int^{\\infty}_{-\\infty} F(k)e^{2\\pi i k x}dk\n            \\end{aligned}\n          \\]"}),"The transform ",(0,l.jsx)(r.A,{inline:!0,children:"\\( F(k) \\)"})," is analogous to the ",(0,l.jsx)(r.A,{inline:!0,children:"\\( c_n \\)"})," coefficients from the Fourier series that told us how much of each different sine or cosine function to include. However, ",(0,l.jsx)(r.A,{inline:!0,children:"\\( F(k) \\)"})," is a continuous function while the ",(0,l.jsx)(r.A,{inline:!0,children:"\\( c_n \\)"}),"'s, although infinite in number, were discrete."]}),(0,l.jsx)("p",{className:"heading2",children:"Gaussian Function"}),(0,l.jsxs)("p",{children:["Let's find the Fourier transform of the normal pdf, ",(0,l.jsx)(r.A,{inline:!0,children:"\\( f(x) = \\frac{e^{\\frac{-(x-\\mu)^2}{2\\sigma^2}}}{\\sqrt{2\\pi\\sigma^2}} \\)"}),", which is a Gaussian.",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            F(k) &= \\int^{\\infty}_{-\\infty} \\frac{e^{\\frac{-(x-\\mu)^2}{2\\sigma^2}}}{\\sqrt{2\\pi\\sigma^2}}e^{-2\\pi i k x}dx \\\\\n            &= \\int^{\\infty}_{-\\infty} \\frac{e^{\\frac{-1}{2\\sigma^2} \\left( x^2 -2\\mu x + \\mu^2 + 4\\sigma^2 \\pi i k x\\right)}}{\\sqrt{2\\pi\\sigma^2}}dx \n            \\end{aligned}\n          \\]"}),"Focusing on the exponent, we can complete the square to get",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\frac{-1}{2\\sigma^2} \\left( x^2 -2\\mu x + \\mu^2 + 4\\sigma^2 \\pi i k x\\right) &= \\frac{-1}{2\\sigma^2} \\left( x^2 -2x(\\mu - 2\\sigma^2 \\pi i k) + (\\mu - 2\\sigma^2 \\pi i k)^2 - (\\mu - 2\\sigma^2 \\pi i k)^2 + \\mu^2\\right) \\\\\n            &= \\frac{-1}{2\\sigma^2} \\left( x - \\mu + 2\\sigma^2 \\pi i k \\right)^2 - 2 \\pi k (\\mu i + \\sigma^2 \\pi k)\n            \\end{aligned}\n          \\]"}),"Returning to our original expression, we have",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            F(k) &= e^{-2 \\pi k (\\mu i + \\sigma^2 \\pi k)} \\int^{\\infty}_{-\\infty} \\frac{e^{\\frac{-1}{2\\sigma^2} \\left( x - \\mu + 2\\sigma^2 \\pi i k \\right)^2}}{\\sqrt{2\\pi\\sigma^2}}dx \\\\\n            &= e^{-2 \\pi k (\\mu i + \\sigma^2 \\pi k)}\n            \\end{aligned}\n          \\]"}),"Thus, the Fourier transform of a Gaussian function is another Gaussian function. In fact, if we set ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\mu =0 \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\sigma^2 = \\frac{1}{2 \\pi} \\)"}),", we have the following:",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            f(x) &= e^{-\\pi x^2} \\\\\n            F(k) &= e^{-\\pi k^2}\n            \\end{aligned}\n          \\]"})]}),(0,l.jsx)("p",{className:"heading2",children:"Convolution"}),(0,l.jsxs)("p",{children:["A useful property of Fourier transforms is that they turn convolution into multiplication. For two functions ",(0,l.jsx)(r.A,{inline:!0,children:"\\( f(x) \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( g(x) \\)"}),", the convolution of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( f \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( g \\)"})," is given by",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\int^{\\infty}_{-\\infty} f(y)g(x-y)dy\n            \\end{aligned}\n          \\]"}),"If we take the Fourier transform of this expression, we get",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\int^{\\infty}_{-\\infty}\\left(\\int^{\\infty}_{-\\infty} f(y)g(x-y)dy \\right)e^{-2 \\pi i k x}dx &= \\int^{\\infty}_{-\\infty}f(y)\\left(\\int^{\\infty}_{-\\infty} g(x-y)e^{-2 \\pi i k x} dx\\right)dy\n            \\end{aligned}\n          \\]"}),"Now, if we let ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x = z + y \\)"}),", we get",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\int^{\\infty}_{-\\infty}f(y)\\left(\\int^{\\infty}_{-\\infty} g(z)e^{-2 \\pi i k (z + y)} dz\\right)dy &= \\left( \\int^{\\infty}_{-\\infty}f(y)e^{-2 \\pi i k y}dy \\right) \\left(\\int^{\\infty}_{-\\infty} g(z)e^{-2 \\pi i k z } dz\\right) \\\\\n            &= F(k)G(k)\n            \\end{aligned}\n          \\]"}),"where ",(0,l.jsx)(r.A,{inline:!0,children:"\\( F(k) \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( G(k) \\)"})," are the Fourier transforms of  ",(0,l.jsx)(r.A,{inline:!0,children:"\\( f(x) \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( g(x) \\)"})," respectively."]}),(0,l.jsxs)("p",{children:["Putting this together, we can write the convolution of two functions as",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\int^{\\infty}_{-\\infty} f(y)g(x-y)dy = \\int^{\\infty}_{-\\infty} F(k)G(k)e^{2\\pi i k x}dk\n            \\end{aligned}\n          \\]"})]})]}),(0,l.jsx)(s.A,{group:"Fourier"}),(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,l.jsx)(a.k2,{className:"TD-link",to:"/fourier",children:"Contents"})})]})}},3279:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});n(5043),n(7724);var a=n(5475),i=n(4257),r=n(7971),s=n(2638),l=(n(2189),n(579));const o=function(){return(0,l.jsxs)("div",{className:"Fourier",children:[(0,l.jsx)(s.A,{group:"Fourier"}),(0,l.jsx)("p",{className:"heading1",children:"Heat Equation"}),(0,l.jsxs)(i.A,{children:[(0,l.jsxs)("p",{children:["Recall in our ",(0,l.jsx)(a.k2,{className:"inline-link",to:"/black_scholes/pricing",children:"Black-Scholes"})," derivation that we relied on a solution to the heat equation to come up with a closed-form solution for the price of a European call option. The heat equation models the diffusion of heat through a medium by relating the temperature at a specific location in the medium as a function of the location's distance from some fixed point, ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x \\)"}),", and time, ",(0,l.jsx)(r.A,{inline:!0,children:"\\( t \\)"}),". For a temperature function ",(0,l.jsx)(r.A,{inline:!0,children:"\\( u(x,t) \\)"})," and a positive constant ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\alpha \\)"}),", the one-dimensional heat equation can be written as",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n              \\frac{\\partial u}{\\partial t} = \\alpha \\frac{\\partial^2 u}{\\partial x^2}\n            \\]"}),"We can find a solution to this partial differential equation by applying a Fourier transform that will turn it into an ordinary differential equation. In other words, we'll come up with an equation in terms of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\hat u(k,t) \\)"})," instead of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( u(x,t) \\)"}),", where ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\hat u \\)"})," is the Fourier transform of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( u \\)"}),". This equation will have only a derivative with respect to ",(0,l.jsx)(r.A,{inline:!0,children:"\\( t \\)"}),", not ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x \\)"})," . Thus, we can explicitly solve for ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\hat u \\)"})," and do an inverse transform to recover ",(0,l.jsx)(r.A,{inline:!0,children:"\\( u \\)"}),"."]}),(0,l.jsxs)("p",{children:["First, let's apply a Fourier transform to ",(0,l.jsx)(r.A,{inline:!0,children:"\\(  \\frac{\\partial u}{\\partial t} \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\(   \\frac{\\partial^2 u}{\\partial x^2} \\)"}),". Recall that the Fourier transform of a function ",(0,l.jsx)(r.A,{inline:!0,children:"\\( f(x) \\)"})," is given by ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\int^{\\infty}_{-\\infty}f(x)e^{-2\\pi i k x}dx\\)"}),". For ",(0,l.jsx)(r.A,{inline:!0,children:"\\(  \\frac{\\partial u}{\\partial t} \\)"}),", this gives us",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              \\frac{\\partial \\hat u}{\\partial t} &= \\int^{\\infty}_{-\\infty}\\frac{\\partial u}{\\partial t} e^{-2\\pi i k x}dx \\\\\n              &= \\frac{\\partial}{\\partial t} \\int^{\\infty}_{-\\infty}u(x,t) e^{-2\\pi i k x}dx \\\\\n              &= \\frac{\\partial}{\\partial t} \\hat u(k,t)\n            \\end{aligned}\n            \\]"}),"Here, we've just shown that we can take the derivative with respect to ",(0,l.jsx)(r.A,{inline:!0,children:"\\(  t \\)"})," out of the integral because we are transforming with respect to ",(0,l.jsx)(r.A,{inline:!0,children:"\\(  x\\)"}),". Now, for ",(0,l.jsx)(r.A,{inline:!0,children:"\\(   \\frac{\\partial^2 u}{\\partial x^2} \\)"})," we have",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n              \\frac{\\partial^2 \\hat u}{\\partial x^2} = \\int^{\\infty}_{-\\infty}\\frac{\\partial^2 u}{\\partial x^2} e^{-2\\pi i k x}dx\n            \\]"}),"We can apply integration by parts with ",(0,l.jsx)(r.A,{inline:!0,children:"\\(  h =  e^{-2\\pi i k x} \\)"}),", ",(0,l.jsx)(r.A,{inline:!0,children:"\\(  dh =  -2\\pi i ke^{-2\\pi i k x}dx \\)"}),", ",(0,l.jsx)(r.A,{inline:!0,children:"\\(  dg = \\frac{\\partial^2 u}{\\partial x^2}dx  \\)"}),", and ",(0,l.jsx)(r.A,{inline:!0,children:"\\(  g = \\frac{\\partial u}{\\partial x}  \\)"}),".",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              \\frac{\\partial^2 \\hat u}{\\partial x^2} &= \\left.hg\\right|^{\\infty}_{-\\infty} - \\int^{\\infty}_{-\\infty}gdh \\\\\n              &= \\left. \\frac{\\partial u}{\\partial x}e^{-2\\pi i k x}\\right|^{\\infty}_{-\\infty} + 2\\pi i k \\int^{\\infty}_{-\\infty} \\frac{\\partial u}{\\partial x} e^{-2\\pi i k x}dx\n            \\end{aligned}\n            \\]"}),"Since ",(0,l.jsx)(r.A,{inline:!0,children:"\\(  \\frac{\\partial u}{\\partial x}\\)"})," is integrable, the first term is zero. We can apply integration by parts again with ",(0,l.jsx)(r.A,{inline:!0,children:"\\(  h =  e^{-2\\pi i k x} \\)"}),", ",(0,l.jsx)(r.A,{inline:!0,children:"\\(  dh =  -2\\pi i ke^{-2\\pi i k x}dx \\)"}),", ",(0,l.jsx)(r.A,{inline:!0,children:"\\(  dg = \\frac{\\partial u}{\\partial x}dx  \\)"}),", and ",(0,l.jsx)(r.A,{inline:!0,children:"\\(  g = u  \\)"}),".",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              \\frac{\\partial^2 \\hat u}{\\partial x^2} &= 2\\pi i k\\left(\\left.hg\\right|^{\\infty}_{-\\infty} - \\int^{\\infty}_{-\\infty}gdh \\right)\\\\\n              &= 2\\pi i k \\left(\\left. u(x,t)e^{-2\\pi i k x}\\right|^{\\infty}_{-\\infty} + 2\\pi i k \\int^{\\infty}_{-\\infty} u(x,t) e^{-2\\pi i k x}dx \\right) \\\\\n              &= - 4\\pi^2 k^2 \\int^{\\infty}_{-\\infty} u(x,t) e^{-2\\pi i k x}dx \\\\\n              &= - 4\\pi^2 k^2 \\hat u(k,t)\n            \\end{aligned}\n            \\]"}),"Again, since ",(0,l.jsx)(r.A,{inline:!0,children:"\\( u\\)"})," is integrable, ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\left. u(x,t)e^{-2\\pi i k x}\\right|^{\\infty}_{-\\infty}  = 0\\)"}),"."]}),(0,l.jsxs)("p",{children:["Now that we have transformed expressions for ",(0,l.jsx)(r.A,{inline:!0,children:"\\(  \\frac{\\partial u}{\\partial t} \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\(   \\frac{\\partial^2 u}{\\partial x^2} \\)"}),", we can write the transformed heat equation as",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n              \\begin{aligned}\n              &\\frac{\\partial}{\\partial t} \\hat u(k,t) = - 4\\alpha \\pi^2 k^2 \\hat u(k,t) \\\\\n               \\Leftrightarrow &\\frac{\\partial}{\\partial t} \\log(\\hat u(k,t)) = - 4\\alpha \\pi^2 k^2 \\\\\n               \\Leftrightarrow & \\log(\\hat u(k,t))= - 4\\alpha \\pi^2 k^2 t + C(k) \\\\ \n               \\Leftrightarrow & \\hat u(k,t) = e^{- 4\\alpha \\pi^2 k^2 t + C(k)} \n              \\end{aligned}\n            \\]"}),"where ",(0,l.jsx)(r.A,{inline:!0,children:"\\( C(k)\\)"})," is a constant in terms of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( t\\)"})," but could depend on ",(0,l.jsx)(r.A,{inline:!0,children:"\\( k\\)"}),"."]}),(0,l.jsxs)("p",{children:["Suppose our initial condition is of the form ",(0,l.jsx)(r.A,{inline:!0,children:"\\( u(x,0) = h(x) \\)"}),". We can transform this initial condition to get ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\hat u(k,0) = \\hat h(k) \\)"}),". Using our transformed initial condition, we can solve for ",(0,l.jsx)(r.A,{inline:!0,children:"\\( C(k) = \\log(\\hat h(k)) \\)"}),". This gives us",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n               \\hat u(k,t) = \\hat h(k)e^{- 4\\alpha \\pi^2 k^2 t} \n            \\]"})]}),(0,l.jsxs)("p",{children:["Now, we want to do an inverse transform to recover ",(0,l.jsx)(r.A,{inline:!0,children:"\\( u(x,t) \\)"}),". First, recall that a Fourier transform converts convolution into multiplication. Thus, if we denote ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\hat g(k) = e^{-4\\alpha \\pi^2 k^2 t} \\)"}),", we can write the inverse transform as",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n              \\begin{aligned}\n               u(x,t) &= \\int^{\\infty}_{-\\infty}\\hat h(k)\\hat g(k) dk \\\\ \n               &= \\int^{\\infty}_{-\\infty}h(z)g(x-z)dz\n              \\end{aligned}\n            \\]"}),"This means we need only find the inverse transform of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\hat g(k) \\)"}),". We can do this by completing the square to solve",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n              \\begin{aligned}\n               g(x) &= \\int^{\\infty}_{-\\infty} e^{- 4\\alpha \\pi^2 k^2 t} e^{2\\pi ki x}dk \\\\\n               &= \\int^{\\infty}_{-\\infty} e^{- 4\\alpha \\pi^2 t \\left(k^2 - 2\\frac{ix}{4\\alpha \\pi t} k  + \\left(\\frac{ix}{4\\alpha\\pi t}\\right)^2 - \\left(\\frac{ix}{4\\alpha\\pi t}\\right)^2 \\right)}dk \\\\\n               &= e^{\\frac{-x^2}{4\\alpha t} }\\int^{\\infty}_{-\\infty} e^{- 4\\alpha \\pi^2 t\\left(k - \\frac{ix}{4\\alpha\\pi t}\\right)^2}dk \n              \\end{aligned}\n            \\]"}),"Recall that the pdf of a normal distribution is given by ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\frac{e^{\\frac{-(x-\\mu)^2}{2\\sigma^2}}}{\\sqrt{2\\pi\\sigma^2}} \\)"}),". If we can make our expression look like this, then we can get rid of the integral since we know that ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\int^{\\infty}_{-\\infty}\\frac{e^{\\frac{-(x-\\mu)^2}{2\\sigma^2}}}{\\sqrt{2\\pi\\sigma^2}} dx = 1\\)"}),". Let ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\mu = \\frac{ix}{4\\alpha \\pi t}\\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{2\\sigma^2} = 4\\alpha \\pi^2 t\\Leftrightarrow \\sigma^2 = \\frac{1}{8\\alpha \\pi^2 t} \\)"}),". In this way, we can rewrite our expression as",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n              \\begin{aligned}\n               g(x) &= e^{\\frac{-x^2}{4\\alpha t} }\\sqrt{2\\pi \\sigma^2}\\int^{\\infty}_{-\\infty} \\frac{e^{\\frac{-\\left(k - \\mu \\right)^2}{2\\sigma^2}}}{\\sqrt{2\\pi \\sigma^2}}dk \\\\\n               &= e^{\\frac{-x^2}{4\\alpha t} }\\sqrt{2\\pi \\left(\\frac{1}{8\\alpha \\pi^2 t}\\right)} \\\\\n               &= \\frac{e^{\\frac{-x^2}{4\\alpha t} }}{\\sqrt{4\\pi\\alpha t}}\n              \\end{aligned}\n            \\]"}),"Now that we've solved for ",(0,l.jsx)(r.A,{inline:!0,children:"\\( g(x) \\)"}),", we can solve for ",(0,l.jsx)(r.A,{inline:!0,children:"\\( u(x,t) \\)"})," as",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n              \\begin{aligned}\n               u(x,t) &= \\int^{\\infty}_{-\\infty}h(z)g(x-z)dz \\\\\n               &= \\frac{1}{\\sqrt{4 \\pi\\alpha t}}\\int^{\\infty}_{-\\infty}u(z,0) e^{\\frac{-(z-x)^2}{4\\alpha t} }dz\n              \\end{aligned}\n            \\]"})]})]}),(0,l.jsx)(s.A,{group:"Fourier"}),(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,l.jsx)(a.k2,{className:"TD-link",to:"/fourier",children:"Contents"})})]})}},1192:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var a=n(5043),i=(n(7724),n(5475)),r=n(4257),s=n(7971),l=n(2638),o=(n(2189),n(1657)),c=n(579);const h=function(){const[e,t]=(0,a.useState)(1);return(0,c.jsxs)("div",{className:"Fourier",children:[(0,c.jsx)(l.A,{group:"Fourier"}),(0,c.jsx)("p",{className:"heading1",children:"Discrete Fourier Transform"}),(0,c.jsxs)(r.A,{children:[(0,c.jsxs)("p",{children:["So far, we've covered ",(0,c.jsx)(i.k2,{className:"inline-link",to:"/fourier/series",children:"Fourier Series"})," for periodic functions and ",(0,c.jsx)(i.k2,{className:"inline-link",to:"/fourier/transform",children:"Fourier Transforms"})," for non-periodic functions. What if we don't have an explicit way of describing our function, but we know a bunch of points on the graph of our function? In this case, we can use a Discrete Fourier Transform. The idea here is to take a discrete set of function values and rewrite them in terms of sines and cosines."]}),(0,c.jsx)("p",{className:"heading2",children:"Definition"}),(0,c.jsxs)("p",{children:["Suppose we start with a list of ",(0,c.jsx)(s.A,{inline:!0,children:"\\( N \\)"})," ordered pairs from our data: ",(0,c.jsx)(s.A,{inline:!0,children:"\\( (x_0, y_0), (x_1, y_1), \\dots, (x_{N-1}, y_{N-1}) \\)"}),". The first thing we'll do is assign a natural number to each ordered pair sequentiallly according to ",(0,c.jsx)(s.A,{inline:!0,children:"\\( x  \\)"})," values. In other words, we'll consider the sequence of ",(0,c.jsx)(s.A,{inline:!0,children:"\\( y  \\)"})," values, ",(0,c.jsx)(s.A,{inline:!0,children:"\\( \\{y_n\\} = y_0, y_1, \\dots, y_{N-1}\\)"}),". For each ",(0,c.jsx)(s.A,{inline:!0,children:"\\( y_n \\)"}),", the discrete Fourier transform of ",(0,c.jsx)(s.A,{inline:!0,children:"\\( y_n \\)"})," is given by",(0,c.jsx)(s.A,{className:"math-container",children:"\\[\n              F_k = \\sum^{N-1}_{n=0}y_n e^{\\frac{-2\\pi i k n}{N}}\n            \\]"}),"In this way, we can create a sequence of transformed values ",(0,c.jsx)(s.A,{inline:!0,children:"\\( \\{F_k\\} = F_0, F_1, \\dots, F_{N-1} \\)"}),". For each ",(0,c.jsx)(s.A,{inline:!0,children:"\\( F_k \\)"}),", the inverse transform of ",(0,c.jsx)(s.A,{inline:!0,children:"\\( F_k \\)"})," is given by",(0,c.jsx)(s.A,{className:"math-container",children:"\\[\n              y_n = \\frac{1}{N}\\sum^{N-1}_{k=0}F_k e^{\\frac{2\\pi i k n}{N}}\n            \\]"})]}),(0,c.jsx)("p",{className:"heading2",children:"Approximation"}),(0,c.jsxs)("p",{children:["Using the discrete Fourier transform equations, we can come up with a way of writing each ",(0,c.jsx)(s.A,{inline:!0,children:"\\( y_n \\)"})," in terms of cosines. This will allow us to approximate the function that might have generated our data. Consider the inverse transform equation. We'll begin by taking out ",(0,c.jsx)(s.A,{inline:!0,children:"\\( F_0 \\)"})," from the sum.",(0,c.jsx)(s.A,{className:"math-container",children:"\\[\n              y_n = \\frac{1}{N}\\left(F_0 + \\sum^{N-1}_{k=1}F_k e^{\\frac{2\\pi i k n}{N}}\\right)\n            \\]"}),"Next, we'll group together each ",(0,c.jsx)(s.A,{inline:!0,children:"\\( F_k \\)"})," term for ",(0,c.jsx)(s.A,{inline:!0,children:"\\( 0 < k < \\frac{N}{2} \\)"})," with its corresponding ",(0,c.jsx)(s.A,{inline:!0,children:"\\( F_{N-k} \\)"})," term. Note that there are ",(0,c.jsx)(s.A,{inline:!0,children:"\\( N -1 \\)"})," remaining terms in the sum. If ",(0,c.jsx)(s.A,{inline:!0,children:"\\( N \\)"})," is even, then there is an odd number of terms remaining in the sum, which means the middle term will not have a match. If ",(0,c.jsx)(s.A,{inline:!0,children:"\\( N \\)"})," is odd, then there is an even number of terms remaining in the sum, which means each ",(0,c.jsx)(s.A,{inline:!0,children:"\\( F_k \\)"})," term for ",(0,c.jsx)(s.A,{inline:!0,children:"\\( 0 < k < \\frac{N}{2} \\)"})," will have an ",(0,c.jsx)(s.A,{inline:!0,children:"\\( F_{N-k} \\)"})," match. Thus, we can write ",(0,c.jsx)(s.A,{inline:!0,children:"\\( y_n \\)"})," as",(0,c.jsx)(s.A,{className:"math-container",children:"\\[\n              y_n = \n              \\begin{cases}\n                \\frac{1}{N}\\left(F_0 + \\sum^{\\frac{N}{2}-1}_{k=1}\\left( F_k e^{\\frac{2\\pi i k n}{N}} + F_{N-k} e^{\\frac{2\\pi i n(N-k)}{N}}\\right) + F_{\\frac{N}{2}}e^{\\pi i n}\\right) & \\text{if } N \\text{ is even} \\\\\n                \\frac{1}{N}\\left(F_0 + \\sum^{\\frac{N-1}{2}}_{k=1}\\left( F_k e^{\\frac{2\\pi i k n}{N}} + F_{N-k} e^{\\frac{2\\pi i n(N-k)}{N}}\\right) \\right) & \\text{if } N \\text{ is odd} \n              \\end{cases}\n            \\]"}),"Now, we'll focus on simplifying ",(0,c.jsx)(s.A,{inline:!0,children:"\\( F_0 \\)"}),", ",(0,c.jsx)(s.A,{inline:!0,children:"\\( F_{\\frac{N}{2}}e^{\\pi i n} \\)"}),", and ",(0,c.jsx)(s.A,{inline:!0,children:"\\( F_k e^{\\frac{2\\pi i k n}{N}} + F_{N-k} e^{\\frac{2\\pi i n(N-k)}{N}}\\)"}),". Using the Fourier transform equation, we have that ",(0,c.jsx)(s.A,{inline:!0,children:"\\( F_0 = \\sum^{N-1}_{m=0}y_m  \\)"}),", which means ",(0,c.jsx)(s.A,{inline:!0,children:"\\( \\frac{1}{N}F_0 \\)"})," is simply the average all the ",(0,c.jsx)(s.A,{inline:!0,children:"\\( y_n  \\)"}),"'s. We also have that",(0,c.jsx)(s.A,{className:"math-container",children:"\\[\n              \\begin{aligned}\n                F_{\\frac{N}{2}}e^{\\pi i n} &=  \\left(\\sum^{N-1}_{m=0}y_m e^{-\\pi i m}\\right)e^{\\pi i n} \\\\\n                &=  \\sum^{N-1}_{m=0}y_m e^{\\pi i(n-m)} \\\\\n                &=  \\sum^{N-1}_{m=0}y_m (-1)^{n-m} \\\\\n              \\end{aligned}\n            \\]"}),"Turning to ",(0,c.jsx)(s.A,{inline:!0,children:"\\( F_k e^{\\frac{2\\pi i k n}{N}} + F_{N-k} e^{\\frac{2\\pi i n(N-k)}{N}} \\)"}),", we can write",(0,c.jsx)(s.A,{className:"math-container",children:"\\[\n              \\begin{aligned}\n                F_k e^{\\frac{2\\pi i k n}{N}} + F_{N-k} e^{\\frac{2\\pi i n(N-k)}{N}} &= \\left(\\sum^{N-1}_{m=0}y_m e^{\\frac{-2\\pi i k m}{N}} \\right) e^{\\frac{2\\pi i k n}{N}} + \\left(\\sum^{N-1}_{m=0}y_m e^{\\frac{-2\\pi i m(N-k)}{N}} \\right)  e^{\\frac{2\\pi i n(N-k)}{N}} \\\\\n                &= \\sum^{N-1}_{m=0}y_m \\left(e^{\\frac{2\\pi i k(n-m)}{N}} +  e^{\\frac{2\\pi i (N-k)(n-m)}{N}} \\right) \\\\\n                &= \\sum^{N-1}_{m=0}y_m \\left(e^{\\frac{2\\pi i k(n-m)}{N}} +  e^{2\\pi i (n-m)}e^{\\frac{-2\\pi i k(n-m)}{N}} \\right) \\\\\n                &= \\sum^{N-1}_{m=0}2y_m \\cos \\left(\\frac{2 \\pi k (n-m)}{N} \\right)\n              \\end{aligned}\n            \\]"}),"Putting everything together, we have the following equation for ",(0,c.jsx)(s.A,{inline:!0,children:"\\( y_n  \\)"}),":",(0,c.jsx)(s.A,{className:"math-container",children:"\\[\n              y_n = \n              \\begin{cases}\n                \\frac{1}{N}\\sum^{N-1}_{m=0}y_m \\left(1 + 2\\sum^{\\frac{N}{2}-1}_{k=1}\\cos \\left(\\frac{2 \\pi k (n-m)}{N} \\right) +  (-1)^{n-m}\\right) & \\text{if } N \\text{ is even} \\\\\n                \\frac{1}{N}\\sum^{N-1}_{m=0}y_m\\left(1 + 2\\sum^{\\frac{N-1}{2}}_{k=1} \\cos \\left(\\frac{2 \\pi k (n-m)}{N} \\right) \\right) & \\text{if } N \\text{ is odd} \n              \\end{cases}\n            \\]"})]}),(0,c.jsxs)("p",{children:["The above equation will exactly return each ",(0,c.jsx)(s.A,{inline:!0,children:"\\( y_n  \\)"}),". We can approximate each ",(0,c.jsx)(s.A,{inline:!0,children:"\\( y_n  \\)"})," by ordering terms according to their frequency content starting with ",(0,c.jsx)(s.A,{inline:!0,children:"\\( F_0  \\)"})," and then using only some of the terms. Note that ",(0,c.jsx)(s.A,{inline:!0,children:"\\( \\cos \\left(\\frac{2 \\pi k (n-m)}{N} \\right) \\)"})," completes ",(0,c.jsx)(s.A,{inline:!0,children:"\\( k \\)"})," cycles over our sample of ",(0,c.jsx)(s.A,{inline:!0,children:"\\( N \\)"})," discrete values. Thus, we can order our terms from lowest to highest frequency as follows:"]}),(0,c.jsx)("div",{className:"table-wrapper",children:(0,c.jsxs)("table",{className:"my-table",children:[(0,c.jsxs)("thead",{children:[(0,c.jsxs)("tr",{className:"table-row table-group-header",children:[(0,c.jsxs)("th",{className:"table-entry-head",colSpan:3,children:["Even ",(0,c.jsx)(s.A,{inline:!0,children:"\\( N  \\)"})]}),(0,c.jsxs)("th",{className:"table-entry-head",colSpan:3,children:["Odd ",(0,c.jsx)(s.A,{inline:!0,children:"\\( N  \\)"})]})]}),(0,c.jsxs)("tr",{className:"table-row table-column-label",children:[(0,c.jsx)("th",{className:"table-entry-head",children:"Order"}),(0,c.jsxs)("th",{className:"table-entry-head",children:[(0,c.jsx)(s.A,{inline:!0,children:"\\( F_k \\)"}),"'s"]}),(0,c.jsx)("th",{className:"table-entry-head",children:"Term"}),(0,c.jsx)("th",{className:"table-entry-head",children:"Order"}),(0,c.jsxs)("th",{className:"table-entry-head",children:[(0,c.jsx)(s.A,{inline:!0,children:"\\( F_k \\)"}),"'s"]}),(0,c.jsx)("th",{className:"table-entry-head",children:"Term"})]})]}),(0,c.jsxs)("tbody",{children:[(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{className:"table-entry",children:"1"}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(s.A,{inline:!0,children:"\\( F_0 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:"1"}),(0,c.jsx)("td",{className:"table-entry",children:"1"}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(s.A,{inline:!0,children:"\\( F_0 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:"1"})]}),(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{className:"table-entry",children:"2"}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(s.A,{inline:!0,children:"\\( F_1/F_{N-1} \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(s.A,{inline:!0,children:"\\( 2 \\cos\\left(\\frac{2 \\pi(n-m)}{N}\\right) \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:"2"}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(s.A,{inline:!0,children:"\\( F_1/F_{N-1} \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(s.A,{inline:!0,children:"\\( 2 \\cos\\left(\\frac{2 \\pi(n-m)}{N}\\right) \\)"})})]}),(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(s.A,{inline:!0,children:"\\( \\vdots\\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(s.A,{inline:!0,children:"\\( \\vdots \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(s.A,{inline:!0,children:"\\( \\vdots \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(s.A,{inline:!0,children:"\\( \\vdots \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(s.A,{inline:!0,children:"\\( \\vdots \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(s.A,{inline:!0,children:"\\( \\vdots \\)"})})]}),(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(s.A,{inline:!0,children:"\\( \\frac{N}{2}\\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(s.A,{inline:!0,children:"\\( F_{\\frac{N}{2}-1}/F_{\\frac{N}{2} + 1} \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(s.A,{inline:!0,children:"\\( 2 \\cos\\left(\\frac{ 2\\pi\\left(\\frac{N}{2} - 1\\right)(n-m)}{N}\\right) \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(s.A,{inline:!0,children:"\\( \\frac{N+ 1}{2} \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(s.A,{inline:!0,children:"\\( F_{\\frac{N-1}{2}}/F_{\\frac{N+1}{2}} \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(s.A,{inline:!0,children:"\\( 2 \\cos\\left(\\frac{2\\pi\\left(\\frac{N-1}{2}\\right) (n-m)}{N}\\right) \\)"})})]}),(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{children:(0,c.jsx)(s.A,{inline:!0,children:"\\( \\frac{N}{2} + 1\\)"})}),(0,c.jsx)("td",{children:(0,c.jsx)(s.A,{inline:!0,children:"\\( F_{\\frac{N}{2}} \\)"})}),(0,c.jsx)("td",{children:(0,c.jsx)(s.A,{inline:!0,children:"\\( (-1)^{n-m} \\)"})})]})]})]})}),(0,c.jsxs)("p",{children:["Using this ordering, we can write the approximation of ",(0,c.jsx)(s.A,{inline:!0,children:"\\( y_n  \\)"})," using ",(0,c.jsx)(s.A,{inline:!0,children:"\\( s  \\)"})," terms (where ",(0,c.jsx)(s.A,{inline:!0,children:"\\( s \\in \\{1,2,\\dots, \\frac{N}{2} + 1\\}  \\)"})," if ",(0,c.jsx)(s.A,{inline:!0,children:"\\( N \\)"})," is even and ",(0,c.jsx)(s.A,{inline:!0,children:"\\( s \\in \\{1,2,\\dots, \\frac{N+1}{2}\\}  \\)"})," if ",(0,c.jsx)(s.A,{inline:!0,children:"\\( N \\)"})," is odd) as",(0,c.jsx)(s.A,{className:"math-container",children:"\\[\n              y_{n,s} = \n              \\begin{cases}\n                \\frac{1}{N}\\sum^{N-1}_{m=0}y_m \\left(1 + 2\\sum^{\\min \\left\\{s-1, \\frac{N}{2}-1\\right\\}}_{k=1}\\cos \\left(\\frac{2 \\pi k (n-m)}{N} \\right) +  1_{\\left\\{s=\\frac{N}{2} + 1\\right\\}}(-1)^{n-m}\\right) & \\text{if } N \\text{ is even} \\\\\n                \\frac{1}{N}\\sum^{N-1}_{m=0}y_m\\left(1 + 2\\sum^{s-1}_{k=1} \\cos \\left(\\frac{2 \\pi k (n-m)}{N} \\right) \\right) & \\text{if } N \\text{ is odd} \n              \\end{cases}\n            \\]"})]}),(0,c.jsx)("p",{className:"heading2",children:"Numerical Example"}),(0,c.jsxs)("p",{children:["Suppose we have four data points: ",(0,c.jsx)(s.A,{inline:!0,children:"\\( (0,1), (1,2), (2,1), (3,4) \\)"}),". Let's approximate these data points using the first 2 terms from our discrete Fourier transform approximation. Here, we have ",(0,c.jsx)(s.A,{inline:!0,children:"\\( N =4 \\)"})," and ",(0,c.jsx)(s.A,{inline:!0,children:"\\( s=2 \\)"}),", which gives us",(0,c.jsx)(s.A,{className:"math-container",children:"\\[\n              y_{n,2} = \\frac{1}{4}\\sum^{3}_{m=0}y_m \\left(1 + 2\\cos \\left(\\frac{\\pi}{2}(n-m) \\right) \\right)\n            \\]"}),"Solving for each ",(0,c.jsx)(s.A,{inline:!0,children:"\\( y  \\)"})," value, we have",(0,c.jsx)(s.A,{className:"math-container",children:"\\[\n              \\begin{aligned}\n                y_{0,2} &= \\frac{1}{4}(3y_0 + y_1 - y_2 + y_3) = 2 \\\\\n                y_{1,2} &= \\frac{1}{4}(y_0 + 3y_1 + y_2 - y_3) = 1 \\\\\n                y_{2,2} &= \\frac{1}{4}(- y_0 + y_1 + 3y_2 + y_3) = 2 \\\\\n                y_{3,2} &= \\frac{1}{4}(y_0 - y_1 + y_2 + 3y_3) = 3\n              \\end{aligned}\n            \\]"})]}),(0,c.jsx)("p",{className:"heading2",children:"Graph"}),(0,c.jsx)("p",{children:"The graph below shows how a discrete Fourier transform can be used to approximate data. Note that the approximation with only one term simply gives the average of the data. As you increase the number of terms, the approximation more closely fits the data."}),(0,c.jsxs)("div",{className:"graph-container",style:{paddingTop:"20px"},children:[(0,c.jsx)(o.default,{terms:e}),(0,c.jsx)("div",{className:"input-container",children:(0,c.jsxs)("div",{className:"button-padding",style:{display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,c.jsx)("p",{children:"Number of Terms:"}),(0,c.jsxs)("div",{children:[(0,c.jsx)("button",{onClick:()=>t((e=>Math.max(1,e-1))),children:"\u25c0"}),(0,c.jsx)("span",{style:{margin:"0 10px"},children:e}),(0,c.jsx)("button",{onClick:()=>t((e=>Math.min(20,e+1))),children:"\u25b6"})]})]})})]})]}),(0,c.jsx)(l.A,{group:"Fourier"}),(0,c.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,c.jsx)(i.k2,{className:"TD-link",to:"/fourier",children:"Contents"})})]})}},490:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var a=n(5043),i=n(6980),r=n(579);const s=e=>{let{N:t,graph:n}=e;const s=(0,a.useRef)();return(0,a.useEffect)((()=>{const e=-4,a=i.Ltv(s.current).attr("width",600).attr("height",400).style("overflow","visible");a.selectAll("*").remove();const r=i.m4Y().domain([e,4]).range([50,550]),l=i.m4Y().domain([-1.5,1.5]).range([350,50]),o=i.l78(r).ticks(10).tickFormat(""),c=i.V4s(l).ticks(5).tickFormat("");function h(e,t,n,a){let i=0;for(let r=1;r<=t;r++)i+=Math.sin(2*Math.PI*(2*r-1)*e/n)/(2*r-1);return a*i*4/Math.PI}function d(e,t,n,a){let i=0;for(let r=1;r<=t;r++)i+=Math.pow(-1,r-1)*Math.sin(2*Math.PI*r*e/n)/r;return 1*n*i/Math.PI}function u(e,t,n,a){let i=0;for(let r=1;r<=t;r++)i+=Math.cos(2*Math.PI*(2*r-1)*e/n)/Math.pow(2*r-1,2);return a*n*i*2/Math.pow(Math.PI,2)}a.append("g").attr("transform","translate(0,".concat(l(0),")")).call(o),a.append("g").attr("transform","translate(".concat(r(0),",0)")).call(c);const p=[],f=[];if("box"==="".concat(n)){for(let t=e;t<=4;t+=.01){const e=(t%2+2)%2<1?1:-1;p.push({x:t,y:e})}for(let n=e;n<=4;n+=.01)f.push({x:n,y:h(n,t,2,1)})}if("saw"==="".concat(n)){for(let t=e;t<=4;t+=.01){const e=1*(((t-1)%2+2)%2-1);p.push({x:t,y:e})}for(let n=e;n<=4;n+=.01)f.push({x:n,y:d(n,t,2)})}if("triangle"==="".concat(n)){for(let t=e;t<=4;t+=.01){const e=(t%2+2)%2;let n;n=e<1?2*(.5-e):2*(e-1.5),p.push({x:t,y:n})}for(let n=e;n<=4;n+=.01)f.push({x:n,y:u(n,t,2,2)})}const m=i.n8j().x((e=>r(e.x))).y((e=>l(e.y))).curve(i.UPb);a.append("path").datum(p).attr("fill","none").attr("stroke","red").attr("stroke-width",2).attr("stroke-dasharray","5,5").attr("d",m);const x=i.n8j().x((e=>r(e.x))).y((e=>l(e.y))).curve(i.qrM);a.append("path").datum(f).attr("fill","none").attr("stroke","steelblue").attr("stroke-width",2).attr("d",x),a.append("line").style("stroke","red").attr("stroke-width",2).attr("stroke-dasharray","5,5").attr("x1",150).attr("y1",20).attr("x2",165).attr("y2",20),a.append("line").style("stroke","steelblue").attr("stroke-width",2).attr("x1",150).attr("y1",40).attr("x2",165).attr("y2",40),a.append("text").attr("x",170).attr("y",20).text("Function").style("font-size","15px").attr("alignment-baseline","middle"),a.append("text").attr("x",170).attr("y",40).text("Approximation").style("font-size","15px").attr("alignment-baseline","middle")}),[t,n]),(0,r.jsx)("svg",{ref:s})}},8206:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});n(5043),n(4077);var a=n(5475),i=n(2638),r=n(579);const s=function(){return(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)(i.A,{group:"Misc"}),(0,r.jsx)("p",{className:"heading1",children:"Miscellaneous"}),(0,r.jsx)("div",{style:{display:"flex",paddingLeft:"10vw"},children:(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Misc-link",to:"/stats",children:"Statistics"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"Misc-sublink",to:"/stats/single_random_variable",children:"Single Random Variable"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"Misc-sublink",to:"/stats/multiple_random_variable",children:"Multiple Random Variables"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"Misc-sublink",to:"/stats/samples",children:"Samples"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"Misc-sublink",to:"/stats/regression",children:"Regression"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"Misc-sublink",to:"/stats/multivariate_regression",children:"Regression with Multiple Variables"})})]})]}),(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Misc-link",to:"/mortgages",children:"Mortgages"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"Misc-sublink",to:"/mortgages/points",children:"Points"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"Misc-sublink",to:"/mortgages/points_calculator",children:"Points Calculator"})})]})]}),(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Misc-link",to:"/fourier",children:"Fourier Transform"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"Misc-sublink",to:"/fourier/complex_numbers",children:"Complex Numbers"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"Misc-sublink",to:"/fourier/series",children:"Fourier Series"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"Misc-sublink",to:"/fourier/transform",children:"Fourier Transform"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"Misc-sublink",to:"/fourier/heat_equation",children:"Heat Equation"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"Misc-sublink",to:"/fourier/discrete",children:"Discrete Fourier Transform"})})]})]})]})}),(0,r.jsx)(i.A,{group:"Misc"})]})}},835:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});n(5043),n(5828);var a=n(5475),i=n(2638),r=n(579);const s=function(){return(0,r.jsxs)("div",{className:"Mortgages",children:[(0,r.jsx)(i.A,{group:"Mortgages"}),(0,r.jsx)("p",{className:"heading1",children:"Mortgages"}),(0,r.jsx)("div",{style:{display:"flex",paddingLeft:"10vw"},children:(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Mortgages-link",to:"/mortgages/points",children:"Mortgage Points"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"Mortgages-content",children:"Monthly Payment Savings"}),(0,r.jsx)("li",{className:"Mortgages-content",children:"Home Equity"}),(0,r.jsx)("li",{className:"Mortgages-content",children:"Time Discounting"}),(0,r.jsx)("li",{className:"Mortgages-content",children:"Alternative Setup"}),(0,r.jsx)("li",{className:"Mortgages-content",children:"Decision Rule Comparisons"}),(0,r.jsx)("li",{className:"Mortgages-content",children:"Taxes"})]})]}),(0,r.jsx)("div",{className:"content-group",children:(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Mortgages-link",to:"/mortgages/points_calculator",children:"Mortgage Points Calculator"})})})]})}),(0,r.jsx)(i.A,{group:"Mortgages"})]})}},5372:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});n(5043),n(5828);var a=n(4257),i=n(7971),r=n(2638),s=n(579);const l=function(){return(0,s.jsxs)("div",{className:"Mortgages",children:[(0,s.jsx)(r.A,{group:"Mortgages"}),(0,s.jsx)("p",{className:"heading1",children:"Mortgage Points"}),(0,s.jsxs)(a.A,{children:[(0,s.jsx)("p",{children:"Mortgage points allow borrowers to reduce their mortgage rate by a specified amount (usually 12 to 25 basis points per mortgage point) in exchange for an upfront fee. Each point costs 1% of the loan amount."}),(0,s.jsxs)("p",{children:["Suppose you have a $100,000 loan with a 5% interest rate. If each point reduces your rate by 15 basis points, then purchasing one point would cost ",(0,s.jsx)(i.A,{inline:!0,children:"\\( \\frac{\\$100,000}{100} = \\$1,000 \\)"})," and reduce your rate to ",(0,s.jsx)(i.A,{inline:!0,children:"\\( 0.05 - 0.0015 = 4.85\\% \\)"}),"."]}),(0,s.jsxs)("p",{children:["Lenders typically allow borrowers to purchase fractional points, but borrowers cannot buy unlimited points. Suppose you could buy unlimited points. Using the above example, you could buy ",(0,s.jsx)(i.A,{inline:!0,children:"\\( 33\\frac{1}{3} \\)"})," points for ",(0,s.jsx)(i.A,{inline:!0,children:"\\( 33\\frac{1}{3}\\times \\frac{100000}{100} = $33,333.33 \\)"})," and walk away with a zero-interest loan ",(0,s.jsx)(i.A,{inline:!0,children:"\\( \\left(0.05 - \\left(33\\frac{1}{3}\\right)(0.0015) = 0\\right)\\)"}),"."]}),(0,s.jsx)("p",{children:"In general, purchasing points is only a good idea if you plan on staying with your mortgage for a long time. If you think you might sell your house or refinance within a few years, you probably shouldn't buy points. However, the exact amount of time you must stay with your mortgage to justify purchasing points depends on a number of different factors. Let's think through a few ways to formulate the problem."}),(0,s.jsxs)("p",{children:["Before we jump in, let's set some notation. We'll consider a ",(0,s.jsx)(i.A,{inline:!0,children:"\\( T \\)"}),"-month loan of $",(0,s.jsx)(i.A,{inline:!0,children:"\\( P \\)"})," at a monthly rate of ",(0,s.jsx)(i.A,{inline:!0,children:"\\( (r\\times100)\\% \\)"}),". We'll consider buying ",(0,s.jsx)(i.A,{inline:!0,children:"\\( m \\)"})," points that each reduce the monthly rate by ",(0,s.jsx)(i.A,{inline:!0,children:"\\( ((\\delta\\times 100)\\times 100) \\)"})," basis points. Finally, let's say that you actually stay with the mortgage for ",(0,s.jsx)(i.A,{inline:!0,children:"\\( T' \\)"})," months."]}),(0,s.jsx)("p",{className:"heading2",children:"Monthly Payment Savings"}),(0,s.jsxs)("p",{children:["One way to decide whether to buy points is to compare the total cost of the points to the total monthly payment savings during the period you stay with the mortgage. If you don't purchase points, the monthly payment is given by",(0,s.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n             M = \\frac{Pr}{1 - (1+r)^{-T}}\n            \\end{aligned}\n          \\]"}),"If you do purchase points, your new rate is given by ",(0,s.jsx)(i.A,{inline:!0,children:"\\( r - m\\delta \\)"}),", which leads to the following monthly payment",(0,s.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n             M' = \\frac{P(r-m\\delta)}{1 - (1+r - m\\delta)^{-T}}\n            \\end{aligned}\n          \\]"}),"The decision rule here is to purchase points if the total savings is greater than the cost of the points, or if",(0,s.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              T'(M - M') > \\frac{mP}{100} \\quad\\quad\\quad  &\\text{(1)} \n            \\end{aligned}\n          \\]"}),"The threshold point, or the minimum number of months you must stay with the mortgage to justify purchasing points, is given by",(0,s.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              T' = \\frac{m\\left[1 - (1+r)^{-T}\\right]\\left[1 - (1+r-m\\delta)^{-T}\\right]}{100\\left[m\\delta +(1+r)^{-T}(r-m\\delta) - r(1+r-m\\delta)^{-T}\\right]} \n            \\end{aligned}\n          \\]"}),"This rule is fairly simple and gives a nice, closed-form solution for the minimum number of months we need to justify purchasing points, but it has some drawbacks. This rule does not account for (1) equity, (2) time discounting, or (3) taxes."]}),(0,s.jsx)("p",{className:"heading2",children:"Home Equity"}),(0,s.jsxs)("p",{children:["Buying points not only reduces the monthly payment but also changes the amortization path of the loan. In other words, you may build equity over time differently in a world where you purchase points than in a world where you don't purchase points. To account for this, let's first find a formula for the remaining balance of the loan at month ",(0,s.jsx)(i.A,{inline:!0,children:"\\( t \\)"}),":",(0,s.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n                B_0 &= P \\\\\n                B_1 &= (1+r)B_0 - M = (1+r)P - M \\\\\n                B_2 &= (1+r)B_1 - M = (1+r)^2P - M[(1+r) + 1]\\\\\n                B_3 &= (1+r)B_2 - M = (1+r)^3P - M[(1+r)^2 + (1+r) + 1]\\\\\n                \\vdots \\\\\n                B_t &= (1+r)^tP - M[(1+r)^{t-1} + \\dots + (1+r) + 1]\\\\\n                &= (1+r)^tP - M\\sum^{t-1}_{j=0} (1+r)^j \\\\\n                &= (1+r)^tP - M\\left(\\frac{(1+r)^t-1}{r}\\right)\n            \\end{aligned}\n          \\]"}),"If ",(0,s.jsx)(i.A,{inline:!0,children:"\\(  M = \\frac{Pr}{1 - (1+r)^{-T}} \\)"}),", this further reduces to",(0,s.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n                B_t = P\\left(\\frac{(1+r)^T - (1+r)^t}{(1+r)^T - 1}\\right)\n            \\end{aligned}\n          \\]"}),"The difference in equity is given by the difference between the balance without points and the balance with points at the time of exit ",(0,s.jsx)(i.A,{inline:!0,children:"\\( (B_{T'} - B'_{T'}) \\)"}),". Including this in the decision rule, it is better to buy points if",(0,s.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              T'(M - M') + (B_{T'} - B'_{T'}) > \\frac{mP}{100}  \\quad\\quad\\quad  &\\text{(2)} \n            \\end{aligned}\n          \\]"})]}),(0,s.jsx)("p",{className:"heading2",children:"Time Discounting"}),(0,s.jsxs)("p",{children:["Up to this point, we have ignored the fact that the savings from purchasing points occurs at later points in time than the initial fee to purchase points. To make a valid comparison, we must discount everything back to its present value at the beginning of the mortgage. Let's assume the borrower has a discount rate of ",(0,s.jsx)(i.A,{inline:!0,children:"\\( (i\\times100)\\% \\)"}),". The decision rule now becomes to buy points if",(0,s.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              \\sum^{T'}_{t=1}\\frac{M - M'}{(1+i)^t} + \\frac{B_{T'} - B'_{T'}}{(1+i)^{T'}} > \\frac{mP}{100}\n            \\end{aligned}\n          \\]"}),"or if",(0,s.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              (M - M')\\left(\\frac{1-(1+i)^{-T'}}{i}\\right) + \\frac{B_{T'} - B'_{T'}}{(1+i)^{T'}} > \\frac{mP}{100} \\quad\\quad\\quad  &\\text{(3)} \n            \\end{aligned}\n          \\]"})]}),(0,s.jsx)("p",{className:"heading2",children:"Alternative Setup"}),(0,s.jsx)("p",{children:"Time discounting gives us a more accurate decision rule, but it comes at the cost of a more complicated setup. It also forces us to decide on a discount rate for the borrower. The mortgage rate seems like a natural choice for the borrower's discount rate, but which mortgage rate? The before-points rate or the after-points rate?"}),(0,s.jsxs)("p",{children:["Let's consider a more intuitive setup that will simplify some things. Instead of deciding whether to purchase points or not purchase points, suppose the borrower is deciding between (1) purchasing points and (2) increasing their down payment by the exact amount that they would have spent on points. In other words, the borrower can either (1) reduce their rate to ",(0,s.jsx)(i.A,{inline:!0,children:"\\( r - m\\delta \\)"})," or (2) reduce the loan principal to ",(0,s.jsx)(i.A,{inline:!0,children:"\\( P - m\\frac{P}{100}\\)"}),"."]}),(0,s.jsx)("p",{children:"In addition, let's assume that, under either choice, the borrower makes the same monthly payment. To do this, we'll say that the borrower slightly increases the amount they are required to pay if they purchase points to match the amount that they would have been required to pay had they not purchased points (the extra goes toward paying down the principal)."}),(0,s.jsxs)("p",{children:["With these assumptions in place, we've eliminated the need for time discounting. The borrower makes the same initial payment (either toward points or an increased down payment) and the same monthly payments. The only meaningful difference is the amount of equity the borrower has when they exit the mortgage. Thus, the decision rule is to buy points if the remaining balance with points is less than the remaining balance without points, or if",(0,s.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              B^p_{T'} < B^d_{T'} \\quad\\quad\\quad  &\\text{(4)} \n            \\end{aligned}\n          \\]"}),"where",(0,s.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              B^p_{T'} &= (1+r-m\\delta)^{T'}P - M\\left(\\frac{(1+r-m\\delta)^{T'}-1}{r-m\\delta}\\right) \\\\\n              B^d_{T'} &= (1+r)^{T'}P\\left(1 - \\frac{m}{100}\\right) - M\\left(\\frac{(1+r)^{T'}-1}{r}\\right)  \\\\\n                M &= \\frac{P\\left(1 - \\frac{m}{100}\\right)r}{1 - (1+r)^{-T}}\n            \\end{aligned}\n          \\]"})]}),(0,s.jsx)("p",{className:"heading2",children:"Decision Rule Comparisons"}),(0,s.jsx)("p",{children:"Let's compare the four decision rules given by inequalities (1)-(4). To recap, decision rule #1 says to buy points if the total nominal monthly payment savings is greater than the cost of the points. Decision rule #2 says to buy points if the total nominal monthly payment savings plus the total increase in home equity is greater than the cost of the points. Decision rule #3 adds time discounting to move the nominal monthly payment savings and increased home equity back to present value at the time of point purchase. For this decision rule, we'll assume that the borrower uses a discount rate equal to the mortgage rate without purchasing points. Finally, decision rule #4 assumes that, if the borrower doesn't buy points, they instead put that money toward an increased down payment. In addition, if the borrower does buy points, they voluntarily increase their monthly payment to match what they would have paid had they not purchased the points. Under this decision rule, the borrower should purchase points if the remaining loan balance with points is less than the remaining loan balance without points at the time of exit."}),(0,s.jsxs)("p",{children:["We'll assume the borrower is taking on a 30-year mortgage and deciding whether to purchase a single point. Note that ",(0,s.jsx)(i.A,{inline:!0,children:"\\( P \\)"})," cancels out of each decision rule, so the initial loan amount does not matter. The table entries below give the minimum number of months you would have to stay with the mortgage to justify buying a single point given an initial annual rate, basis point rate reduction, and decision rule."]}),(0,s.jsx)("div",{className:"table-wrapper",children:(0,s.jsxs)("table",{className:"my-table",children:[(0,s.jsxs)("thead",{children:[(0,s.jsxs)("tr",{className:"table-row table-group-header",children:[(0,s.jsx)("th",{className:"table-entry-head-empty",colSpan:2}),(0,s.jsx)("th",{className:"table-entry-head",children:"Rule 1"}),(0,s.jsx)("th",{className:"table-entry-head",children:"Rule 2"}),(0,s.jsx)("th",{className:"table-entry-head",children:"Rule 3"}),(0,s.jsx)("th",{className:"table-entry-head",children:"Rule 4"})]}),(0,s.jsxs)("tr",{className:"table-row table-column-label",children:[(0,s.jsx)("th",{className:"table-entry-head",children:"Annual Rate"}),(0,s.jsx)("th",{className:"table-entry-head",children:"Basis Point Reduction"})]})]}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry"}),(0,s.jsx)("td",{className:"table-entry",children:"15"}),(0,s.jsx)("td",{className:"table-entry",children:"134.12"}),(0,s.jsx)("td",{className:"table-entry",children:"85.70"}),(0,s.jsx)("td",{className:"table-entry",children:"96.45"}),(0,s.jsx)("td",{className:"table-entry",children:"96.69"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry",children:"2%"}),(0,s.jsx)("td",{className:"table-entry",children:"20"}),(0,s.jsx)("td",{className:"table-entry",children:"100.80"}),(0,s.jsx)("td",{className:"table-entry",children:"63.01"}),(0,s.jsx)("td",{className:"table-entry",children:"68.44"}),(0,s.jsx)("td",{className:"table-entry",children:"68.63"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry"}),(0,s.jsx)("td",{className:"table-entry",children:"25"}),(0,s.jsx)("td",{className:"table-entry",children:"80.80"}),(0,s.jsx)("td",{className:"table-entry",children:"49.86"}),(0,s.jsx)("td",{className:"table-entry",children:"53.16"}),(0,s.jsx)("td",{className:"table-entry",children:"53.30"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry-new"}),(0,s.jsx)("td",{className:"table-entry-new",children:"15"}),(0,s.jsx)("td",{className:"table-entry-new",children:"116.18"}),(0,s.jsx)("td",{className:"table-entry-new",children:"82.09"}),(0,s.jsx)("td",{className:"table-entry-new",children:"102.72"}),(0,s.jsx)("td",{className:"table-entry-new",children:"103.03"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry",children:"4%"}),(0,s.jsx)("td",{className:"table-entry",children:"20"}),(0,s.jsx)("td",{className:"table-entry",children:"87.28"}),(0,s.jsx)("td",{className:"table-entry",children:"61.07"}),(0,s.jsx)("td",{className:"table-entry",children:"71.40"}),(0,s.jsx)("td",{className:"table-entry",children:"71.62"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry"}),(0,s.jsx)("td",{className:"table-entry",children:"25"}),(0,s.jsx)("td",{className:"table-entry",children:"69.93"}),(0,s.jsx)("td",{className:"table-entry",children:"48.65"}),(0,s.jsx)("td",{className:"table-entry",children:"54.88"}),(0,s.jsx)("td",{className:"table-entry",children:"55.06"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry-new"}),(0,s.jsx)("td",{className:"table-entry-new",children:"15"}),(0,s.jsx)("td",{className:"table-entry-new",children:"104.06"}),(0,s.jsx)("td",{className:"table-entry-new",children:"80.02"}),(0,s.jsx)("td",{className:"table-entry-new",children:"111.32"}),(0,s.jsx)("td",{className:"table-entry-new",children:"111.70"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry",children:"6%"}),(0,s.jsx)("td",{className:"table-entry",children:"20"}),(0,s.jsx)("td",{className:"table-entry",children:"78.14"}),(0,s.jsx)("td",{className:"table-entry",children:"59.95"}),(0,s.jsx)("td",{className:"table-entry",children:"75.16"}),(0,s.jsx)("td",{className:"table-entry",children:"75.43"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry"}),(0,s.jsx)("td",{className:"table-entry",children:"25"}),(0,s.jsx)("td",{className:"table-entry",children:"62.59"}),(0,s.jsx)("td",{className:"table-entry",children:"47.95"}),(0,s.jsx)("td",{className:"table-entry",children:"57.02"}),(0,s.jsx)("td",{className:"table-entry",children:"57.23"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry-new"}),(0,s.jsx)("td",{className:"table-entry-new",children:"15"}),(0,s.jsx)("td",{className:"table-entry-new",children:"95.88"}),(0,s.jsx)("td",{className:"table-entry-new",children:"78.94"}),(0,s.jsx)("td",{className:"table-entry-new",children:"123.55"}),(0,s.jsx)("td",{className:"table-entry-new",children:"124.02"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry",children:"8%"}),(0,s.jsx)("td",{className:"table-entry",children:"20"}),(0,s.jsx)("td",{className:"table-entry",children:"71.97"}),(0,s.jsx)("td",{className:"table-entry",children:"59.37"}),(0,s.jsx)("td",{className:"table-entry",children:"79.98"}),(0,s.jsx)("td",{className:"table-entry",children:"80.30"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry"}),(0,s.jsx)("td",{className:"table-entry",children:"25"}),(0,s.jsx)("td",{className:"table-entry",children:"57.63"}),(0,s.jsx)("td",{className:"table-entry",children:"47.63"}),(0,s.jsx)("td",{className:"table-entry",children:"59.63"}),(0,s.jsx)("td",{className:"table-entry",children:"59.87"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry-new"}),(0,s.jsx)("td",{className:"table-entry-new",children:"15"}),(0,s.jsx)("td",{className:"table-entry-new",children:"90.38"}),(0,s.jsx)("td",{className:"table-entry-new",children:"78.50"}),(0,s.jsx)("td",{className:"table-entry-new",children:"142.29"}),(0,s.jsx)("td",{className:"table-entry-new",children:"142.88"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry",children:"10%"}),(0,s.jsx)("td",{className:"table-entry",children:"20"}),(0,s.jsx)("td",{className:"table-entry",children:"67.83"}),(0,s.jsx)("td",{className:"table-entry",children:"59.14"}),(0,s.jsx)("td",{className:"table-entry",children:"86.23"}),(0,s.jsx)("td",{className:"table-entry",children:"86.61"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry"}),(0,s.jsx)("td",{className:"table-entry",children:"25"}),(0,s.jsx)("td",{className:"table-entry",children:"54.30"}),(0,s.jsx)("td",{className:"table-entry",children:"47.45"}),(0,s.jsx)("td",{className:"table-entry",children:"62.82"}),(0,s.jsx)("td",{className:"table-entry",children:"63.10"})]})]})]})}),(0,s.jsx)("p",{children:"Note that rule #3 and rule #4 give almost the same answer in each case. Because rule #4 has a more intuitive setup and is considerably simpler than rule #3, I use rule #4 in the decision calculator on the following page. Also note that rule #2 will always overstate the value of points relative to the other rules. Rule #1 will tend to understate the value of points if the initial interest rate is low and overstate the value of points if the initial interest rate is high (as compared with rules #3 and #4). Although rule #1 is relatively easy to implement, it may give an answer that is considerably different from rules #3 and #4. For example, with an initial 8% interest rate and a 15 basis point reduction, rule #1 would tell you that buying a point is worth it as long as you stay with the mortgage for at least 8 years while rules #3 and #4 suggest that you would have to stay with the mortgage for over 10 years to justify purchasing a point."}),(0,s.jsx)("p",{className:"heading2",children:"Taxes"}),(0,s.jsxs)("p",{children:["If you itemize deductions, mortgage interest payments reduce your taxable income. Suppose your marginal tax rate is ",(0,s.jsx)(i.A,{inline:!0,children:"\\( \\tau \\)"}),". If you pay ",(0,s.jsx)(i.A,{inline:!0,children:"\\( Ar \\)"})," in mortgage interest, you have a tax savings of ",(0,s.jsx)(i.A,{inline:!0,children:"\\( (Ar)\\tau \\)"}),". This makes your net, after-tax loss only ",(0,s.jsx)(i.A,{inline:!0,children:"\\( Ar - (Ar)\\tau = Ar(1-\\tau)\\)"}),". Thus, we can account for taxes by using the effective, after-tax rate ",(0,s.jsx)(i.A,{inline:!0,children:"\\( r(1-\\tau) \\)"}),"."]})]}),(0,s.jsx)(r.A,{group:"Mortgages"})]})}},1461:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var a=n(5043),i=(n(5828),n(5475)),r=n(4257),s=n(2638),l=n(865),o=n(579);const c=function(){const[e,t]=(0,a.useState)(100),[n,c]=(0,a.useState)(100),[h,d]=(0,a.useState)(.05),[u,p]=(0,a.useState)(.5);return(0,o.jsxs)("div",{className:"Mortgages",children:[(0,o.jsx)(s.A,{group:"Mortgages"}),(0,o.jsxs)(r.A,{children:[(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingTop:"20px"},children:(0,o.jsx)(l.default,{})}),(0,o.jsx)("p",{children:"Use the calculator above to determine the minimum amount of time you must stay with your mortgage to justify buying points. The decision rule weighs the following options: (1) purchase points and (2) use the amount of money that you would have spent on points to increase your down payment. The decision rule also assumes that if you do buy points, you voluntarily increase your monthly payment to match what you would have been required to pay each month had you not bought points."})]}),(0,o.jsx)(s.A,{group:"Mortgages"}),(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,o.jsx)(i.k2,{className:"BS-link",to:"/mortgages",children:"Contents"})})]})}},865:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(5043),i=n(579);const r=()=>{const[e,t]=(0,a.useState)(0),[n,r]=(0,a.useState)(25),[s,l]=(0,a.useState)(6),[o,c]=(0,a.useState)(1),[h,d]=(0,a.useState)(30),[u,p]=(0,a.useState)(null),[f,m]=(0,a.useState)("");const x=(e,t)=>e/(1-(1+e)**-t);return(0,i.jsxs)("div",{style:{textAlign:"center",padding:"20px",maxWidth:"400px",margin:"auto",border:"1px solid black",borderRadius:"10px"},children:[(0,i.jsx)("h2",{children:"Mortgage Points Decision Calculator"}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,i.jsxs)("label",{children:["Annual Interest Rate (percent):",(0,i.jsx)("input",{type:"number",value:s,onChange:e=>l(parseFloat(e.target.value)),min:"0.1",max:"99",step:".1"})]}),(0,i.jsxs)("label",{children:["Basis Point Reduction in Rate:",(0,i.jsx)("input",{type:"number",value:n,onChange:e=>r(parseFloat(e.target.value)),min:"1",max:"9999",step:"1"})]}),(0,i.jsxs)("label",{children:["Number of Mortgage Points:",(0,i.jsx)("input",{type:"number",value:o,onChange:e=>c(parseFloat(e.target.value)),min:"0.1",max:"99",step:"0.1"})]}),(0,i.jsxs)("label",{children:["Loan Term (years):",(0,i.jsx)("input",{type:"number",value:h,onChange:e=>d(parseFloat(e.target.value)),min:"5",max:"100",step:"5"})]}),(0,i.jsxs)("label",{children:["Marginal Tax Rate (percent):",(0,i.jsx)("input",{type:"number",value:e,onChange:e=>t(parseFloat(e.target.value)),min:"0",max:"99",step:"0.1"})]}),(0,i.jsx)("button",{onClick:()=>{if(m(""),isNaN(e)||isNaN(n)||isNaN(s)||isNaN(o)||isNaN(h)||e<0||n<=0||s<=0||o<=0||h<=0)return void m("Inputs must be non-negative numbers.");if(s>100||e>100)return void m("Rate too high.");if(n>9999)return void m("Basis point reduction too high.");if(o>99)return void m("Number of points too high.");const t=12*h,a=(s/100/12-o*(n/1e4/12))*(1-e/100),i=s/100/12*(1-e/100);if(a<=0||i<=0)return void m("Negative effective rate.");x(i,t),x(a,t);const r=function(e,t,n,a){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e-4,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:500,s=e(n),l=e(a);if(s>0&l>0)return m("Never Buy Points"),-1;if(s<0&l<0)return m("Always Buy Points"),-1;let o=(n+a)/2,c=e(o);for(let h=0;h<r;h++){let r,h=t(o);r=Math.abs(h)>1e-12?o-c/h:NaN,(isNaN(r)||r<=n||r>=a)&&(r=(n+a)/2);const d=r,u=e(d);if(s*u<0?(a=d,l=u):(n=d,s=u),Math.abs(d-o)<i)return d;o=d,c=u}return o}((function(e){const n=(1-o/100)*x(i,t);return(1+a)**e-n*(((1+a)**e-1)/a)-((1+i)**e*(1-o/100)-n*(((1+i)**e-1)/i))}),(function(e){const n=(1-o/100)*x(i,t);return Math.log(1+a)*(1+a)**e*(1-n/a)-Math.log(1+i)*(1+i)**e*(n/i-(1-o/100))}),0,t);-1!=r&&p(r.toFixed(2))},style:{marginTop:"10px",padding:"5px",cursor:"pointer"},children:"Calculate Minimum Time"}),f&&(0,i.jsx)("p",{style:{color:"red"},children:f}),!f&&null!==u&&(0,i.jsx)("p",{children:(0,i.jsxs)("strong",{children:[u," months (",(u/12).toFixed(1)," years)"]})})]})]})}},3835:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});n(5043);var a=n(579);const i=40*Math.sqrt(3),r=(e,t,n)=>{const a=[];for(let i=0;i<6;i++){const r=Math.PI/180*(60*i-30);a.push([e+n*Math.cos(r),t+n*Math.sin(r)])}return a.map((e=>e.join(","))).join(" ")},s=e=>{let{x:t,y:n,type:i}=e;return"x"===i?(0,a.jsxs)("g",{stroke:"red",strokeWidth:3,children:[(0,a.jsx)("line",{x1:t-10,y1:n-10,x2:t+10,y2:n+10}),(0,a.jsx)("line",{x1:t+10,y1:n-10,x2:t-10,y2:n+10})]}):(0,a.jsx)("circle",{cx:t,cy:n,r:10,fill:"none",stroke:"blue",strokeWidth:3})},l=e=>{let{numbers:t=[],settlements:n=[]}=e;const l=[];let o=0;return[3,4,5,4,3].forEach(((e,n)=>{const a=250+60*(n-2),r=300-(e-1)*i/2;for(let s=0;s<e;s++)l.push({index:o,x:r+s*i,y:a,number:t[o]}),o++})),(0,a.jsxs)("svg",{width:600,height:500,viewBox:"0 0 600 500",children:[l.map((e=>(0,a.jsxs)("g",{children:[(0,a.jsx)("polygon",{points:r(e.x,e.y,40),fill:"#f5deb3",stroke:"#444",strokeWidth:2}),e.number&&(0,a.jsxs)("g",{children:[(0,a.jsx)("circle",{cx:e.x,cy:e.y,r:14,fill:"#eee",stroke:"#333"}),(0,a.jsx)("text",{x:e.x,y:e.y+5,textAnchor:"middle",fontSize:"14",fontWeight:"bold",fill:"black",children:e.number})]})]},e.index))),n.map(((e,t)=>{const n=l[e.tile];return n?(0,a.jsx)(s,{x:n.x,y:n.y-40,type:e.type},t):null}))]})}},6961:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(5043),i=n(579);const r={1:[[.5,.5]],2:[[.25,.25],[.75,.75]],3:[[.25,.25],[.5,.5],[.75,.75]],4:[[.25,.25],[.75,.25],[.25,.75],[.75,.75]],5:[[.25,.25],[.75,.25],[.5,.5],[.25,.75],[.75,.75]],6:[[.25,.25],[.25,.5],[.25,.75],[.75,.25],[.75,.5],[.75,.75]]},s=e=>{let{value:t,x:n,y:a,size:s,highlighted:l}=e;return(0,i.jsxs)("g",{transform:"translate(".concat(n,", ").concat(a,")"),children:[(0,i.jsx)("rect",{width:s,height:s,rx:6,ry:6,fill:l?"#ffe08a":"white",stroke:"black",strokeWidth:l?2:1}),r[t].map(((e,t)=>{let[n,a]=e;return(0,i.jsx)("circle",{cx:n*s,cy:a*s,r:.07*s,fill:"black"},t)}))]})},l=()=>{const[e,t]=(0,a.useState)(null),[n,r]=(0,a.useState)(null),l=10,o=()=>{t(null),r(null)};return(0,i.jsxs)("div",{style:{position:"relative"},children:[(0,i.jsx)("svg",{width:540,height:300,children:[1,2,3,4,5,6].map(((n,a)=>[1,2,3,4,5,6].map(((c,h)=>{const d=n+c,u=e===d,p=90*h,f=50*a;return(0,i.jsxs)("g",{transform:"translate(".concat(p,", ").concat(f,")"),onMouseEnter:e=>((e,n)=>{t(e),r({x:n.clientX,y:n.clientY,sum:e})})(d,e),onMouseLeave:o,style:{cursor:"pointer"},children:[(0,i.jsx)(s,{value:n,x:l,y:l,size:30,highlighted:u}),(0,i.jsx)(s,{value:c,x:50,y:l,size:30,highlighted:u})]},"".concat(n,"-").concat(c))}))))}),n&&(0,i.jsxs)("div",{style:{position:"fixed",left:n.x+12,top:n.y+12,background:"rgba(0,0,0,0.75)",color:"white",padding:"4px 8px",borderRadius:4,fontSize:12,pointerEvents:"none"},children:["Sum = ",n.sum]})]})}},2378:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});n(5043);var a=n(579);const i=()=>{const e=[{sum:2,count:1},{sum:3,count:2},{sum:4,count:3},{sum:5,count:4},{sum:6,count:5},{sum:7,count:6},{sum:8,count:5},{sum:9,count:4},{sum:10,count:3},{sum:11,count:2},{sum:12,count:1}],t=500,n=300,i=60,r=t/(e.length+1)-13;return(0,a.jsx)("div",{style:{position:"relative"},children:(0,a.jsxs)("svg",{width:t,height:n,children:[e.map(((e,t)=>{const s=e.count/6*250,l=t*(r+10)+i+10,o=n-s-40;return(0,a.jsx)("rect",{x:l,y:o,width:r,height:s,fill:"#69b3a2"},e.sum)})),(0,a.jsx)("line",{x1:i,y1:260,x2:t,y2:260,stroke:"black",strokeWidth:2}),(0,a.jsx)("line",{x1:i,y1:10,x2:i,y2:260,stroke:"black",strokeWidth:2}),[1,2,3,4,5,6].map((e=>{const t=260-e/6*250;return(0,a.jsxs)("g",{children:[(0,a.jsx)("line",{x1:55,x2:i,y1:t,y2:t,stroke:"black"}),(0,a.jsxs)("text",{x:50,y:t+4,fontSize:"12",textAnchor:"end",children:[e,"/36"]})]},e)})),e.map(((e,t)=>{const n=t*(r+10)+10+i+r/2;return(0,a.jsx)("text",{x:n,y:275,textAnchor:"middle",fontSize:"12",children:e.sum},e.sum)})),(0,a.jsx)("text",{x:280,y:295,textAnchor:"middle",fontSize:"14",fontWeight:"bold",children:"Sum of Two Dice"}),(0,a.jsx)("text",{x:45,y:150,transform:"rotate(-90, 15, ".concat(150,")"),textAnchor:"middle",fontSize:"14",fontWeight:"bold",children:"Probability"})]})})}},9706:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(2555),i=n(5043),r=n(6980),s=n(579);const l=[{id:1,stakes:20,hours:10},{id:2,stakes:40,hours:30},{id:3,stakes:60,hours:20},{id:4,stakes:80,hours:30},{id:5,stakes:100,hours:50},{id:6,stakes:120,hours:60},{id:7,stakes:140,hours:80},{id:8,stakes:160,hours:70},{id:9,stakes:180,hours:100},{id:10,stakes:200,hours:90},{id:11,stakes:220,hours:100},{id:12,stakes:240,hours:120}];function o(e){let{width:t=600,height:n=400,showRegression:o=!1,enableDrag:c=!1,showResiduals:h=!1}=e;const d=(0,i.useRef)(),[u,p]=(0,i.useState)((()=>l.map((e=>(0,a.A)({},e))))),f=260,m=e=>{e.length;const t=r.i2o(e,(e=>e.stakes)),n=r.i2o(e,(e=>e.hours));let a=0,i=0;e.forEach((e=>{a+=(e.stakes-t)*(e.hours-n),i+=(e.stakes-t)**2}));const s=a/i;return{slope:s,intercept:n-s*t}};return(0,i.useEffect)((()=>{const e=20,a=50,i=t-a-30,s=n-e-40,l=r.Ltv(d.current);l.selectAll("*").remove();const p=r.m4Y().domain([0,f]).range([0,i]),x=r.m4Y().domain([0,130]).range([s,0]),g=l.append("g").attr("transform","translate(".concat(a,",").concat(e,")"));let y,b;g.append("g").attr("transform","translate(0,".concat(s,")")).call(r.l78(p)),g.append("g").call(r.V4s(x)),g.append("text").attr("x",i/2).attr("y",s+35).attr("text-anchor","middle").text("Case Stakes (in thousands of dollars)"),g.append("text").attr("transform","rotate(-90)").attr("x",-s/2).attr("y",-35).attr("text-anchor","middle").text("Hours Billed"),o&&(y=m(u),b=g.append("line").attr("x1",p(0)).attr("y1",x(y.intercept)).attr("x2",p(f)).attr("y2",x(y.intercept+y.slope*f)).attr("stroke","steelblue").attr("stroke-width",2),c&&b.transition().duration(100).ease(r.yfw));const v=()=>{if(!h||!o)return;g.selectAll(".residual").data(u,(e=>e.id)).join("line").attr("class","residual").attr("stroke","gray").attr("stroke-dasharray","4 2").transition().duration(50).attr("x1",(e=>p(e.stakes))).attr("x2",(e=>p(e.stakes))).attr("y1",(e=>x(e.hours))).attr("y2",(e=>x(y.intercept+y.slope*e.stakes)))};v();const j=r.$Er().on("start",(function(e,t){r.Ltv(this).raise().attr("stroke","black"),r.Ltv(this).raise().attr("stroke","black"),t.isDragging=!0})).on("drag",(function(e,t){if(!c)return;const[n,a]=r.WnM(e,g.node()),l=Math.max(0,Math.min(i,n)),d=Math.max(0,Math.min(s,a));if(r.Ltv(this).attr("cx",l).attr("cy",d),t.stakes=p.invert(l),t.hours=x.invert(d),o){const{slope:e,intercept:t}=m(u);b.attr("y1",x(t)).attr("y2",x(t+e*f)),h&&g.selectAll(".residual").attr("visibility",(e=>e.isDragging?"hidden":"visible")).attr("x1",(e=>p(e.stakes))).attr("x2",(e=>p(e.stakes))).attr("y1",(e=>x(e.hours))).attr("y2",(n=>x(t+e*n.stakes)))}})).on("end",(function(e,t){r.Ltv(this).attr("stroke",null),t.isDragging=!1,g.selectAll(".residual").filter((e=>e.id===t.id)).attr("visibility","visible")}));if(g.selectAll(".point").data(u,(e=>e.id)).join("circle").attr("class","point").attr("r",6).attr("fill","orange").attr("cx",(e=>p(e.stakes))).attr("cy",(e=>x(e.hours))).call(c?j:()=>{}),o&&c){(()=>{const{slope:e,intercept:t}=m(u);b.transition().duration(50).attr("y1",x(t)).attr("y2",x(t+e*f))})(),v()}}),[u,o,c,h,t,n]),(0,s.jsx)("svg",{ref:d,width:t,height:n})}},8483:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});n(5043),n(1204);var a=n(5475),i=n(2638),r=n(579);const s=function(){return(0,r.jsxs)("div",{className:"Stats",children:[(0,r.jsx)(i.A,{group:"Stats"}),(0,r.jsx)("p",{className:"heading1",children:"Statistics"}),(0,r.jsx)("div",{style:{display:"flex",paddingLeft:"10vw"},children:(0,r.jsx)("ul",{className:"toc-list",children:(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Stats-link",to:"/stats/single_random_variable",children:"Single Random Variable"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"Stats-content",children:"Rolling Two Dice"}),(0,r.jsx)("li",{className:"Stats-content",children:"Distribution"}),(0,r.jsx)("li",{className:"Stats-content",children:"Expected Value"}),(0,r.jsx)("li",{className:"Stats-content",children:"Variance"}),(0,r.jsx)("li",{className:"Stats-content",children:"Placing a Settlement"}),(0,r.jsx)("li",{className:"Stats-content",children:"Examples"})]}),(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Stats-link",to:"/stats/multiple_random_variable",children:"Multiple Random Variables"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"Stats-content",children:"Placing a Settlement Revisted"}),(0,r.jsx)("li",{className:"Stats-content",children:"Expected Value"}),(0,r.jsx)("li",{className:"Stats-content",children:"Covariance"}),(0,r.jsx)("li",{className:"Stats-content",children:"Correlation"}),(0,r.jsx)("li",{className:"Stats-content",children:"Examples"})]}),(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Stats-link",to:"/stats/samples",children:"Samples"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"Stats-content",children:"Population vs. Sample"}),(0,r.jsx)("li",{className:"Stats-content",children:"Probabilities and Observations"}),(0,r.jsx)("li",{className:"Stats-content",children:"Sample Statistics"})]}),(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Stats-link",to:"/stats/regression",children:"Regression"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"Stats-content",children:"Relationship Between Two Variables"}),(0,r.jsx)("li",{className:"Stats-content",children:"Fitting a Line"}),(0,r.jsx)("li",{className:"Stats-content",children:"Minimizing Squared Error"}),(0,r.jsx)("li",{className:"Stats-content",children:"Interpreting Slope"})]}),(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Stats-link",to:"/stats/multivariate_regression",children:"Regression with Multiple Variables"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"Stats-content",children:"Matrix Form"}),(0,r.jsx)("li",{className:"Stats-content",children:"Matrix Rules"}),(0,r.jsx)("li",{className:"Stats-content",children:"Matrix Derivatives"}),(0,r.jsx)("li",{className:"Stats-content",children:"Solving for Beta"}),(0,r.jsx)("li",{className:"Stats-content",children:"Single Variable Case"}),(0,r.jsx)("li",{className:"Stats-content",children:"Matrices Simplify Notation"})]})]})})}),(0,r.jsx)(i.A,{group:"Stats"})]})}},380:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});n(5043),n(1204);var a=n(4257),i=n(7971),r=n(2638),s=n(6961),l=n(3835),o=n(2378),c=n(2189),h=n(579);const d=function(){return(0,h.jsxs)("div",{className:"Stats",children:[(0,h.jsx)(r.A,{group:"Stats"}),(0,h.jsx)("p",{className:"heading1",children:"Single Random Variable"}),(0,h.jsxs)(a.A,{children:[(0,h.jsx)("p",{className:"heading2",children:"Rolling Two Dice"}),(0,h.jsxs)("p",{children:["Suppose we are playing the board game ",(0,h.jsx)("i",{children:"Settlers of Catan"}),". At the start of the game, players place settlements next to resource tiles marked with numbers 2 through 12 (excluding 7). Each turn, two dice are rolled. If you own a settlement next to a tile whose number is rolled, you collect resources. If a 7 is rolled, the player who rolled the 7 gets to move the robber and block other players from collecting resources from a given tile."]}),(0,h.jsx)("p",{children:"For example, if the board looked like this and you placed a settlement in the spot marked by the blue circle, you could collect a resource each time someone rolled a 2, 6, or 10."}),(0,h.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"-80px"},children:(0,h.jsx)(l.default,{numbers:[5,2,6,3,8,10,9,12,11,4,8,10,9,4,5,6,3,11],settlements:[{tile:5,type:"circle"}]})}),(0,h.jsx)("p",{children:"Even though we don't know what dice rolls will actually happen in the game, we do know that some dice rolls are more likely than others. We can use this information to build settlements next to tiles that are more likely to produce resources. Consider the 36 different possible outcomes from rolling two dice:"}),(0,h.jsx)("div",{className:"scrollable-container",children:(0,h.jsx)(s.default,{})}),(0,h.jsx)("p",{children:"Hover over a dice pair to see all other pairs with the same total sum. Using these outcomes, we can find the probability of each roll as the total number of ways to produce the roll divided by the total number of possibilities (36)."}),(0,h.jsx)("div",{className:"table-wrapper",children:(0,h.jsxs)("table",{className:"my-table",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{className:"table-entry-head",children:"Dice Roll (Sum)"}),(0,h.jsx)("th",{className:"table-entry-head",children:"Ways to Produce Outcome"}),(0,h.jsx)("th",{className:"table-entry-head",children:"Probability"})]})}),(0,h.jsxs)("tbody",{children:[(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:"2"}),(0,h.jsx)("td",{className:"table-entry",children:"1"}),(0,h.jsx)("td",{className:"table-entry",children:"1/36"})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:"3"}),(0,h.jsx)("td",{className:"table-entry",children:"2"}),(0,h.jsx)("td",{className:"table-entry",children:"2/36"})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:"4"}),(0,h.jsx)("td",{className:"table-entry",children:"3"}),(0,h.jsx)("td",{className:"table-entry",children:"3/36"})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:"5"}),(0,h.jsx)("td",{className:"table-entry",children:"4"}),(0,h.jsx)("td",{className:"table-entry",children:"4/36"})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:"6"}),(0,h.jsx)("td",{className:"table-entry",children:"5"}),(0,h.jsx)("td",{className:"table-entry",children:"5/36"})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:"7"}),(0,h.jsx)("td",{className:"table-entry",children:"6"}),(0,h.jsx)("td",{className:"table-entry",children:"6/36"})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:"8"}),(0,h.jsx)("td",{className:"table-entry",children:"5"}),(0,h.jsx)("td",{className:"table-entry",children:"5/36"})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:"9"}),(0,h.jsx)("td",{className:"table-entry",children:"4"}),(0,h.jsx)("td",{className:"table-entry",children:"4/36"})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:"10"}),(0,h.jsx)("td",{className:"table-entry",children:"3"}),(0,h.jsx)("td",{className:"table-entry",children:"3/36"})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:"11"}),(0,h.jsx)("td",{className:"table-entry",children:"2"}),(0,h.jsx)("td",{className:"table-entry",children:"2/36"})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:"12"}),(0,h.jsx)("td",{className:"table-entry",children:"1"}),(0,h.jsx)("td",{className:"table-entry",children:"1/36"})]})]})]})}),(0,h.jsxs)("p",{children:["The most likely roll is a 7, which happens with probability ",(0,h.jsx)(i.A,{inline:!0,children:"\\( \\frac{6}{36} = \\frac{1}{6} \\)"}),". The next most likely rolls are 6 and 8, which happen with probability ",(0,h.jsx)(i.A,{inline:!0,children:"\\( \\frac{5}{36} \\)"}),". The least likely rolls are 2 and 12, which happen with probability ",(0,h.jsx)(i.A,{inline:!0,children:"\\( \\frac{1}{36} \\)"}),". This means it is generally better to place settlements next to tiles with a 6 or 8."]}),(0,h.jsx)("p",{className:"heading2",children:"Distribution"}),(0,h.jsx)("p",{children:"The outcome of the next dice roll is uncertain. It hasn\u2019t happened yet, but when it does, it will result in a specific number between 2 and 12. In statistics, we give a name to this kind of uncertain outcome. We call it a random variable."}),(0,h.jsxs)("p",{children:["For example, we might let ",(0,h.jsx)(i.A,{inline:!0,children:"\\( \\tilde x \\)"})," represent the outcome from rolling two dice. Before the dice are rolled, ",(0,h.jsx)(i.A,{inline:!0,children:"\\( \\tilde x\\)"}),"  is unknown. After the dice are rolled, ",(0,h.jsx)(i.A,{inline:!0,children:"\\( \\tilde x  \\)"})," takes on a specific value, like 6 or 9. The random variable allows us to talk about the dice roll before it happens, when uncertainty still exists."]}),(0,h.jsxs)("p",{children:["A distribution of a random variable tells us how likely each possible outcome is. We can visualize the distribution of ",(0,h.jsx)(i.A,{inline:!0,children:"\\( \\tilde x \\)"})," using a probability mass function (PMF), which is just a bar chart showing the probability of each possible sum. Each bar\u2019s height is proportional to the chance that ",(0,h.jsx)(i.A,{inline:!0,children:"\\( \\tilde x \\)"})," equals that value."]}),(0,h.jsx)("div",{className:"scrollable-container",children:(0,h.jsx)(o.default,{})}),(0,h.jsx)("p",{className:"heading2",children:"Expected Value"}),(0,h.jsxs)("p",{children:["The expected value, or mean, of a random variable is the sum of each outcome multiplied by its probability. For example, the expected value of rolling two dice is given by",(0,h.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            E[\\tilde x] =&\\; 2\\left(\\frac{1}{36}\\right) + 3\\left(\\frac{2}{36}\\right) \n            + 4\\left(\\frac{3}{36}\\right) + 5\\left(\\frac{4}{36}\\right) \n            + 6\\left(\\frac{5}{36}\\right) + 7\\left(\\frac{6}{36}\\right) \\\\\n            &+ 8\\left(\\frac{5}{36}\\right) + 9\\left(\\frac{4}{36}\\right)\n            + 10\\left(\\frac{3}{36}\\right) + 11\\left(\\frac{2}{36}\\right)\n            + 12\\left(\\frac{1}{36}\\right) \\\\\n            =&\\; \\frac{2 + 6 + 12 + 20 + 30 + 42 + 40 + 36 + 30 + 22 + 12}{36} \\\\\n            =&\\; 7 \n            \\end{aligned}\n          \\]"})]}),(0,h.jsxs)("p",{children:["Once we have defined a random variable, we can also find the expected value of different functions of that variable. For example, suppose we added up the two numbers on the dice and then multiplied by 3 to get our outcome. The expected value in this case would be given by",(0,h.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            E[3\\tilde x] =&\\; (3\\times 2)\\left(\\frac{1}{36}\\right) +  (3\\times 3)\\left(\\frac{2}{36}\\right) \n            + (3\\times 4)\\left(\\frac{3}{36}\\right) \\\\\n             &+ (3\\times 5)\\left(\\frac{4}{36}\\right) \n            + (3\\times 6)\\left(\\frac{5}{36}\\right) + (3\\times 7)\\left(\\frac{6}{36}\\right) \\\\\n            &+ (3\\times 8)\\left(\\frac{5}{36}\\right) + (3\\times 9)\\left(\\frac{4}{36}\\right)\n            + (3\\times 10)\\left(\\frac{3}{36}\\right) \\\\\n            &+ (3\\times 11)\\left(\\frac{2}{36}\\right)\n            + (3\\times 12)\\left(\\frac{1}{36}\\right) \\\\\n            =&\\; 3 \\times 7 \\\\\n            =&\\; 3E[\\tilde x]\n            \\end{aligned}\n          \\]"}),"More generally, if we multiply a random variable by a constant or add a constant to the random variable, we can simply move in the expected value operator ",(0,h.jsx)(i.A,{inline:!0,children:"\\(\\left( E[\\cdot] \\right) \\)"})," around the random-variable portion of the function. Thus, given constants ",(0,h.jsx)(i.A,{inline:!0,children:"\\( A \\)"})," and ",(0,h.jsx)(i.A,{inline:!0,children:"\\( B \\)"}),",",(0,h.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            E[A \\tilde x + B] = A E[\\tilde x] + B\n            \\end{aligned}\n          \\]"}),"However, this does not work if we take a power of ",(0,h.jsx)(i.A,{inline:!0,children:"\\(\\tilde x \\)"}),". For example, ",(0,h.jsx)(i.A,{inline:!0,children:"\\( E[\\tilde x^2] \\neq \\left( E[\\tilde x] \\right)^2 \\)"}),"."]}),(0,h.jsx)("p",{className:"heading2",children:"Variance"}),(0,h.jsxs)("p",{children:["The expected value tells us about the center of the distribution. To get a sense for how spread out the distribution is, we can calculate the variance of the distribution. The variance of a random variable ",(0,h.jsx)(i.A,{inline:!0,children:"\\( \\tilde x \\)"})," is given by",(0,h.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\text{var}(\\tilde x) &= E\\left[(\\tilde x - E[\\tilde x])^2\\right] \\\\\n            &= E\\left[\\tilde x^2 - 2\\tilde x E[\\tilde x] + \\left(E[\\tilde x]\\right)^2\\right] \\\\\n            &= E\\left[\\tilde x^2\\right] - 2E[\\tilde x] E[\\tilde x] + \\left(E[\\tilde x]\\right)^2 \\\\\n            &= E\\left[\\tilde x^2\\right] - \\left(E[\\tilde x]\\right)^2\n            \\end{aligned}\n          \\]"})]}),(0,h.jsx)("p",{children:"To calculate the variance using the expression after the first equal, you can subtract the mean from each original outcome, square the result, and then take the expected value using these newly calculated outcomes. In the case of rolling two dice, this variance calculation method looks like"}),(0,h.jsx)("div",{className:"table-wrapper",children:(0,h.jsxs)("table",{className:"my-table",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{className:"table-entry-head",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( \\text{Outcome} \\)"})}),(0,h.jsx)("th",{className:"table-entry-head",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( \\text{Outcome - Mean} \\)"})}),(0,h.jsx)("th",{className:"table-entry-head",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( (\\text{Outcome - Mean})^2 \\)"})}),(0,h.jsx)("th",{className:"table-entry-head",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( \\text{Probability} \\)"})})]})}),(0,h.jsxs)("tbody",{children:[(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 2 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( -5 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 25 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 1/36 \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 3 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( -4 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 16 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 2/36 \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 4 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( -3 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 9 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 3/36 \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 5 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( -2 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 4 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 4/36 \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 6 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( -1 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 1 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 5/36 \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 7 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 0 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 0 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 6/36 \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 8 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 1 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 1 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 5/36 \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 9 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 2 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 4 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 4/36 \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 10 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 3 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 9 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 3/36 \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 11 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 4 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 16 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 2/36 \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 12 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 5 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 25 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 1/36 \\)"})})]})]})]})}),(0,h.jsxs)("p",{children:[(0,h.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\text{var}(\\tilde x) =&\\; E\\left[(\\tilde x - E[\\tilde x])^2\\right] \\\\\n            =&\\; 25\\left(\\frac{1}{36}\\right) + 16\\left(\\frac{2}{36}\\right) \n            + 9\\left(\\frac{3}{36}\\right) + 4\\left(\\frac{4}{36}\\right) \n            + 1\\left(\\frac{5}{36}\\right) + 0\\left(\\frac{6}{36}\\right) \\\\\n            &+ 1\\left(\\frac{5}{36}\\right) + 4\\left(\\frac{4}{36}\\right)\n            + 9\\left(\\frac{3}{36}\\right) + 16\\left(\\frac{2}{36}\\right)\n            + 25\\left(\\frac{1}{36}\\right) \\\\\n            =&\\; \\frac{25 + 32 + 27 + 16 + 5 + 5 + 16 + 27 + 32 + 25}{36} \\\\\n            \\approx&\\; 5.83\n            \\end{aligned}\n          \\]"}),"To calculate the variance using the expression after the last equal sign, you first square each outcome and calculate the expected value using these squared outcomes. Then, you subtract the squared mean from this result. In the case of rolling two dice, this variance calculation method looks like"]}),(0,h.jsx)("div",{className:"table-wrapper",children:(0,h.jsxs)("table",{className:"my-table",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{className:"table-entry-head",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( \\text{Outcome} \\)"})}),(0,h.jsx)("th",{className:"table-entry-head",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( \\text{Outcome}^2 \\)"})}),(0,h.jsx)("th",{className:"table-entry-head",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( \\text{Probability} \\)"})})]})}),(0,h.jsxs)("tbody",{children:[(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 2 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 4 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 1/36 \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 3 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 9 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 2/36 \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 4 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 16 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 3/36 \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 5 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 25 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 4/36 \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 6 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 36 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 5/36 \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 7 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 49 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 6/36 \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 8 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 64 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 5/36 \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 9 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 81 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 4/36 \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 10 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 100 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 3/36 \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 11 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 121 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 2/36 \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 12 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 144 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 1/36 \\)"})})]})]})]})}),(0,h.jsxs)("p",{children:[(0,h.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            E\\left[\\tilde x^2\\right] =&\\; 4\\left(\\frac{1}{36}\\right) + 9\\left(\\frac{2}{36}\\right) \n            + 16\\left(\\frac{3}{36}\\right) + 25\\left(\\frac{4}{36}\\right) \n            + 36\\left(\\frac{5}{36}\\right) + 49\\left(\\frac{6}{36}\\right) \\\\\n            &+ 64\\left(\\frac{5}{36}\\right) + 81\\left(\\frac{4}{36}\\right)\n            + 100\\left(\\frac{3}{36}\\right) + 121\\left(\\frac{2}{36}\\right)\n            + 144\\left(\\frac{1}{36}\\right) \\\\\n            =&\\; \\frac{4 + 18 + 48 + 100 + 180 + 294 + 320 + 324 + 300 + 242 + 144}{36} \\\\\n            \\approx&\\; 54.83 \\\\ \\\\\n            \\text{var}(\\tilde x) =&\\; E\\left[\\tilde x^2\\right] - \\left(E[\\tilde x]\\right)^2 \\\\\n            \\approx&\\; 54.83 - 7^2 \\\\\n            =&\\; 5.83\n            \\end{aligned}\n          \\]"}),"The standard deviation of a random variable is simply the square root of the variance. In the case of rolling two dice, we have ",(0,h.jsx)(i.A,{inline:!0,children:"\\( \\text{std}(\\tilde x) = \\sqrt{\\text{var}(\\tilde x)} \\approx 2.42 \\)"}),"."]}),(0,h.jsx)("p",{className:"heading2",children:"Placing a Settlement"}),(0,h.jsx)("p",{children:"With the concepts of mean and variance in place, let's consider the decision of where to place a settlement in the game. Suppose we are deciding between the following two spots, and we care only about the total number of resources (not specific resource types):"}),(0,h.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"-80px"},children:(0,h.jsx)(l.default,{numbers:[5,2,6,3,8,10,9,12,11,4,4,10,9,3,6,5,8,11],settlements:[{tile:14,type:"circle"},{tile:9,type:"circle"}]})}),(0,h.jsxs)("p",{children:["To compare these spots, let's calculate the expected number of resources each spot will yield per turn. The first spot (8, 10, and 4) is expected to produce ",(0,h.jsx)(i.A,{inline:!0,children:"\\( \\frac{5}{36} + \\frac{3}{36} + \\frac{3}{36} =  \\frac{11}{36}\\)"})," resources per turn. The second spot (4, 4, and 6) is expected to produce ",(0,h.jsx)(i.A,{inline:!0,children:"\\( 2\\left(\\frac{3}{36}\\right) + \\frac{5}{36} =  \\frac{11}{36}\\)"})," resources per turn as well."]}),(0,h.jsxs)("p",{children:["What about the variance of these resource yields? The first spot has variance",(0,h.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\left(1 - \\frac{11}{36}\\right)^2\\left(\\frac{5}{36}\\right) + \\left(1 - \\frac{11}{36}\\right)^2\\left(\\frac{3}{36}\\right)+ \\left(1 - \\frac{11}{36}\\right)^2\\left(\\frac{3}{36}\\right)  + \\left(0 - \\frac{11}{36}\\right)^2\\left(\\frac{36 - (5 + 3 + 3)}{36}\\right) \\approx 0.212\n            \\end{aligned}\n          \\]"}),"The second spot has variance",(0,h.jsx)(i.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\left(2 - \\frac{11}{36}\\right)^2\\left(\\frac{3}{36}\\right) + \\left(1 - \\frac{11}{36}\\right)^2\\left(\\frac{5}{36}\\right)  + \\left(0 - \\frac{11}{36}\\right)^2\\left(\\frac{36 - (3+5)}{36}\\right) \\approx 0.379\n            \\end{aligned}\n          \\]"})]}),(0,h.jsxs)("p",{children:["This tells us that both spots have the same expected production, but the first spot produces more consistently than the second. In other words, choosing the first spot is more likely to give you ",(0,h.jsx)("i",{children:"something"})," on a given turn while choosing the second spot will produce occasional 2-resource spikes with more turns on which you receive nothing."]}),(0,h.jsx)("p",{className:"heading2",children:"Examples"}),(0,h.jsx)(c.A,{solution:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{children:"There are 52 cards in a deck with 4 jacks, 4 queens, 4 kings, and 4 aces. Thus, the probability of each outcome is given by"}),(0,h.jsx)("div",{className:"table-wrapper",children:(0,h.jsxs)("table",{className:"my-table",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{className:"table-entry-head",children:"Outcome"}),(0,h.jsx)("th",{className:"table-entry-head",children:"Probability"})]})}),(0,h.jsxs)("tbody",{children:[(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 1 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( \\frac{4}{52} = \\frac{1}{13} \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 2 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( \\frac{4}{52} = \\frac{1}{13} \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 3 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( \\frac{4}{52} = \\frac{1}{13} \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 6 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( \\frac{4}{52} = \\frac{1}{13} \\)"})})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( 0 \\)"})}),(0,h.jsx)("td",{className:"table-entry",children:(0,h.jsx)(i.A,{inline:!0,children:"\\( \\frac{52 - (4 + 4 + 4 + 4)}{52} = \\frac{9}{13} \\)"})})]})]})]})}),(0,h.jsxs)("p",{children:["The expected value is",(0,h.jsx)(i.A,{className:"math-container",children:"\\[\n                  \\begin{aligned}\n                  1\\left(\\frac{1}{13}\\right) + 2\\left(\\frac{1}{13}\\right) + 3\\left(\\frac{1}{13}\\right) + 6\\left(\\frac{1}{13}\\right) = \\frac{12}{13}\n                  \\end{aligned}\n                \\]"}),"The variance is",(0,h.jsx)(i.A,{className:"math-container",children:"\\[\n                  \\begin{aligned}\n                  &\\left(1 - \\frac{12}{13}\\right)^2\\left(\\frac{1}{13}\\right) + \\left(2 - \\frac{12}{13}\\right)^2\\left(\\frac{1}{13}\\right) \n                  + \\left(3 - \\frac{12}{13}\\right)^2\\left(\\frac{1}{13}\\right) \\\\\n                  &+ \\left(6 - \\frac{12}{13}\\right)^2\\left(\\frac{1}{13}\\right) + \\left(0 - \\frac{12}{13}\\right)^2\\left(\\frac{9}{13}\\right) \\approx 2.99\n                  \\end{aligned}\n                \\]"}),"Risk neutral or risk averse people would not enjoy this game because the expected winnings are less than the cost of playing the game."]})]}),children:(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Example 1:"})," A carnival game lets players randomly choose a card from a deck. If a jack is chosen, the player wins $1; if a queen is chosen, the player wins $2; if a king is chosen, the player wins $3; if an ace is chosen, the player wins $6; otherwise, the player does not win anything. What are the expected winnings from playing the game? What is the variance? Would you play this game if it cost $1?"]})}),(0,h.jsx)(c.A,{solution:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{children:"We can compare these gambles using their expected values and variances. The first gamble pays $1 with probability 1/2 and $0 with probability 1/2, which yields an expected value of $0.50. The second gamble pays $3 with probability 1/6 and $0 with probability 5/6, which also yields an expected value of $0.50."}),(0,h.jsxs)("p",{children:["The variance of the first gamble is",(0,h.jsx)(i.A,{className:"math-container",children:"\\[\n                  \\begin{aligned}\n                  \\left(1 - \\frac{1}{2}\\right)^2\\left(\\frac{1}{2}\\right) + \\left(0 - \\frac{1}{2}\\right)^2\\left(\\frac{1}{2}\\right) = \\frac{1}{4}\n                  \\end{aligned}\n                \\]"}),"The variance of the second gamble is",(0,h.jsx)(i.A,{className:"math-container",children:"\\[\n                  \\begin{aligned}\n                  \\left(3 - \\frac{1}{2}\\right)^2\\left(\\frac{1}{6}\\right) + \\left(0 - \\frac{1}{2}\\right)^2\\left(\\frac{5}{6}\\right) = \\frac{5}{4}\n                  \\end{aligned}\n                \\]"}),"Risk averse people would prefer the first gamble since it has lower variance."]})]}),children:(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Example 2:"})," Would you rather win $1 if a coin flips heads or $3 if a dice rolls a 6?"]})})]}),(0,h.jsx)(r.A,{group:"Stats"})]})}},7077:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});n(5043),n(1204);var a=n(5475),i=n(4257),r=n(7971),s=n(2638),l=n(3835),o=n(2189),c=n(579);const h=function(){return(0,c.jsxs)("div",{className:"Stats",children:[(0,c.jsx)(s.A,{group:"Stats"}),(0,c.jsx)("p",{className:"heading1",children:"Multiple Random Variables"}),(0,c.jsxs)(i.A,{children:[(0,c.jsx)("p",{className:"heading2",children:"Placing a Settlement Revisted"}),(0,c.jsx)("p",{children:"In the last section, we considered the decision of where to place a settlement by calculating the mean and variance of the resources produced by a given spot. The expected value measures long-run productivity: on average, settlements with higher expected yield will generate more resources over the course of the game. The variance, however, captures how those resources arrive. A higher variance indicates boom\u2013bust production, with many empty turns punctuated by occasional large gains, while a lower variance corresponds to steadier, more reliable income."}),(0,c.jsx)("p",{children:"Spots with a higher mean production should generally be preferred to spots with a lower mean production. The variance might also matter because players typically need resources in specific combinations and at specific times. Consistent production makes it easier to plan builds, trade efficiently, and avoid being stalled one resource short, whereas volatile production can lead to both rapid progress and prolonged droughts."}),(0,c.jsx)("p",{children:"Suppose we've already placed one settlement (marked by the red X), and we are considering where to place a second settlement (in one of the spots with a blue circle)."}),(0,c.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"-80px"},children:(0,c.jsx)(l.default,{numbers:[5,2,6,3,8,10,9,12,11,4,4,10,9,3,6,5,8,11],settlements:[{tile:17,type:"x"},{tile:8,type:"circle"},{tile:5,type:"circle"}]})}),(0,c.jsxs)("p",{children:["Both choices have the same expected resource production ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\left(\\frac{9}{36} = \\frac{1}{4}\\right)\\)"}),". How would adding each spot affect our overall variance?"]}),(0,c.jsx)("p",{className:"heading2",children:"Expected Value"}),(0,c.jsxs)("p",{children:["Before we try to evaluate the effect on total variance, we need to revist the expected value operator for multiple random variables. Recall that with a single random variable, we could multiply the random variable by a constant or add a constant to the random variable and simply move in the expected value operator around the random-variable portion of the function ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\left(E[A \\tilde x + B] = A E[\\tilde x] + B\\right) \\)"}),". But, when taking the power of a random variable, we can't move the expected value operator in around the base ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\left( E[\\tilde x^A] \\neq \\left( E[\\tilde x] \\right)^A \\right) \\)"}),"."]}),(0,c.jsxs)("p",{children:["There are similar rules when dealing with functions of more than one random variable. Suppose we have two random variables: ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\tilde y\\)"})," and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\tilde z\\)"}),". In this case, we can distribute the expected value operator into a sum, but not a product. Thus, for constants ",(0,c.jsx)(r.A,{inline:!0,children:"\\( A \\)"}),", ",(0,c.jsx)(r.A,{inline:!0,children:"\\( B \\)"}),", and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( C \\)"})," we have",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            E\\left[A\\tilde y + B\\tilde z + C \\right] = AE[\\tilde y] + BE[\\tilde z] + C  \n            \\end{aligned}\n          \\]"}),"but, in general,",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            E[\\tilde y \\tilde z] \\neq E[\\tilde y]E[ \\tilde z] \n            \\end{aligned}\n          \\]"})]}),(0,c.jsx)("p",{className:"heading2",children:"Covariance"}),(0,c.jsxs)("p",{children:["Returning to the question of picking a second settlement spot, let's think about each spot as a random variable. We'll call the spot where we already have a settlement ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\tilde x\\)"})," (surrounded by 3, 6, and 11; marked by the red X) and the two choices ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\tilde y_1\\)"})," (for 2, 6, and 10) and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\tilde y_2\\)"})," (for 3, 8, and 11). Using the formula for variance, we can find the total variance from two spots.",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\text{var}(\\tilde x + \\tilde y) &= E\\left[(\\tilde x + \\tilde y)^2\\right] - \\left(E[\\tilde x + \\tilde y]\\right)^2 \\\\\n            &= E\\left[\\tilde x^2 + 2\\tilde x\\tilde y + \\tilde y^2\\right] - \\left(E[\\tilde x] + E[\\tilde y]\\right)^2 \\\\\n            &= E\\left[\\tilde x^2\\right] + 2E[\\tilde x\\tilde y] + \\tilde E\\left[y^2\\right] - \\left(E[\\tilde x]\\right)^2 -2E[\\tilde x]E[\\tilde y] - \\left(E[\\tilde y]\\right)^2 \\\\\n            &= E\\left[\\tilde x^2\\right] - \\left(E[\\tilde x]\\right)^2 + \\tilde E\\left[y^2\\right] - \\left(E[\\tilde y]\\right)^2 + 2\\left(E[\\tilde x\\tilde y]  -E[\\tilde x]E[\\tilde y] \\right)\n            \\end{aligned}\n          \\]"}),"We can recognize ",(0,c.jsx)(r.A,{inline:!0,children:"\\( E\\left[\\tilde x^2\\right] - \\left(E[\\tilde x]\\right)^2 \\)"})," and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( E\\left[\\tilde y^2\\right] - \\left(E[\\tilde y]\\right)^2 \\)"})," as simply the variance of ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\tilde x \\)"})," and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\tilde y \\)"})," respectively. But what about the ",(0,c.jsx)(r.A,{inline:!0,children:"\\( E[\\tilde x\\tilde y]  -E[\\tilde x]E[\\tilde y]  \\)"})," term? We call this expression the covariance of ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\tilde x \\)"})," and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\tilde y \\)"}),". Thus, we can write the total variance as",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\text{var}(\\tilde x + \\tilde y) = \\text{var}(\\tilde x) + \\text{var}(\\tilde y) + 2\\text{cov}(\\tilde x, \\tilde y)\n            \\end{aligned}\n          \\]"}),"where",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\text{cov}(\\tilde x, \\tilde y) &= E[\\tilde x \\tilde y] - E[\\tilde x]E[\\tilde y] \\\\\n            &= E[\\tilde x \\tilde y] - E[\\tilde x]E[\\tilde y] - E[\\tilde x]E[\\tilde y] + E[\\tilde x]E[\\tilde y] \\\\\n            &= E\\left[\\tilde x \\tilde y - \\tilde y E[\\tilde x] - \\tilde xE[\\tilde y] + E[\\tilde x]E[\\tilde y]\\right] \\\\\n            &= E\\left[\\left(\\tilde x - E[\\tilde x]\\right)\\left(\\tilde y - E[\\tilde y]\\right)\\right]\n            \\end{aligned}\n          \\]"})]}),(0,c.jsx)("p",{children:'In the example we\'re considering, covariance measures whether two sources of resource production tend to be active on the same turns. If two settlements tend to produce resources at the same time, then their production is positively correlated. In this case, good turns are very good, but bad turns are very bad. If, instead, one settlement often produces on turns when the other does not, then their production is less synchronized. Poor production from one settlement is partially offset by production from the other, leading to a steadier total income. In other words, covariance captures whether settlements "rise and fall together." High covariance means your fortunes swing together; low covariance means one settlement can smooth out the other.'}),(0,c.jsxs)("p",{children:["All three settlement locations have the same production variance.",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\text{var}(\\tilde x) = \\text{var}(\\tilde y_1)  = \\text{var}(\\tilde y_2)  =\\left(1 - \\frac{1}{4}\\right)^2\\left(\\frac{9}{36}\\right) + \\left(0 - \\frac{1}{4}\\right)^2\\left(\\frac{36-9}{36}\\right) = 0.1875\n            \\end{aligned}\n          \\]"}),"However, ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\tilde x \\)"})," and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\tilde y_1 \\)"})," do not have the same covariance as ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\tilde x \\)"})," and ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\tilde y_2 \\)"}),".",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\text{cov}(\\tilde x, \\tilde y_1) =&\\; \n            \\overbrace{\\left(1 - \\frac{1}{4}\\right)\\left(1 - \\frac{1}{4}\\right) \\left(\\frac{5}{36}\\right)}^{\\text{if 6 is rolled}} \\\\\n             &+ \\overbrace{\\left(1 - \\frac{1}{4}\\right)\\left(0 - \\frac{1}{4}\\right) \\left(\\frac{1 + 2 + 3 + 2}{36}\\right)}^{\\text{if 2, 3, 10, or 11 is rolled}} \\\\\n             &+ \\overbrace{\\left(0 - \\frac{1}{4}\\right)\\left(0 - \\frac{1}{4}\\right) \\left(\\frac{36 - (5 + 1 + 2 + 3 + 2)}{36}\\right)}^{\\text{if another number is rolled}} \\\\\n             \\approx&\\; 0.0764 \\\\ \\\\\n            \\text{cov}(\\tilde x, \\tilde y_2) =&\\; \n            \\overbrace{\\left(1 - \\frac{1}{4}\\right)\\left(1 - \\frac{1}{4}\\right) \\left(\\frac{2 + 2}{36}\\right)}^{\\text{if 3 or 11 are rolled}} \\\\\n             &+ \\overbrace{\\left(1 - \\frac{1}{4}\\right)\\left(0 - \\frac{1}{4}\\right) \\left(\\frac{5 + 5}{36}\\right)}^{\\text{if 6 or 8 are rolled}} \\\\\n             &+ \\overbrace{\\left(0 - \\frac{1}{4}\\right)\\left(0 - \\frac{1}{4}\\right) \\left(\\frac{36 - (2 + 2 + 5 + 5)}{36}\\right)}^{\\text{if another number is rolled}} \\\\\n             \\approx&\\; 0.0486\n            \\end{aligned}\n          \\]"}),"Thus, the total variance from choosing the first spot is",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\text{var}(\\tilde x + \\tilde y_1) &= \\text{var}(\\tilde x) + \\text{var}(\\tilde y_1) + 2\\text{cov}(\\tilde x, \\tilde y_1) \\\\\n            &\\approx 2(0.1875) + 2(0.0764) \\\\\n            &\\approx 0.451\n            \\end{aligned}\n          \\]"}),"and the total variance from choosing the second spot is",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\text{var}(\\tilde x + \\tilde y_2) &= \\text{var}(\\tilde x) + \\text{var}(\\tilde y_2) + 2\\text{cov}(\\tilde x, \\tilde y_2) \\\\\n            &\\approx 2(0.1875) + 2(0.0486) \\\\\n            &\\approx 0.424\n            \\end{aligned}\n          \\]"})]}),(0,c.jsx)("p",{className:"heading2",children:"Correlation"}),(0,c.jsx)("p",{children:"Covariance tells us whether two settlements tend to produce on the same turns, but its magnitude is hard to interpret on its own. A covariance of 0.05 might be large or small depending on how variable each settlement is individually. In particular, settlements with higher variance tend to have larger covariances, even if the underlying relationship is similar."}),(0,c.jsx)("p",{children:"To make comparisons easier, it is helpful to standardize resource production so that each settlement is measured in comparable units. Rather than asking how two settlements co-move in absolute terms, we ask how they move relative to their own typical fluctuations."}),(0,c.jsxs)("p",{children:["The correlation coefficient between two random variables is obtained by dividing their covariance by the product of their standard deviations. This rescales covariance so that it is dimensionless and always lies between -1 and 1.",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\text{corr}(\\tilde x, \\tilde y) &= \\frac{\\text{cov}(\\tilde x, \\tilde y)}{\\sqrt{\\text{var}(\\tilde x) \\text{var}(\\tilde y)}}\n            \\end{aligned}\n          \\]"}),"Covariance tells us whether two settlements move together; correlation tells us how strongly they move together, after accounting for how volatile each one is on its own."]}),(0,c.jsxs)("p",{children:["In our example, we have the following correlation coefficients:",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\text{corr}(\\tilde x, \\tilde y_1) &= \\frac{\\text{cov}(\\tilde x, \\tilde y_1)}{\\sqrt{\\text{var}(\\tilde x) \\text{var}(\\tilde y_1)}} \\\\\n            &\\approx \\frac{0.0764}{0.1875} \\\\\n            &\\approx 0.407 \\\\ \\\\\n            \\text{corr}(\\tilde x, \\tilde y_2) &= \\frac{\\text{cov}(\\tilde x, \\tilde y_2)}{\\sqrt{\\text{var}(\\tilde x) \\text{var}(\\tilde y_2)}} \\\\\n            &\\approx \\frac{0.0486}{0.1875} \\\\\n            &\\approx 0.259\n            \\end{aligned}\n          \\]"})]}),(0,c.jsx)("p",{className:"heading2",children:"Examples"}),(0,c.jsx)(o.A,{solution:(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("p",{children:["Both gambles have an expected value of $0.50, and variance",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                  \\begin{aligned}\n                  \\left(1 - \\frac{1}{2}\\right)^2\\left(\\frac{1}{2}\\right) + \\left(0 - \\frac{1}{2}\\right)^2\\left(\\frac{1}{2}\\right) = \\frac{1}{4}\n                  \\end{aligned}\n                \\]"}),"The covariance is given by",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                  \\begin{aligned}\n                  \\left(1 - \\frac{1}{4}\\right)\\left(\\frac{1}{3}\\right) + \\left(0 - \\frac{1}{4}\\right)\\left(\\frac{2}{3}\\right) = \\frac{1}{12}\n                  \\end{aligned}\n                \\]"}),"The correlation is given by",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                  \\begin{aligned}\n                  \\frac{\\frac{1}{12}}{\\sqrt{\\left(\\frac{1}{4}\\right)\\left(\\frac{1}{4}\\right)}} = \\frac{1}{3}\n                  \\end{aligned}\n                \\]"})]})}),children:(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Example 1:"})," What is the correlation between a gamble that pays $1 if a dice rolls an even number and a gamble that pays $1 if a dice rolls a 4 or higher?"]})}),(0,c.jsxs)(o.A,{solution:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("p",{children:["First note that all 3 investment opportunities have the same expected value ($1). We'll denote the outcome of investment 1 as ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\tilde x_1 \\)"}),", the outcome of investment 2 as ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\tilde x_2 \\)"}),", and the outcome of investment 3 as ",(0,c.jsx)(r.A,{inline:!0,children:"\\( \\tilde x_3 \\)"}),". We'll invest a ",(0,c.jsx)(r.A,{inline:!0,children:"\\(  w_1 \\)"})," portion of the money in investment 1, a ",(0,c.jsx)(r.A,{inline:!0,children:"\\(  w_2 \\)"})," portion in investment 2, and a ",(0,c.jsx)(r.A,{inline:!0,children:"\\(  w_3 \\)"})," portion in investment 3. Here, we have that ",(0,c.jsx)(r.A,{inline:!0,children:"\\(  w_1 + w_2 + w_3 = 1\\)"}),"."]}),(0,c.jsxs)("p",{children:["The total variance is given by",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                  \\begin{aligned}\n                  \\text{var}(w_1\\tilde x_1 + w_2\\tilde x_2 + w_2\\tilde x_2) =&\\; E\\left[(w_1\\tilde x_1 + w_2\\tilde x_2 + w_2\\tilde x_2)^2\\right] - \\left(E\\left[w_1\\tilde x_1 + w_2\\tilde x_2 + w_2\\tilde x_2\\right]\\right)^2 \\\\\n                  =&\\; w_1^2E[\\tilde x_1^2] + w_2^2E[\\tilde x_2^2] + w_3^2E[\\tilde x_3^2] + 2w_1w_2E[\\tilde x_1\\tilde x_2] + 2w_1w_3E[\\tilde x_1\\tilde x_3] + 2w_2w_3E[\\tilde x_2\\tilde x_3] \\\\\n                  &-\\left(w_1^2\\left(E[\\tilde x_1]\\right)^2 + w_2^2\\left(E[\\tilde x_2]\\right)^2 + w_3^2\\left(E[\\tilde x_3]\\right)^2 + 2w_1w_2E[\\tilde x_1]E[\\tilde x_2] + 2w_1w_3E[\\tilde x_1]E[\\tilde x_3] + 2w_2w_3E[\\tilde x_2]E[\\tilde x_3]\\right) \\\\\n                  =&\\; w_1^2 \\text{var}(\\tilde x_1) + w_2^2 \\text{var}(\\tilde x_2) + w_3^2 \\text{var}(\\tilde x_3) + 2w_1w_2\\text{cov}(\\tilde x_1, \\tilde x_2) + 2w_1w_3\\text{cov}(\\tilde x_1, \\tilde x_3) + 2w_2w_3\\text{cov}(\\tilde x_2, \\tilde x_3)\n                  \\end{aligned}\n                \\]"})]}),(0,c.jsxs)("p",{children:["We want to choose investment weights to minimize this variance.",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                  \\begin{aligned}\n                  \\underset{w_1,w_2,w_3}{\\text{min}} \\; &\\left(w_1^2 \\text{var}(\\tilde x_1) + w_2^2 \\text{var}(\\tilde x_2) + w_3^2 \\text{var}(\\tilde x_3) + 2w_1w_2\\text{cov}(\\tilde x_1, \\tilde x_2) + 2w_1w_3\\text{cov}(\\tilde x_1, \\tilde x_3) + 2w_2w_3\\text{cov}(\\tilde x_2, \\tilde x_3) \\right) \\\\\n                  &\\text{s.t. } w_3 = 1 - w_1 - w_2\n                  \\end{aligned}\n                \\]"}),"We can plug in the constraint to get rid of ",(0,c.jsx)(r.A,{inline:!0,children:"\\(  w_3 \\)"}),".",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                  \\begin{aligned}\n                  \\underset{w_1,w_2}{\\text{min}} \\; \\left(w_1^2 \\text{var}(\\tilde x_1) + w_2^2 \\text{var}(\\tilde x_2) + (1 - w_1 - w_2)^2 \\text{var}(\\tilde x_3) + 2w_1w_2\\text{cov}(\\tilde x_1, \\tilde x_2) + 2w_1(1 - w_1 - w_2)\\text{cov}(\\tilde x_1, \\tilde x_3) + 2w_2(1 - w_1 - w_2)\\text{cov}(\\tilde x_2, \\tilde x_3) \\right) \n                  \\end{aligned}\n                \\]"}),"To find a minimum, we take derivatives with respect to ",(0,c.jsx)(r.A,{inline:!0,children:"\\(  w_1 \\)"})," and ",(0,c.jsx)(r.A,{inline:!0,children:"\\(  w_2 \\)"})," and set them equal to zero.",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                  \\begin{aligned}\n                  2w_1 \\text{var}(\\tilde x_1) - 2(1-w_1-w_2)\\text{var}(\\tilde x_3) + 2w_2\\text{cov}(\\tilde x_1, \\tilde x_2) + 2(1 - 2w_1 - w_2)\\text{cov}(\\tilde x_1, \\tilde x_3) - 2w_2\\text{cov}(\\tilde x_2, \\tilde x_3) = 0 \\\\\n                  2w_2 \\text{var}(\\tilde x_2) - 2(1-w_1-w_2)\\text{var}(\\tilde x_3) + 2w_1\\text{cov}(\\tilde x_1, \\tilde x_2) + 2(1 - 2w_2 - w_1)\\text{cov}(\\tilde x_2, \\tilde x_3) - 2w_1\\text{cov}(\\tilde x_1, \\tilde x_3) = 0\n                  \\end{aligned}\n                \\]"}),"We have two equations and two unknowns.",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                  \\begin{aligned}\n                  w_1\\underbrace{[\\text{var}(\\tilde x_1) + \\text{var}(\\tilde x_3) - 2\\text{cov}(\\tilde x_1, \\tilde x_3)]}_{A_1} + w_2\\underbrace{[\\text{var}(\\tilde x_3)  + \\text{cov}(\\tilde x_1, \\tilde x_2) - \\text{cov}(\\tilde x_1, \\tilde x_3) - \\text{cov}(\\tilde x_2, \\tilde x_3)]}_{B} + \\underbrace{\\text{cov}(\\tilde x_1, \\tilde x_3) - \\text{var}(\\tilde x_3)}_{C_1} = 0 \\\\\n                  w_2\\underbrace{[\\text{var}(\\tilde x_2) + \\text{var}(\\tilde x_3) - 2\\text{cov}(\\tilde x_2, \\tilde x_3)]}_{A_2} + w_1\\underbrace{[\\text{var}(\\tilde x_3)  + \\text{cov}(\\tilde x_1, \\tilde x_2)  - \\text{cov}(\\tilde x_1, \\tilde x_3) - \\text{cov}(\\tilde x_2, \\tilde x_3)]}_{B} + \\underbrace{\\text{cov}(\\tilde x_2, \\tilde x_3)- \\text{var}(\\tilde x_3)}_{C_2}  = 0 \n                  \\end{aligned}\n                \\]"}),"Using these equations we can solve for our weights in terms of ",(0,c.jsx)(r.A,{inline:!0,children:"\\(  A_1 \\)"}),", ",(0,c.jsx)(r.A,{inline:!0,children:"\\(  A_2 \\)"}),", ",(0,c.jsx)(r.A,{inline:!0,children:"\\(  B \\)"}),", ",(0,c.jsx)(r.A,{inline:!0,children:"\\(  C_1 \\)"}),", and ",(0,c.jsx)(r.A,{inline:!0,children:"\\(  C_2 \\)"}),".",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                  \\begin{aligned}\n                  w_1 &= \\frac{A_2C_1 - BC_2}{B^2 - A_1A_2} \\\\\n                  w_2 &= \\frac{A_1C_2 - BC_1}{B^2 - A_1A_2} \\\\\n                  w_3 &= 1 - w_1 - w_2\n                  \\end{aligned}\n                \\]"})]}),(0,c.jsxs)("p",{children:["Now, we can solve for our variances and covariances.",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                  \\begin{aligned}\n                  \\text{var}(\\tilde x_1) &= (4 - 1)^2\\left(\\frac{1}{4}\\right) + (0 - 1)^2\\left(\\frac{3}{4}\\right) =  3\\\\\n                  \\text{var}(\\tilde x_2) &= (2 - 1)^2\\left(\\frac{1}{2}\\right) + (0 - 1)^2\\left(\\frac{1}{2}\\right) = 1\\\\\n                  \\text{var}(\\tilde x_3) &= (0 - 1)^2\\left(\\frac{1}{4}\\right) + (2 - 1)^2\\left(\\frac{1}{4}\\right) = \\frac{1}{2} \\\\ \\\\\n                  \\text{cov}(\\tilde x_1, \\tilde x_2) &= (4-1)(0-1)\\frac{1}{4} + (0-1)(2-1)\\frac{1}{4} + (0-1)(0-1)\\frac{1}{4} + (0-1)(2-1)\\frac{1}{4} = -1 \\\\\n                  \\text{cov}(\\tilde x_1, \\tilde x_3) &= (4-1)(1-1)\\frac{1}{4} + (0-1)(0-1)\\frac{1}{4} + (0-1)(1-1)\\frac{1}{4} + (0-1)(2-1)\\frac{1}{4} = 0 \\\\\n                  \\text{cov}(\\tilde x_2, \\tilde x_3) &= (0-1)(1-1)\\frac{1}{4} + (2-1)(0-1)\\frac{1}{4} + (0-1)(1-1)\\frac{1}{4} + (2-1)(2-1)\\frac{1}{4} = 0\n                  \\end{aligned}\n                \\]"}),"Using these variances and covariances, we can solve for ",(0,c.jsx)(r.A,{inline:!0,children:"\\(  A_1 \\)"}),", ",(0,c.jsx)(r.A,{inline:!0,children:"\\(  A_2 \\)"}),", ",(0,c.jsx)(r.A,{inline:!0,children:"\\(  B \\)"}),", ",(0,c.jsx)(r.A,{inline:!0,children:"\\(  C_1 \\)"}),", and ",(0,c.jsx)(r.A,{inline:!0,children:"\\(  C_2 \\)"}),".",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                  \\begin{aligned}\n                  A_1 &= \\text{var}(\\tilde x_1) + \\text{var}(\\tilde x_3) - 2\\text{cov}(\\tilde x_1, \\tilde x_3) = \\frac{7}{2} \\\\\n                  A_2 &= \\text{var}(\\tilde x_2) + \\text{var}(\\tilde x_3) - 2\\text{cov}(\\tilde x_2, \\tilde x_3) = \\frac{3}{2} \\\\\n                  B &= \\text{var}(\\tilde x_3)  + \\text{cov}(\\tilde x_1, \\tilde x_2) - \\text{cov}(\\tilde x_1, \\tilde x_3) - \\text{cov}(\\tilde x_2, \\tilde x_3) = - \\frac{1}{2}\\\\\n                  C_1 &= \\text{cov}(\\tilde x_1, \\tilde x_3) - \\text{var}(\\tilde x_3) =  - \\frac{1}{2} \\\\\n                  C_2 &= \\text{cov}(\\tilde x_2, \\tilde x_3)- \\text{var}(\\tilde x_3) = - \\frac{1}{2}\n                  \\end{aligned}\n                \\]"}),"Finally, we can solve for the weights.",(0,c.jsx)(r.A,{className:"math-container",children:"\\[\n                  \\begin{aligned}\n                  w_1 = \\frac{1}{5} \\qquad\n                  w_2 = \\frac{2}{5} \\qquad\n                  w_3 = \\frac{2}{5}\n                  \\end{aligned}\n                \\]"})]})]}),children:[(0,c.jsxs)("p",{children:[(0,c.jsx)("strong",{children:"Example 2:"})," Suppose you have a set amount of money to put in 3 different investment opportunities. The investment opportunities have the following payoffs according to which of 4 equally likely states of the world occurs in the future:"]}),(0,c.jsx)("div",{className:"table-wrapper",children:(0,c.jsxs)("table",{className:"my-table",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"table-entry-head",children:"State"}),(0,c.jsx)("th",{className:"table-entry-head",children:"Probability"}),(0,c.jsx)("th",{className:"table-entry-head",children:"Investment 1"}),(0,c.jsx)("th",{className:"table-entry-head",children:"Investment 2"}),(0,c.jsx)("th",{className:"table-entry-head",children:"Investment 3"})]})}),(0,c.jsxs)("tbody",{children:[(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 1 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{4} \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 4 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 1 \\)"})})]}),(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 2 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{4} \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 2 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})})]}),(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 3 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{4} \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 1 \\)"})})]}),(0,c.jsxs)("tr",{className:"table-row",children:[(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 4 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{4} \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 0 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 2 \\)"})}),(0,c.jsx)("td",{className:"table-entry",children:(0,c.jsx)(r.A,{inline:!0,children:"\\( 2 \\)"})})]})]})]})}),(0,c.jsx)("p",{children:"You must invest the whole amount of money. Each investment has the same initial cost, and you can purchase fractional shares. What fraction of the money should you invest in each investment opportunity to achieve the lowest variance?"})]})]}),(0,c.jsx)(s.A,{group:"Stats"}),(0,c.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,c.jsx)(a.k2,{className:"BS-link",to:"/stats",children:"Contents"})})]})}},8838:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});n(5043),n(1204);var a=n(5475),i=n(4257),r=n(7971),s=n(2638),l=n(579);const o=function(){return(0,l.jsxs)("div",{className:"Stats",children:[(0,l.jsx)(s.A,{group:"Stats"}),(0,l.jsx)("p",{className:"heading1",children:"Samples"}),(0,l.jsxs)(i.A,{children:[(0,l.jsx)("p",{className:"heading2",children:"Population vs. Sample"}),(0,l.jsx)("p",{children:"Up to this point, we have assumed that we know how the data is generated. That is, we know the full probability distribution of the random variables we are studying, which allows us to compute expected values, variances, covariances, and correlations exactly."}),(0,l.jsx)("p",{children:"In many real situations, however, the data-generating process is unknown. Instead, we essentially observe outputs from a black box: on each trial, the box produces an outcome, but the mechanism inside is hidden from us."}),(0,l.jsx)("p",{children:"When the data-generating process is known, we can work with population quantities. When it is unknown, we must estimate those quantities using only the data we observe."}),(0,l.jsx)("p",{className:"heading2",children:"Probabilities and Observations"}),(0,l.jsxs)("p",{children:["When we know the entire distribution of a random variable, we know the probability of each outcome. When we don't know the data-generating process, we estimate the underlying probability of an outcome based on how frequently we actually see it occur. Suppose we observe the following values drawn from some unknown distribution of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\tilde x \\)"}),": 1, 1, 1, 2, 3, 3, 4, 4, 5, 6, 6, 6. We can estimate the probability of each outcome using its frequency. Given 12 total observations, we have the following frequencies:"]}),(0,l.jsx)("div",{className:"table-wrapper",children:(0,l.jsxs)("table",{className:"my-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"table-entry-head",children:"Outcome"}),(0,l.jsx)("th",{className:"table-entry-head",children:"# of Observations"}),(0,l.jsx)("th",{className:"table-entry-head",children:"Frequency"})]})}),(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry",children:"1"}),(0,l.jsx)("td",{className:"table-entry",children:"3"}),(0,l.jsx)("td",{className:"table-entry",children:"3/12"})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry",children:"2"}),(0,l.jsx)("td",{className:"table-entry",children:"1"}),(0,l.jsx)("td",{className:"table-entry",children:"1/12"})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry",children:"3"}),(0,l.jsx)("td",{className:"table-entry",children:"2"}),(0,l.jsx)("td",{className:"table-entry",children:"2/12"})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry",children:"4"}),(0,l.jsx)("td",{className:"table-entry",children:"2"}),(0,l.jsx)("td",{className:"table-entry",children:"2/12"})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry",children:"5"}),(0,l.jsx)("td",{className:"table-entry",children:"1"}),(0,l.jsx)("td",{className:"table-entry",children:"1/12"})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry",children:"6"}),(0,l.jsx)("td",{className:"table-entry",children:"3"}),(0,l.jsx)("td",{className:"table-entry",children:"3/12"})]})]})]})}),(0,l.jsxs)("p",{children:["If we use these frequencies as our probabilities, we can estimate the expected value and variance of the distribution.",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n             E[\\tilde x] \\approx&\\; 1\\left(\\frac{3}{12}\\right) + 2\\left(\\frac{1}{12}\\right) + 3\\left(\\frac{2}{12}\\right)\n             + 4\\left(\\frac{2}{12}\\right) + 5\\left(\\frac{1}{12}\\right) + 6\\left(\\frac{3}{12}\\right) \\\\\n             =&\\; 3.5 \\\\ \\\\\n             \\text{var}(\\tilde x) \\approx&\\; (1-3.5)^2\\left(\\frac{3}{12}\\right) + (2-3.5)^2\\left(\\frac{1}{12}\\right) + (3-3.5)^2\\left(\\frac{2}{12}\\right) \\\\\n             &+ (4-3.5)^2\\left(\\frac{2}{12}\\right) + (5-3.5)^2\\left(\\frac{1}{12}\\right) + (6-3.5)^2\\left(\\frac{3}{12}\\right) \\\\\n             \\approx&\\; 3.58\n            \\end{aligned}\n          \\]"}),"Instead of estimating each probability individually, we could arrive at the same result for the expected value by simply summing up each observation and dividing by the total number of observations."]}),(0,l.jsx)("p",{children:"We can use a similar strategy for the variance by treating each individual observation as having probability one divided by the number of observations. However, in practice, we actually treat each observation as having probability one over one less than the total number of observations when estimating variance. This adjustment accounts for the fact that the expected value itself is estimated from the data."}),(0,l.jsx)("p",{className:"heading2",children:"Sample Statistics"}),(0,l.jsxs)("p",{children:["Suppose we observe ",(0,l.jsx)(r.A,{inline:!0,children:"\\( N \\)"})," draws over time from two unknown distributions: ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\tilde x \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\tilde y \\)"}),". We'll label each observation by the period it was drawn. This gives us ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x_1, x_2, \\dots, x_N \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( y_1, y_2, \\dots, y_N \\)"}),". The following table compares the population-level statistics we coverd in the last two sections to their sample analogues:"]}),(0,l.jsx)("div",{className:"table-wrapper",children:(0,l.jsxs)("table",{className:"my-table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"table-entry-head",children:"Statistic"}),(0,l.jsx)("th",{className:"table-entry-head",children:"Population"}),(0,l.jsx)("th",{className:"table-entry-head",children:"Sample"})]})}),(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry",children:"Mean"}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( E[\\tilde x] \\)"})}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( \\bar x = \\frac{1}{N}\\sum^N_{t=1}x_t\\)"})})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry",children:"Variance"}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n                    \\begin{aligned}\n                     \\text{var}(\\tilde x) &= E\\left[\\left(\\tilde x - E[\\tilde x]\\right)^2\\right] \\\\\n                     &= E\\left[\\tilde x^2\\right] - \\left(E[\\tilde x]\\right)^2\n                    \\end{aligned}\n                  \\]"})}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( s_x^2 = \\frac{1}{N-1}\\sum^N_{t=1}(x_t-\\bar x)^2\\)"})})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry",children:"Standard Deviation"}),(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n                    \\begin{aligned}\n                     \\text{std}(\\tilde x) &= \\sqrt{E\\left[\\left(\\tilde x - E[\\tilde x]\\right)^2\\right]} \\\\\n                     &= \\sqrt{E\\left[\\tilde x^2\\right] - \\left(E[\\tilde x]\\right)^2}\n                    \\end{aligned}\n                  \\]"}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( s_x = \\sqrt{\\frac{1}{N-1}\\sum^N_{t=1}(x_t-\\bar x)^2} \\)"})})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry",children:"Covariance"}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n                    \\begin{aligned}\n                     \\text{cov}(\\tilde x, \\tilde y) &= E\\left[\\left(\\tilde x - E[\\tilde x]\\right)\\left(\\tilde y-E[\\tilde y]\\right)\\right] \\\\\n                     &= E[\\tilde x\\tilde y] - E[\\tilde x]E[\\tilde y]\n                    \\end{aligned}\n                  \\]"})}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( s_{x,y}= \\frac{1}{N-1}\\sum^N_{t=1}(x_t-\\bar x)(y_t - \\bar y)\\)"})})]}),(0,l.jsxs)("tr",{className:"table-row",children:[(0,l.jsx)("td",{className:"table-entry",children:"Correlation"}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( \\text{corr}(\\tilde x, \\tilde y) = \\frac{\\text{cov}(\\tilde x, \\tilde y)}{\\sqrt{\\text{var}(\\tilde x)\\text{var}(\\tilde y)}}\\)"})}),(0,l.jsx)("td",{className:"table-entry",children:(0,l.jsx)(r.A,{inline:!0,children:"\\( r_{x,y}= \\frac{s_{x,y}}{s_x s_y}\\)"})})]})]})]})})]}),(0,l.jsx)(s.A,{group:"Stats"}),(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,l.jsx)(a.k2,{className:"BS-link",to:"/stats",children:"Contents"})})]})}},5351:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});n(5043),n(1204);var a=n(5475),i=n(4257),r=n(7971),s=n(2638),l=n(9706),o=n(579);const c=function(){return(0,o.jsxs)("div",{className:"Stats",children:[(0,o.jsx)(s.A,{group:"Stats"}),(0,o.jsx)("p",{className:"heading1",children:"Regression"}),(0,o.jsxs)(i.A,{children:[(0,o.jsx)("p",{className:"heading2",children:"Relationship Between Two Variables"}),(0,o.jsxs)("p",{children:["In the lesson on ",(0,o.jsx)(a.k2,{className:"inline-link",to:"/stats/multiple_random_variable",children:"Multiple Random Variables"}),", we talked about ways of comparing two variables. For example, suppose we are interested in the relationship between the dollar amount at stake in civil litigation and the number of hours law firms bill their clients. Let's say we observe the following data points:"]}),(0,o.jsx)("div",{className:"table-wrapper",children:(0,o.jsxs)("table",{className:"my-table",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{className:"table-entry-head",children:"Case"}),(0,o.jsx)("th",{className:"table-entry-head",children:"Stakes (in thousands of dollars)"}),(0,o.jsx)("th",{className:"table-entry-head",children:"Hours Billed"})]})}),(0,o.jsxs)("tbody",{children:[(0,o.jsxs)("tr",{className:"table-row",children:[(0,o.jsx)("td",{className:"table-entry",children:"1"}),(0,o.jsx)("td",{className:"table-entry",children:"20"}),(0,o.jsx)("td",{className:"table-entry",children:"10"})]}),(0,o.jsxs)("tr",{className:"table-row",children:[(0,o.jsx)("td",{className:"table-entry",children:"2"}),(0,o.jsx)("td",{className:"table-entry",children:"40"}),(0,o.jsx)("td",{className:"table-entry",children:"30"})]}),(0,o.jsxs)("tr",{className:"table-row",children:[(0,o.jsx)("td",{className:"table-entry",children:"3"}),(0,o.jsx)("td",{className:"table-entry",children:"60"}),(0,o.jsx)("td",{className:"table-entry",children:"20"})]}),(0,o.jsxs)("tr",{className:"table-row",children:[(0,o.jsx)("td",{className:"table-entry",children:"4"}),(0,o.jsx)("td",{className:"table-entry",children:"80"}),(0,o.jsx)("td",{className:"table-entry",children:"30"})]}),(0,o.jsxs)("tr",{className:"table-row",children:[(0,o.jsx)("td",{className:"table-entry",children:"5"}),(0,o.jsx)("td",{className:"table-entry",children:"100"}),(0,o.jsx)("td",{className:"table-entry",children:"50"})]}),(0,o.jsxs)("tr",{className:"table-row",children:[(0,o.jsx)("td",{className:"table-entry",children:"6"}),(0,o.jsx)("td",{className:"table-entry",children:"120"}),(0,o.jsx)("td",{className:"table-entry",children:"60"})]}),(0,o.jsxs)("tr",{className:"table-row",children:[(0,o.jsx)("td",{className:"table-entry",children:"7"}),(0,o.jsx)("td",{className:"table-entry",children:"140"}),(0,o.jsx)("td",{className:"table-entry",children:"80"})]}),(0,o.jsxs)("tr",{className:"table-row",children:[(0,o.jsx)("td",{className:"table-entry",children:"8"}),(0,o.jsx)("td",{className:"table-entry",children:"160"}),(0,o.jsx)("td",{className:"table-entry",children:"70"})]}),(0,o.jsxs)("tr",{className:"table-row",children:[(0,o.jsx)("td",{className:"table-entry",children:"9"}),(0,o.jsx)("td",{className:"table-entry",children:"180"}),(0,o.jsx)("td",{className:"table-entry",children:"100"})]}),(0,o.jsxs)("tr",{className:"table-row",children:[(0,o.jsx)("td",{className:"table-entry",children:"10"}),(0,o.jsx)("td",{className:"table-entry",children:"200"}),(0,o.jsx)("td",{className:"table-entry",children:"90"})]}),(0,o.jsxs)("tr",{className:"table-row",children:[(0,o.jsx)("td",{className:"table-entry",children:"11"}),(0,o.jsx)("td",{className:"table-entry",children:"220"}),(0,o.jsx)("td",{className:"table-entry",children:"100"})]}),(0,o.jsxs)("tr",{className:"table-row",children:[(0,o.jsx)("td",{className:"table-entry",children:"12"}),(0,o.jsx)("td",{className:"table-entry",children:"240"}),(0,o.jsx)("td",{className:"table-entry",children:"120"})]})]})]})}),(0,o.jsxs)("p",{children:["Let's denote stakes as the variable ",(0,o.jsx)(r.A,{inline:!0,children:"\\( x \\)"})," and hours billed as the variable ",(0,o.jsx)(r.A,{inline:!0,children:"\\( y \\)"}),". Thus, the stakes and hours billed on the first case are given by the ordered pair ",(0,o.jsx)(r.A,{inline:!0,children:"\\( (x_1, y_1) = (20, 18) \\)"}),"."]}),(0,o.jsx)("p",{children:'Intuitively we might expect that higher stakes case result in more hours billed. How might we formalize or test this intuition? We could calculate the covariance and the correlation between the two variables. These measures would tell us whether there is a positive relationship between stakes and hours billed (i.e., hours billed goes up when stakes goes up). But what if we want to say something more about the relationship, like "for every additional $1,000 at stake in the case, law firms bill [--] more hours on average"? To do this, we rely on linear regression.'}),(0,o.jsx)("p",{className:"heading2",children:"Fitting a Line"}),(0,o.jsx)("p",{children:"First, let's plot our data with case stakes on the x-axis and hours billed on the y-axis."}),(0,o.jsx)("div",{className:"scrollable-container",children:(0,o.jsx)("div",{style:{position:"relative"},children:(0,o.jsx)(l.default,{showRegression:!1,enableDrag:!1,showResiduals:!1})})}),(0,o.jsx)("p",{children:"Our goal here is to draw a line through the points in a way that best represents the relationship between the two variables. In this case, we can see a clear positive relationship, which means the slope of our line should be positive. But how should we choose the magnitude of the slope and the y-intercept of the line?"}),(0,o.jsxs)("p",{children:["We could draw lots of different lines through these points depending on our choice of slope and y-intercept. We need some sort of criteria to help us pick the best line. Let's consider some candidate line with slope ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\beta \\)"})," and y-intercept ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\alpha \\)"}),".",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            y = \\alpha + \\beta x \n            \\end{aligned}\n          \\]"}),'For any given datapoint, our line is going to be slightly off since connecting the points does not create a perfectly straight line. To determine whether we have found the best line, let\'s consider by how much we are "off" from each point. To do this, we can calculate for each point the difference between (1) the actual y-value from the data and (2) the y-value implied by our line. For example, in case 1, the hours billed implied by our line is ',(0,o.jsx)(r.A,{inline:!0,children:"\\( \\alpha + x_1\\beta  = \\alpha + 20\\beta  \\)"})," and the actual hours billed is ",(0,o.jsx)(r.A,{inline:!0,children:"\\( y_1 = 10 \\)"}),'. Thus, the "error" from using the line to predict billed hours from case stakes is ',(0,o.jsx)(r.A,{inline:!0,children:"\\( y_1 - (\\alpha + x_1\\beta) = 10 - (\\alpha + 20\\beta) \\)"}),"."]}),(0,o.jsx)("p",{children:"We can sum up the error from each point to construct a measure of how well our line fits the data. The problem with this approach is that our line may be too high relative to the actual value in some cases (resulting in negative error) and too low relative to the actual value in other cases (resulting in positive error). To account for this, we will take the square of each error before summing up all the error terms. Thus, the line that best describes the relationship between the variables is the one that produces the lowest total squared error."}),(0,o.jsx)("p",{children:"The graph below illustrates how this works in practice. The dotted line connecting each point to the blue line represents the error for that point, or the amount by which the y-value predicted by the line is off from the actual y-value. The blue line represents the choice of slope and y-intercept that results in the lowest total squared error."}),(0,o.jsx)("div",{className:"scrollable-container",children:(0,o.jsx)("div",{style:{position:"relative"},children:(0,o.jsx)(l.default,{showRegression:!0,enableDrag:!0,showResiduals:!0})})}),(0,o.jsx)("p",{children:"Click and drag the orange points to change the data values. Notice how the slope and y-intercept of the line change as you move the points around."}),(0,o.jsx)("p",{className:"heading2",children:"Minimizing Squared Error"}),(0,o.jsxs)("p",{children:["Now that we've seen how this works visually, let's find an equation for the best line. For any given data point ",(0,o.jsx)(r.A,{inline:!0,children:"\\( i \\)"}),", we'll define the predicted value as the y-value implied by our line, or",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\hat y_i = \\alpha + \\beta x_i\n            \\end{aligned}\n          \\]"}),"Thus, the error for a each point is given by ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\hat \\varepsilon_i = y_i - \\hat y_i  \\)"}),". We want to choose the slope and y-intercept of the line to minimize the sum of the squared error across all points. If we have ",(0,o.jsx)(r.A,{inline:!0,children:"\\( N \\)"})," observations, we can write the problem as",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              \\underset{\\alpha, \\beta}{\\text{min}} \\sum^N_{i=1} \\hat \\varepsilon_i^2 \n              &= \\underset{\\alpha, \\beta}{\\text{min}} \\sum^N_{i=1}  (y_i - \\hat y_i)^2 \\\\\n              &= \\underset{\\alpha, \\beta}{\\text{min}} \\sum^N_{i=1}  (y_i - (\\alpha + \\beta x_i))^2 \n            \\end{aligned}\n          \\]"}),"To find the optimal values for ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\alpha \\)"})," and ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\beta \\)"})," (",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\hat \\alpha \\)"})," and ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\hat \\beta \\)"}),"), we'll take a derivative with respect to each of these parameters and set these derivatives equal to zero. This gives us",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              -2\\sum^N_{i=1} (y_i - (\\hat \\alpha + \\hat \\beta x_i)) = 0 \\qquad\\qquad &(1) \\\\ \n              -2\\sum^N_{i=1} x_i(y_i - (\\hat \\alpha + \\hat \\beta x_i)) = 0 \\qquad\\qquad &(2)\n            \\end{aligned}\n          \\]"}),"We'll use equation (1) to solve for ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\hat \\alpha \\)"})," in terms of ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\hat \\beta \\)"})," .",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              &-2\\sum^N_{i=1} (y_i - (\\hat \\alpha + \\hat \\beta x_i)) = 0 \\\\ \n              &\\Leftrightarrow \\frac{1}{N} \\sum^N_{i=1} (\\hat \\alpha + \\hat \\beta x_i) = \\frac{1}{N} \\sum^N_{i=1} y_i \\\\\n              &\\Leftrightarrow \\hat \\alpha  = \\frac{1}{N} \\sum^N_{i=1} y_i - \\hat \\beta\\left(\\frac{1}{N} \\sum^N_{i=1} x_i\\right)\\\\\n            \\end{aligned}\n          \\]"}),"Note that ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{N} \\sum^N_{i=1} x_i \\)"})," and ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\frac{1}{N} \\sum^N_{i=1} y_i \\)"})," are just the mean of ",(0,o.jsx)(r.A,{inline:!0,children:"\\( x \\)"})," and ",(0,o.jsx)(r.A,{inline:!0,children:"\\( y \\)"}),". Thus, we can write",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              \\hat \\alpha  = \\bar y - \\hat \\beta\\bar x\\\\\n            \\end{aligned}\n          \\]"}),"Now, we plug in this expression for ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\hat \\alpha \\)"})," into equation (2) and solve for ",(0,o.jsx)(r.A,{inline:!0,children:"\\( \\hat \\beta\\)"}),".",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              &-2\\sum^N_{i=1} x_i(y_i - (\\hat \\alpha + \\hat \\beta x_i)) = 0 \\\\\n              &\\Leftrightarrow \\frac{1}{N}\\sum^N_{i=1} x_i(y_i -(\\bar y - \\hat \\beta\\bar x + \\hat \\beta x_i)) = 0 \\\\\n              &\\Leftrightarrow \\hat \\beta \\left[\\frac{1}{N}\\sum^N_{i=1} x_i^2 - \\bar x\\left(\\frac{1}{N}\\sum^N_{i=1} x_i\\right)\\right] = \\frac{1}{N}\\sum^N_{i=1} x_i y_i - \\left(\\frac{1}{N}\\sum^N_{i=1} x_i\\right)\\bar y \\\\\n              &\\Leftrightarrow \\hat \\beta  = \\frac{\\frac{1}{N}\\sum^N_{i=1} x_i y_i - \\bar x\\bar y}{\\frac{1}{N}\\sum^N_{i=1} x_i^2 - \\bar x^2 }\n            \\end{aligned}\n          \\]"}),"Note that we can rewrite the bottom of this fraction as",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              \\frac{1}{N}\\sum^N_{i=1} x_i^2 - \\bar x^2 &= \\frac{1}{N}\\sum^N_{i=1} \\left(x_i^2 - 2x_i \\bar x + \\bar x^2 \\right) \\\\\n              &= \\frac{1}{N}\\sum^N_{i=1}(x_i - \\bar x)^2 \n            \\end{aligned}\n          \\]"}),"Similarly, we can rewrite the top of this fraction as",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              \\frac{1}{N}\\sum^N_{i=1} x_i y_i - \\bar x\\bar y &= \\frac{1}{N}\\sum^N_{i=1} (x_iy_i - x_i\\bar y - \\bar x y_i + \\bar x \\bar y) \\\\\n              &= \\frac{1}{N}\\sum^N_{i=1} (x_i - \\bar x)(y_i - \\bar y) \n            \\end{aligned}\n          \\]"}),"Thus, we have that",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              \\hat \\beta &= \\frac{\\frac{1}{N}\\sum^N_{i=1} (x_i - \\bar x)(y_i - \\bar y) }{\\frac{1}{N}\\sum^N_{i=1}(x_i - \\bar x)^2 } \\\\\n              &= \\frac{\\frac{1}{N - 1}\\sum^N_{i=1} (x_i - \\bar x)(y_i - \\bar y) }{\\frac{1}{N - 1}\\sum^N_{i=1}(x_i - \\bar x)^2 } \\\\\n              &= \\frac{s_{x,y}}{s_x^2}\n            \\end{aligned}\n          \\]"}),"This means the slope of the best fit line is simply the sample covariance of ",(0,o.jsx)(r.A,{inline:!0,children:"\\( x \\)"})," and ",(0,o.jsx)(r.A,{inline:!0,children:"\\( y \\)"})," over the sample variance of ",(0,o.jsx)(r.A,{inline:!0,children:"\\( x \\)"}),"."]}),(0,o.jsxs)("p",{children:["Putting everything together, we can estimate the relationship between two variables using a linear regression where",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              \\hat y_i &= \\hat \\alpha + \\hat \\beta x_i \\\\\n              &= \\bar y + \\frac{s_{x,y}}{s^2_x}(x_i - \\bar x)\n            \\end{aligned}\n          \\]"})]}),(0,o.jsx)("p",{className:"heading2",children:"Interpreting Slope"}),(0,o.jsxs)("p",{children:["The slope of a regression line can be used to formalize the magnitude of the relationship between two variables. To see this in practice, let's calculate the slope of the regression line for hours billed on case stakes.",(0,o.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n              \\bar x &= \\frac{1}{N}\\sum^N_{i=1}x_i = 130 \\\\\n              \\bar y &= \\frac{1}{N}\\sum^N_{i=1}y_i \\approx 63.33 \\\\\n              s_{x,y} &= \\frac{1}{N - 1}\\sum^N_{i=1} (x_i - \\bar x)(y_i - \\bar x) \\approx 2509.09 \\\\\n              s_x^2 &= \\frac{1}{N - 1}\\sum^N_{i=1} (x_i - \\bar x)^2 = 5200 \\\\\n              \\hat \\beta &= \\frac{s_{x,y}}{s^2_x} \\approx 0.4825\n            \\end{aligned}\n          \\]"}),"A slope coefficient of about 1/2 means that increasing the stakes of a case by $1,000 is predicted to add an additional half hour to the total hours billed on the case."]}),(0,o.jsx)("p",{children:"It is important to be clear about what this interpretation means. The slope of a regression line describes an association, not necessarily a causal effect. In particular, the coefficient does not mean that mechanically increasing the stakes of a case by $1,000 would cause lawyers to spend an additional half hour on the case. Case stakes are not randomly assigned. More complex cases tend to have both higher stakes and require more lawyer time, and lawyers may choose to invest more effort in cases they believe are more important for reasons not captured in the data. The regression slope summarizes how hours billed and case stakes tend to move together in the observed data. Whether this relationship reflects a causal effect, strategic behavior, case complexity, or some combination of these factors is a separate question that requires additional assumptions or evidence."})]}),(0,o.jsx)(s.A,{group:"Stats"}),(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,o.jsx)(a.k2,{className:"BS-link",to:"/stats",children:"Contents"})})]})}},6576:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});n(5043),n(1204);var a=n(5475),i=n(4257),r=n(7971),s=n(2638),l=n(579);const o=function(){return(0,l.jsxs)("div",{className:"Stats",children:[(0,l.jsx)(s.A,{group:"Stats"}),(0,l.jsx)("p",{className:"heading1",children:"Regression with Multiple Variables"}),(0,l.jsxs)(i.A,{children:[(0,l.jsxs)("p",{children:["In the last section, we expressed the relationship between two random variables using the structure of a line.",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            y_i = \\alpha + \\beta x_i + \\varepsilon_i \n            \\end{aligned}\n          \\]"}),"What if we wanted to use multiple ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x \\)"})," variables to predict ",(0,l.jsx)(r.A,{inline:!0,children:"\\( y \\)"}),"? Something like",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            y_i = \\beta_0 + \\beta_1 x_{i,1} + \\beta_2 x_{i,2} + \\beta_3 x_{i,3} + \\varepsilon_i\n            \\end{aligned}\n          \\]"}),"where ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x_{i,1} \\)"}),", ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x_{i,2} \\)"}),", and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x_{i,3} \\)"})," all influence the outcome ",(0,l.jsx)(r.A,{inline:!0,children:"\\(  y_i \\)"}),". Drawing from the example in the last section, perhaps the hours billed on a case are not only influenced by the stakes of the case (",(0,l.jsx)(r.A,{inline:!0,children:"\\( x_{i,1} \\)"}),") but also the specific law firm working the case (",(0,l.jsx)(r.A,{inline:!0,children:"\\( x_{i,2} \\)"}),") and the type of claims being litigated (",(0,l.jsx)(r.A,{inline:!0,children:"\\( x_{i,3} \\)"}),")."]}),(0,l.jsx)("p",{className:"heading2",children:"Matrix Form"}),(0,l.jsxs)("p",{children:["Before we add more variables, we need to rewrite our regression equation in terms of vectors and matrices. First, let's call our intercept term ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta_0 \\)"})," instead of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\alpha \\)"}),". The equation ",(0,l.jsx)(r.A,{inline:!0,children:"\\( y_i = \\beta_0 + \\beta_1 x_i + \\varepsilon_i  \\)"})," establishes a relationship for every observation ",(0,l.jsx)(r.A,{inline:!0,children:"\\( i \\)"}),". Thus,",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            y_1 &= \\beta_0 + \\beta_1 x_1 + \\varepsilon_1 \\\\\n            y_2 &= \\beta_0 + \\beta_1 x_2 + \\varepsilon_2 \\\\\n            y_3 &= \\beta_0 + \\beta_1 x_3 + \\varepsilon_3  \\\\\n            \\vdots \\\\\n            y_N &= \\beta_0 + \\beta_1 x_N + \\varepsilon_N \n            \\end{aligned}\n          \\]"}),"Instead of writing ",(0,l.jsx)(r.A,{inline:!0,children:"\\( N \\)"})," equations (one for each observation), we can represent this entire set of equations using vectors and matrices."]}),(0,l.jsxs)("p",{children:["If we let ",(0,l.jsx)(r.A,{inline:!0,children:"\\( Y =  \\begin{bmatrix} y_1 \\\\ y_2 \\\\ y_3 \\\\ \\vdots \\\\ y_N \\end{bmatrix} \\)"}),", ",(0,l.jsx)(r.A,{inline:!0,children:"\\( X = \\begin{bmatrix} 1 & x_1 \\\\ 1 & x_2 \\\\ 1 & x_3 \\\\ \\vdots & \\vdots \\\\ 1 & x_N \\end{bmatrix} \\)"}),", ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta = \\begin{bmatrix} \\beta_0 \\\\ \\beta_1 \\end{bmatrix} \\)"}),", and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\varepsilon = \\begin{bmatrix} \\varepsilon_1 \\\\ \\varepsilon_2 \\\\ \\varepsilon_3 \\\\ \\vdots \\\\ \\varepsilon_N \\end{bmatrix} \\)"}),", we can represent all ",(0,l.jsx)(r.A,{inline:!0,children:"\\( N \\)"})," equations using the form",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\overbrace{\\begin{bmatrix} y_1 \\\\ y_2 \\\\ y_3 \\\\ \\vdots \\\\ y_N \\end{bmatrix}}^{Y} = \n            \\overbrace{\\begin{bmatrix} 1 & x_1 \\\\ 1 & x_2 \\\\ 1 & x_3 \\\\ \\vdots & \\vdots \\\\ 1 & x_N \\end{bmatrix}}^{X}\n            \\overbrace{\\begin{bmatrix} \\beta_0 \\\\ \\beta_1 \\end{bmatrix}}^{\\beta} +\n            \\overbrace{\\begin{bmatrix} \\varepsilon_1 \\\\ \\varepsilon_2 \\\\ \\varepsilon_3 \\\\ \\vdots \\\\ \\varepsilon_N \\end{bmatrix}}^{\\varepsilon}\n            \\end{aligned}\n          \\]"})]}),(0,l.jsxs)("p",{children:["Now, we can easily add more ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x \\)"})," variables simply by increasing the columns of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( X \\)"})," and the rows of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta \\)"}),".",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\overbrace{\\begin{bmatrix} y_1 \\\\ y_2 \\\\ y_3 \\\\ \\vdots \\\\ y_N \\end{bmatrix}}^{Y} = \n            \\overbrace{\\begin{bmatrix} 1 & x_{1,1} & x_{1,2} & x_{1,3} \\\\ 1 & x_{2,1} & x_{2,2} & x_{2,3} \\\\ 1 & x_{3,1} & x_{3,2} & x_{3,3} \\\\ \\vdots & \\vdots \\\\ 1 & x_{N,1} & x_{N,2} & x_{N,3} \\end{bmatrix}}^{X}\n            \\overbrace{\\begin{bmatrix} \\beta_0 \\\\ \\beta_1 \\\\ \\beta_2 \\\\ \\beta_3 \\end{bmatrix}}^{\\beta} +\n            \\overbrace{\\begin{bmatrix} \\varepsilon_1 \\\\ \\varepsilon_2 \\\\ \\varepsilon_3 \\\\ \\vdots \\\\ \\varepsilon_N \\end{bmatrix}}^{\\varepsilon}\n            \\end{aligned}\n          \\]"})]}),(0,l.jsx)("p",{className:"heading2",children:"Matrix Rules"}),(0,l.jsxs)("p",{children:["Before we find estimates for our vector of betas, we need to review a few properties of matrices. Let's consider the following matrices:",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            A = \\begin{bmatrix} 2 & 1 \\\\ 3 & 4 \\end{bmatrix} \\qquad \n            B = \\begin{bmatrix} 1 & 3 \\\\ 2 & 4 \\end{bmatrix} \\qquad\n            C = \\begin{bmatrix} 1 & 2 \\\\ 2 & 3 \\\\ 1 & 2  \\end{bmatrix} \n            \\end{aligned}\n          \\]"}),"The dimension of a matrix is the number of rows by the number of columns. ",(0,l.jsx)(r.A,{inline:!0,children:"\\( A \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( B \\)"})," are ",(0,l.jsx)(r.A,{inline:!0,children:"\\( 2\\times 2 \\)"})," matrices and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( C \\)"})," is a ",(0,l.jsx)(r.A,{inline:!0,children:"\\( 3 \\times 2 \\)"})," matrix."]}),(0,l.jsxs)("p",{children:["We can add and subtract matrices if they have the same dimension. We do this by applying the operator to each individual entry.",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            A - B &= \\begin{bmatrix} 2 - 1 & 1 - 3\\\\ 3 - 2 & 4 - 4\\end{bmatrix}\n            = \\begin{bmatrix} 1 & -2 \\\\ 1 & 0 \\end{bmatrix} \n            \\end{aligned}\n          \\]"}),"To multiply a matrix by a scalar (a non-matrix), we simply distribute the scalar through.",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            3A  &= \\begin{bmatrix} 3\\times2 & 3\\times1 \\\\ 3\\times3 & 3\\times4 \\end{bmatrix}\n            = \\begin{bmatrix} 6 & 3 \\\\ 9 & 12 \\end{bmatrix} \n            \\end{aligned}\n          \\]"}),"If we want to multiply two matrices together, we first need to make sure that their dimensions line up. Unlike scalar multiplication, order matters in matrix multiplication. Multiplication is only possible if the number of columns on the first matrix is equal to the number of rows on the second matrix. Put differently, a matrix of dimension ",(0,l.jsx)(r.A,{inline:!0,children:"\\( p \\times n \\)"})," can only multiply with matrices of dimension ",(0,l.jsx)(r.A,{inline:!0,children:"\\( n \\times q \\)"}),", where ",(0,l.jsx)(r.A,{inline:!0,children:"\\( p \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( q \\)"})," can be any positive integers. The result of multiplying a ",(0,l.jsx)(r.A,{inline:!0,children:"\\( p \\times n \\)"})," matrix with a ",(0,l.jsx)(r.A,{inline:!0,children:"\\( n \\times q \\)"})," matrix will be a matrix of dimension ",(0,l.jsx)(r.A,{inline:!0,children:"\\( p \\times q \\)"}),"."]}),(0,l.jsxs)("p",{children:["To multiply matrices, we take the sum of the product of each row on the first matrix with each column on the second matrix. For example,",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            AB &= \\begin{bmatrix} 2 & 1 \\\\ 3 & 4 \\end{bmatrix} \\begin{bmatrix} 1 & 3 \\\\ 2 & 4 \\end{bmatrix}  = \\begin{bmatrix} (2)(1) + (1)(2) & (2)(3) + (1)(4) \\\\ (3)(1) + (4)(2) & (3)(3) + (4)(4) \\end{bmatrix} \n            = \\begin{bmatrix} 4 & 10 \\\\ 11 & 25 \\end{bmatrix} \\\\ \\\\\n            BA &= \\begin{bmatrix} 1 & 3 \\\\ 2 & 4 \\end{bmatrix} \\begin{bmatrix} 2 & 1 \\\\ 3 & 4 \\end{bmatrix} = \\begin{bmatrix} (1)(2) + (3)(3) &  (1)(1) + (3)(4)  \\\\  (2)(2) + (4)(3) & (2)(1) + (4)(4) \\end{bmatrix} \n            = \\begin{bmatrix} 11 & 13 \\\\ 16 & 10 \\end{bmatrix} \\\\ \\\\\n            CA &= \\begin{bmatrix} 1 & 2 \\\\ 2 & 3 \\\\ 1 & 2  \\end{bmatrix} \\begin{bmatrix} 2 & 1 \\\\ 3 & 4 \\end{bmatrix}  = \\begin{bmatrix} (1)(2) + (2)(3) & (1)(1) + (2)(4)  \\\\  (2)(2) + (3)(3) & (2)(1) + (3)(4)  \\\\ (1)(2) + (1)(3) & (1)(1) + (2)(4) \\end{bmatrix} = \\begin{bmatrix} 8 & 9 \\\\ 13 & 14 \\\\ 5 & 9 \\end{bmatrix}\n            \\end{aligned} \n          \\]"}),"Note that ",(0,l.jsx)(r.A,{inline:!0,children:"\\( AB \\neq BA \\)"})," and the multiplication ",(0,l.jsx)(r.A,{inline:!0,children:"\\( AC \\)"})," is not possible because ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\text{col}(A) = 2 \\neq 3 = \\text{row}(C) \\)"}),"."]}),(0,l.jsxs)("p",{children:["The transpose of a matrix converts rows into columns. We use ",(0,l.jsx)(r.A,{inline:!0,children:"\\( A' \\)"})," to denote the transpose of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( A \\)"}),". For example, consider the transposes of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( A \\)"}),", ",(0,l.jsx)(r.A,{inline:!0,children:"\\( B \\)"}),", and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( C \\)"}),(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            A &= \\begin{bmatrix} 2 & 1 \\\\ 3 & 4 \\end{bmatrix} \\qquad \n            B = \\begin{bmatrix} 1 & 3 \\\\ 2 & 4 \\end{bmatrix} \\qquad\n            C = \\begin{bmatrix} 1 & 2 \\\\ 2 & 3 \\\\ 1 & 2  \\end{bmatrix} \\\\ \\\\\n            A' &= \\begin{bmatrix} 2 & 3 \\\\ 1 & 4 \\end{bmatrix} \\qquad \n            B' = \\begin{bmatrix} 1 & 2 \\\\ 3 & 4 \\end{bmatrix} \\qquad\n            C' = \\begin{bmatrix} 1 & 2 & 1 \\\\ 2 & 3 & 2 \\end{bmatrix} \n            \\end{aligned}\n          \\]"}),"A transpose can distribute into a matrix sum or product. However, a transpose will reverse the order of multiplication. Taking the transpose twice simply returns the original matrix. For example,",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            (A + B)' &= A' + B' \\\\\n            (AB)' &= B'A' \\\\\n            [(BC')' + CAB]' &= BC' + B'A'C'\n            \\end{aligned}\n          \\]"})]}),(0,l.jsxs)("p",{children:["Instead of matrix division, we have inverse matrices. Only square matrices (matrices with the same number of rows and columns) can have an inverse. (Not all square matrices have inverses; a matrix is invertible only if its determinant is nonzero.) The product of a square matrix and its inverse results in the indentity matrix, which is a matrix of ones along the diagonal and zero everywhere else. The inverse of a ",(0,l.jsx)(r.A,{inline:!0,children:"\\( 2\\times 2 \\)"})," matrix is can be found as follows:",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            M &= \\begin{bmatrix} a & b \\\\ c & d \\end{bmatrix} \\\\ \\\\\n            M^{-1} &= \\overbrace{\\frac{1}{ad - bc}}^{\\text{determinant}}\\begin{bmatrix} d & -b \\\\ -c & a \\end{bmatrix} \n            \\end{aligned}\n          \\]"}),"For example, we can find the inverse of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( A \\)"})," as",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            A &= \\begin{bmatrix} 2 & 1 \\\\ 3 & 4 \\end{bmatrix}  \\\\ \\\\\n            A^{-1} &= \\frac{1}{(2)(4) - (1)(3)}\\begin{bmatrix} 4 & -1 \\\\ -3 & 2 \\end{bmatrix} \n            = \\frac{1}{5}\\begin{bmatrix} 4 & -1 \\\\ -3 & 2 \\end{bmatrix} \n            \\end{aligned}\n          \\]"}),"We can show that this is the inverse by considering",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            AA^{-1} &= \\frac{1}{5}\\begin{bmatrix} 2 & 1 \\\\ 3 & 4 \\end{bmatrix}\\begin{bmatrix} 4 & -1 \\\\ -3 & 2 \\end{bmatrix} \\\\\n            &= \\frac{1}{5}\\begin{bmatrix} (2)(4) + (1)(-3) & (2)(-1) + (1)(2) \\\\ (3)(4) + (4)(-3) & (3)(-1) + (4)(2)\\end{bmatrix} \\\\\n            &= \\frac{1}{5}\\begin{bmatrix} 5 &  0 \\\\ 0 & 5 \\end{bmatrix} \\\\\n            &= \\underbrace{\\begin{bmatrix} 1 &  0 \\\\ 0 & 1 \\end{bmatrix}}_{\\text{identity }(I)}\n            \\end{aligned} \n          \\]"}),"The identity matrix is special because multiplication by the identity does not change the other matrix. For example,",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            AI = IA = A\n            \\end{aligned} \n          \\]"})]}),(0,l.jsx)("p",{className:"heading2",children:"Matrix Derivatives"}),(0,l.jsxs)("p",{children:["The final thing we need before we find an estimate for the betas is the ability to take a derivative with matrices. Suppose we have a vector of variables",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            Z &= \\begin{bmatrix} z_1 \\\\ z_2 \\\\ \\vdots \\\\ z_K \\end{bmatrix}\n            \\end{aligned}\n          \\]"}),"We want to consider the derivative of two different expressions. First, what happens when we take the derivative of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( Z \\)"})," multiplied by a vector of constants ",(0,l.jsx)(r.A,{inline:!0,children:"\\( D = \\begin{bmatrix} d_1 \\\\ d_2 \\\\ \\vdots \\\\ d_K \\end{bmatrix} \\)"}),"?",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\frac{\\partial }{\\partial Z}(D'Z) = \\frac{\\partial }{\\partial Z}(Z'D) = D\n            \\end{aligned}\n          \\]"})]}),(0,l.jsxs)("p",{children:["Second, what happens when we take the derivative of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( Z'HZ \\)"})," where ",(0,l.jsx)(r.A,{inline:!0,children:"\\( H \\)"})," is a ",(0,l.jsx)(r.A,{inline:!0,children:"\\( K \\times K \\)"})," matrix of constants?",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\frac{\\partial }{\\partial Z}(Z'HZ) = (H + H')Z\n            \\end{aligned}\n          \\]"})]}),(0,l.jsx)("p",{className:"heading2",children:"Solving for Beta"}),(0,l.jsxs)("p",{children:["With these matrix properties in mind, we are ready to consider the problem of minimizing the sum of the squared error. Recall the matrix form of the regression equation",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            Y = X\\beta + \\varepsilon\n            \\end{aligned}\n          \\]"}),"We'll say we are considering ",(0,l.jsx)(r.A,{inline:!0,children:"\\( N \\)"})," observations and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( K \\)"})," variables (including the intercept). This makes ",(0,l.jsx)(r.A,{inline:!0,children:"\\( Y \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\varepsilon \\)"})," ",(0,l.jsx)(r.A,{inline:!0,children:"\\( N \\times 1 \\)"})," vectors; ",(0,l.jsx)(r.A,{inline:!0,children:"\\( X \\)"})," a ",(0,l.jsx)(r.A,{inline:!0,children:"\\( N \\times K \\)"})," matrix; and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta \\)"})," a ",(0,l.jsx)(r.A,{inline:!0,children:"\\( K \\times 1 \\)"})," vector. First, we can write the sum of the squared error in matrix form as",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\varepsilon'\\varepsilon = \\begin{bmatrix} \\varepsilon_1 & \\varepsilon_2 & \\dots & \\varepsilon_N \\end{bmatrix}\\begin{bmatrix} \\varepsilon_1 \\\\ \\varepsilon_2 \\\\ \\vdots \\\\ \\varepsilon_N \\end{bmatrix}\n            = \\varepsilon_1\\varepsilon_1 + \\varepsilon_2\\varepsilon_2 + \\dots + \\varepsilon_N\\varepsilon_N\n            = \\sum^N_{i=1} \\varepsilon_i^2\n            \\end{aligned}\n          \\]"}),"This let's us write the minimization problem as",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\underset{\\beta}{\\text{min}} \\; \\varepsilon' \\varepsilon \n            &= \\underset{\\beta}{\\text{min}} \\; (Y - X\\beta)'(Y - X\\beta) \\\\\n            &= \\underset{\\beta}{\\text{min}} \\; (Y' - \\beta'X')(Y - X\\beta) \\\\\n             &= \\underset{\\beta}{\\text{min}} \\; [Y'Y - Y'X\\beta - \\beta'X'Y + \\beta'X'X\\beta]\n            \\end{aligned}\n          \\]"}),"If we take a derivative with respect to our vector ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta \\)"}),", the ",(0,l.jsx)(r.A,{inline:!0,children:"\\( Y'Y \\)"})," will go away. Let's consider what happens to the ",(0,l.jsx)(r.A,{inline:!0,children:"\\( Y'X\\beta \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta'X'Y \\)"})," terms. Note that the second of these terms is the transpose of the first (",(0,l.jsx)(r.A,{inline:!0,children:"\\( (Y'X\\beta)' = \\beta' X' Y \\)"}),"). Next, note that ",(0,l.jsx)(r.A,{inline:!0,children:"\\( X' Y \\)"})," has dimension ",(0,l.jsx)(r.A,{inline:!0,children:"\\( (K \\times N) \\times (N \\times 1) \\rightarrow K \\times 1 \\)"}),". Thus, we are considering the derivative of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta \\)"})," multiplied by a vector of constants. This means both of these terms become ",(0,l.jsx)(r.A,{inline:!0,children:"\\( X'Y \\)"}),"."]}),(0,l.jsxs)("p",{children:["Now let's consider what happens to the ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta'X'X\\beta \\)"})," term. Note that ",(0,l.jsx)(r.A,{inline:!0,children:"\\( X'X \\)"})," has dimension ",(0,l.jsx)(r.A,{inline:!0,children:"\\( (K \\times N) \\times (N \\times K) \\rightarrow K \\times K \\)"}),". Thus, we have a square matrix sandwiched between ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta\\, \\)"}),"'s. This means the derivative of this term is given by ",(0,l.jsx)(r.A,{inline:!0,children:"\\( (X'X + (X'X)')\\beta \\)"}),"."]}),(0,l.jsxs)("p",{children:["Putting everything together and setting the derivative equal to zero, we have",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            &\\frac{\\partial}{\\partial \\beta}(Y'Y - Y'X\\beta - \\beta'X'Y + \\beta'X'X\\beta) = 0 \\\\\n            &\\Leftrightarrow -X'Y - X'Y + (X'X + (X'X)')\\beta = 0 \\\\\n            &\\Leftrightarrow -2X'Y + 2X'X\\beta = 0 \\\\\n            &\\Leftrightarrow X'X\\beta = X'Y\n            \\end{aligned}\n          \\]"}),"Here, ",(0,l.jsx)(r.A,{inline:!0,children:"\\( X'X \\)"})," is a ",(0,l.jsx)(r.A,{inline:!0,children:"\\( K \\times K \\)"})," matrix. Thus, we can't simply divide both sides by ",(0,l.jsx)(r.A,{inline:!0,children:"\\( X'X \\)"}),". Instead, we multiply both sides by the inverse of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( X'X \\)"}),". This gives us our final expression for estimating the coefficients.",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\hat \\beta = (X'X)^{-1}X'Y\n            \\end{aligned}\n          \\]"})]}),(0,l.jsx)("p",{className:"heading2",children:"Single Variable Case"}),(0,l.jsxs)("p",{children:["The expression we derived generalizes to any number of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x \\)"})," variables we want to consider. We can check that it will give us the same answer as the single variable case by solving for ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\hat \\beta \\)"})," with only one ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x \\)"})," variable. In this case, we have ",(0,l.jsx)(r.A,{inline:!0,children:"\\( X =  \\begin{bmatrix} 1 & x_1 \\\\ 1 & x_2 \\\\ \\vdots & \\vdots \\\\ 1 & x_N \\end{bmatrix} \\)"})," and  ",(0,l.jsx)(r.A,{inline:!0,children:"\\( \\beta =  \\begin{bmatrix} \\beta_0 \\\\ \\beta_1 \\end{bmatrix} \\)"}),".",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\hat \\beta = \\begin{bmatrix} \\hat \\beta_0 \\\\ \\hat \\beta_1 \\end{bmatrix} &= (X'X)^{-1}X'Y \\\\\n            &= \\left(\\begin{bmatrix} 1 & 1 & \\dots & 1 \\\\ x_1 & x_2 & \\dots & x_N \\end{bmatrix}  \\begin{bmatrix} 1 & x_1 \\\\ 1 & x_2 \\\\ \\vdots & \\vdots \\\\ 1 & x_N \\end{bmatrix} \\right)^{-1}\n            \\begin{bmatrix} 1 & 1 & \\dots & 1 \\\\ x_1 & x_2 & \\dots & x_N \\end{bmatrix} \\begin{bmatrix} y_1 \\\\ y_2 \\\\ \\vdots \\\\ y_N \\end{bmatrix} \\\\\n            &= \\left( \\begin{bmatrix} N & \\sum^N_{i=1} x_i \\\\ \\sum^N_{i=1} x_i & \\sum^N_{i=1} x_i^2 \\end{bmatrix} \\right)^{-1} \\begin{bmatrix} \\sum^N_{i=1} y_i \\\\ \\sum^N_{i=1} x_iy_i \\end{bmatrix} \\\\\n            &= \\left( \\begin{bmatrix} 1 & \\frac{1}{N}\\sum^N_{i=1} x_i \\\\ \\frac{1}{N}\\sum^N_{i=1} x_i & \\frac{1}{N}\\sum^N_{i=1} x_i^2 \\end{bmatrix} \\right)^{-1} \\begin{bmatrix} \\frac{1}{N}\\sum^N_{i=1} y_i \\\\ \\frac{1}{N} \\sum^N_{i=1} x_iy_i \\end{bmatrix} \\\\\n            &= \\left( \\begin{bmatrix} 1 & \\bar x \\\\ \\bar x & \\frac{1}{N}\\sum^N_{i=1} x_i^2 \\end{bmatrix} \\right)^{-1} \\begin{bmatrix} \\bar y \\\\ \\frac{1}{N} \\sum^N_{i=1} x_iy_i \\end{bmatrix} \\\\\n            &= \\frac{1}{\\frac{1}{N}\\sum^N_{i=1} x_i^2 - \\bar x^2} \\begin{bmatrix} \\frac{1}{N}\\sum^N_{i=1} x_i^2 & - \\bar x \\\\ - \\bar x &  1\\end{bmatrix} \\begin{bmatrix} \\bar y \\\\ \\frac{1}{N} \\sum^N_{i=1} x_iy_i \\end{bmatrix} \\\\\n            &= \\frac{1}{\\frac{1}{N}\\sum^N_{i=1} x_i^2 - \\bar x^2} \\begin{bmatrix} \\left(\\frac{1}{N} \\sum^N_{i=1} x_i^2\\right)\\bar y - \\left(\\frac{1}{N} \\sum^N_{i=1} x_i y_i\\right) \\bar x\\\\ - \\bar x \\bar y + \\frac{1}{N}\\sum^N_{i=1} x_iy_i  \\end{bmatrix} \\\\\n            &= \\frac{1}{\\frac{1}{N}\\sum^N_{i=1} x_i^2 - \\bar x^2} \\begin{bmatrix} \\left(\\frac{1}{N} \\sum^N_{i=1} x_i^2\\right)\\bar y - \\left(\\frac{1}{N} \\sum^N_{i=1} x_i y_i\\right) \\bar x + \\bar x^2 \\bar y - \\bar x^2 \\bar y \\\\ \\frac{1}{N}\\sum^N_{i=1} x_iy_i - \\bar x \\bar y  \\end{bmatrix} \\\\          \n            &= \\frac{1}{\\frac{1}{N}\\sum^N_{i=1} x_i^2 - \\bar x^2} \\begin{bmatrix} \\left(\\frac{1}{N}\\sum^N_{i=1} x_i^2 - \\bar x^2\\right)\\bar y - \\left(\\frac{1}{N}\\sum^N_{i=1} x_iy_i - \\bar x \\bar y \\right) \\bar x  \\\\ \\frac{1}{N}\\sum^N_{i=1} x_iy_i - \\bar x \\bar y  \\end{bmatrix} \\\\       \n            &= \\begin{bmatrix} \\bar y - \\hat \\beta_1 \\bar x \\\\ \\frac{s_{x,y}}{s_x^2} \\end{bmatrix}\n            \\end{aligned}\n          \\]"})]}),(0,l.jsx)("p",{children:"This is the same result we derived in the last section when considering a single variable."}),(0,l.jsx)("p",{className:"heading2",children:"Matrices Simplify Notation"}),(0,l.jsxs)("p",{children:["Matrix notation cleanly describes the solution for our coefficient estimates under any number of variables. This becomes increasingly important as we consider more variables. In the case of two variables, ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x_1 \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x_2 \\)"}),", the solution ",(0,l.jsx)(r.A,{inline:!0,children:"\\( (X'X)^{-1}(X'Y) \\)"})," returns a ",(0,l.jsx)(r.A,{inline:!0,children:"\\( 3 \\times 1 \\)"})," vector of coefficients given by",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\hat \\beta = \\begin{bmatrix} \\hat \\beta_0 \\\\ \\hat \\beta_1 \\\\ \\hat \\beta_2 \\end{bmatrix} &= (X'X)^{-1}X'Y \\\\\n            &= \\left(\\begin{bmatrix} 1 & 1 & \\dots & 1 \\\\ x_{1,1} & x_{2,1} & \\dots & x_{N,1} \\\\ x_{1,2} & x_{2,2} & \\dots & x_{N,2} \\end{bmatrix}  \\begin{bmatrix} 1 & x_{1,1} & x_{1,2} \\\\ 1 & x_{2,1} & x_{2,2} \\\\ \\vdots & \\vdots & \\vdots \\\\ 1 & x_{N,1} & x_{N,2} \\end{bmatrix} \\right)^{-1}\n            \\begin{bmatrix} 1 & 1 & \\dots & 1 \\\\ x_{1,1} & x_{2,1} & \\dots & x_{N,1} \\\\ x_{1,2} & x_{2,2} & \\dots & x_{N,2} \\end{bmatrix} \\begin{bmatrix} y_1 \\\\ y_2 \\\\ \\vdots \\\\ y_N \\end{bmatrix} \\\\\n            &= \\begin{bmatrix} \\bar y - \\hat \\beta_1 \\bar x_1 - \\hat \\beta_2 \\bar x_2 \\\\ \\frac{s_{1,y}s^2_2 - s_{2,y}s_{1,2}}{s_1^2s_2^2 - s^2_{1,2}} \\\\ \\frac{s_{2,y}s^2_1 - s_{1,y}s_{1,2}}{s_1^2s_2^2 - s^2_{1,2}}  \\end{bmatrix} \n            \\end{aligned}\n          \\]"}),"Where ",(0,l.jsx)(r.A,{inline:!0,children:"\\( s_1^2 \\)"})," is the variance of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x_1 \\)"}),";  ",(0,l.jsx)(r.A,{inline:!0,children:"\\( s_2^2 \\)"})," is the variance of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x_2 \\)"}),"; ",(0,l.jsx)(r.A,{inline:!0,children:"\\( s_{1,2} \\)"})," is the covariance of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x_1 \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x_2 \\)"}),"; ",(0,l.jsx)(r.A,{inline:!0,children:"\\( s_{1,y} \\)"})," is the covariance of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x_1 \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( y \\)"}),"; and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( s_{2,y} \\)"})," is the covariance of ",(0,l.jsx)(r.A,{inline:!0,children:"\\( x_2 \\)"})," and ",(0,l.jsx)(r.A,{inline:!0,children:"\\( y \\)"}),"."]}),(0,l.jsxs)("p",{children:["In the case of three variables, we have a ",(0,l.jsx)(r.A,{inline:!0,children:"\\( 4 \\times 1 \\)"})," vector of coefficients given by",(0,l.jsx)(r.A,{className:"math-container",children:"\\[\n            \\begin{aligned}\n            \\hat \\beta = \\begin{bmatrix} \\hat \\beta_0 \\\\ \\hat \\beta_1 \\\\ \\hat \\beta_2 \\\\ \\hat \\beta_3 \\end{bmatrix} &= (X'X)^{-1}X'Y \\\\\n            &= \\left(\\begin{bmatrix} 1 & 1 & \\dots & 1 \\\\ x_{1,1} & x_{2,1} & \\dots & x_{N,1} \\\\ x_{1,2} & x_{2,2} & \\dots & x_{N,2} \\\\ x_{1,3} & x_{2,3} & \\dots & x_{N,3} \\end{bmatrix}  \\begin{bmatrix} 1 & x_{1,1} & x_{1,2} & x_{1,3} \\\\ 1 & x_{2,1} & x_{2,2} & x_{2,3} \\\\ \\vdots & \\vdots & \\vdots & \\vdots \\\\ 1 & x_{N,1} & x_{N,2} & x_{N,3}\\end{bmatrix} \\right)^{-1}\n            \\begin{bmatrix} 1 & 1 & \\dots & 1 \\\\ x_{1,1} & x_{2,1} & \\dots & x_{N,1} \\\\ x_{1,2} & x_{2,2} & \\dots & x_{N,2} \\\\ x_{1,3} & x_{2,3} & \\dots & x_{N,3}  \\end{bmatrix} \\begin{bmatrix} y_1 \\\\ y_2 \\\\ \\vdots \\\\ y_N \\end{bmatrix} \\\\\n            &= \\begin{bmatrix} \n            \\bar y - \\hat \\beta_1 \\bar x_1 - \\hat \\beta_2 \\bar x_2 - \\hat \\beta_3 \\bar x_3 \\\\ \n            \\frac{s_{1,y}\\left(s^2_2s^2_3 - s^2_{2,3}\\right) + s_{2,y}\\left(s_{1,3}s_{2,3} - s^2_3s_{1,2}\\right) + s_{3,y}\\left(s_{1,2}s_{2,3} - s^2_2s_{1,3}\\right)}{s_1^2s_2^2s^2_3 - s^2_1s^2_{2,3} - s^2_2s^2_{1,3} - s^2_3s^2_{1,2} + 2s_{1,2}s_{1,3}s_{2,3}} \\\\ \n            \\frac{s_{1,y}\\left(s_{1,3}s_{2,3} - s^2_3s_{1,2}\\right) + s_{2,y}\\left(s^2_1s^2_3 - s^2_{1,3}\\right) + s_{3,y}\\left(s_{1,2}s_{1,3} - s^2_1s_{2,3}\\right)}{s_1^2s_2^2s^2_3 - s^2_1s^2_{2,3} - s^2_2s^2_{1,3} - s^2_3s^2_{1,2} + 2s_{1,2}s_{1,3}s_{2,3}} \\\\ \n            \\frac{s_{1,y}\\left(s_{1,2}s_{2,3} - s^2_2s_{1,3}\\right) + s_{2,y}\\left(s_{1,2}s_{1,3} - s^2_1s_{2,3}\\right) + s_{3,y}\\left(s^2_1s^2_2 - s^2_{1,2}\\right)}{s_1^2s_2^2s^2_3 - s^2_1s^2_{2,3} - s^2_2s^2_{1,3} - s^2_3s^2_{1,2} + 2s_{1,2}s_{1,3}s_{2,3}} \\\\ \n            \\end{bmatrix} \n            \\end{aligned}\n          \\]"})]}),(0,l.jsx)("p",{children:"As we add more and more variables, the solution for any individual coefficient estimate becomes an increasingly complex function of variances and covariances. Matrix notation allows us to abstract away from this complexity."})]}),(0,l.jsx)(s.A,{group:"Stats"}),(0,l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,l.jsx)(a.k2,{className:"BS-link",to:"/stats",children:"Contents"})})]})}},9938:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});n(5043),n(5755);var a=n(579);const i=function(){return(0,a.jsxs)("div",{className:"Research",children:[(0,a.jsx)("p",{className:"heading1",children:"Dissertation"}),(0,a.jsxs)("p",{className:"article",children:[(0,a.jsx)("a",{className:"link",href:"https://papers.ssrn.com/sol3/papers.cfm?abstract_id=5375703",target:"_blank",children:"Pricing in Securities Fraud"})," (Job Talk Paper)"]}),(0,a.jsx)("p",{className:"abstract",children:"Calculating damages in securities fraud class actions typically involves comparing the price investors actually paid for their shares with the hypothetical price they would have paid had the fraud not occurred. Experts estimate this counterfactual using the abnormal stock price drop following the revelation of fraud. I leverage variation in legal standards across federal circuits to show that this price drop reflects not only the market\u2019s reassessment of the firm\u2019s intrinsic value but also investors\u2019 expectations about the cost of future securities fraud litigation. As a result, the standard method overstates damages by conflating misinformation losses with litigation risk. I develop a model to explore how courts might adjust damage awards to account for the portion of the price drop attributable to the expected cost of a future securities fraud settlement. Such an adjustment could reduce damages in the average case by about 8.9% but must account for feedback effects, or the way a change in the damage calculation alters investors\u2019 expectations about the costs of future securities suits. I also examine how D&O insurance affects this dynamic and argue that the use of unadjusted price drops as a damage measure may increase the risk of litigation outcomes that reflect investor sentiment rather than actual managerial misconduct."}),(0,a.jsxs)("p",{className:"article",children:[(0,a.jsx)("a",{className:"link",href:"https://papers.ssrn.com/sol3/papers.cfm?abstract_id=5309471",target:"_blank",children:"Expert Asymmetry: Evidence from Securities Litigation"})," (with "," ",(0,a.jsx)("a",{className:"link",href:"https://sites.google.com/view/andrewgranato/",target:"_blank",rel:"noopener noreferrer",children:"Andrew Granato"})," ","and"," ",(0,a.jsx)("a",{className:"link",href:"https://sites.google.com/yale.edu/belisapang",target:"_blank",rel:"noopener noreferrer",children:"Belisa Pang"}),")"]}),(0,a.jsxs)("p",{className:"journal",children:[(0,a.jsx)("i",{children:"Journal of Empirical Legal Studies"})," (Forthcoming)"]}),(0,a.jsx)("p",{className:"abstract",children:"Modern litigation often involves two separate, extra-legal features: (1) contingency fee arrangements with the plaintiff-side attorney, and (2) a \u201cbattle of the experts\u201d where the outcome of the case rests on conflicting expert witness testimony. We construct a model to illustrate that when these features occur simultaneously, in contexts where plaintiff-side attorneys bear the cost of hiring experts upfront, defendants will spend systematically more than plaintiffs on hiring expert witnesses. Our model is motivated by hand-collected data from a decade of securities class action litigation, where we show that experts polarize into almost entirely plaintiff-side vs. defense-side experts, that defense-side experts are more \u201cprestigious\u201d in terms of educational and academic affiliations, and that defense-side experts are at least 37% more expensive in per-hour terms. We argue that expert asymmetry could be closed through optimal contracting in certain individual claims, but it is likely a necessary feature of all class actions, such as toxic torts or consumer protection, in an \u201cadversarial\u201d litigation system. This defense-side advantage therefore provides a newly identified rationale for \u201cinquisitorial\u201d litigation systems, including increased use of court-appointed experts under Federal Rule of Evidence 706 and state law analogues."}),(0,a.jsx)("p",{className:"article",children:"The Informative Value of Optional IPO Fraud Liability"}),(0,a.jsx)("p",{className:"abstract",children:"The judiciary\u2019s strict interpretation of Section 11 tracing has set us on a path toward a world in which companies can effectively choose whether they want to be subject to strict fraud liability for their IPO disclosures. Using a noisy valuation model, I characterize a separating equilibrium in which the decision to opt out of liability reveals that a company has reported high-noise disclosures that suggest an inflated stock value. In this equilibrium, investors use the information provided by an opt-out decision to appropriately discount the stock price and more accurately value the company. I suggest a simple regulatory change that would force managers to reveal their liability decision and make separation based on disclosure quality possible. Further, I show that increasing the costs of bringing a Section 11 claim or decreasing the potential damages available under Section 11 might encourage firms to separate themselves based on their liability decision."}),(0,a.jsx)("p",{className:"heading1",children:"Works in Progress"}),(0,a.jsx)("p",{className:"article",children:"Securities Fraud Liability Under Profitable Fraud"}),(0,a.jsxs)("p",{className:"abstract",children:["When managers of a public company undertake legally suspect projects, they expose the firm to two types of legal risk: (1) primary liability for the unlawful act itself; and (2) secondary liability for failing to disclose the act to investors, typically through a securities fraud class action. Secondary liability may deter socially inefficient corporate behavior, especially if primary enforcement is weak. But compensating investors for losses caused by managerial decisions that were ",(0,a.jsx)("i",{children:"ex ante"})," profitable for the firm disincentivizes investors from uncovering fraud or putting in place monitoring mechanism to deter it. I use a model to examine this tradeoff and show conditions under which profit-maximizing investors would prefer the company not be subject to securities fraud liability for failure to disclose legally suspect conduct. Investors prefer no securities fraud liability precisely when it may be most socially valuable, or when primary enforcement of the socially inefficient conduct is low. I explore implications of these findings and argue for greater use of public, rather than private, securities fraud enforcement in cases of \u201cprofitable fraud.\u201d"]}),(0,a.jsx)("p",{className:"heading1",children:"Undergraduate Publications"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("a",{className:"link",href:"https://doi.org/10.1007/s12134-021-00852-y",target:"_blank",children:"Politics and Prejudice: Using the Term 'Undocumented Immigrant' over 'Illegal Immigrant'"}),(0,a.jsx)("br",{}),(0,a.jsx)("i",{children:"Journal of International Migration and Integration"})," (2022) (with Quinn Galbraith and Alexandra Carlile)"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("a",{className:"link",href:"https://doi.org/10.1111/asap.12218",target:"_blank",children:"Deportation in the Trump Era: Americans Weigh In"}),(0,a.jsx)("br",{}),(0,a.jsx)("i",{children:"Analyses of Social Issues and Public Policy"})," (2020) (with Quinn Galbraith and Alexandra Carlile)"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("a",{className:"link",href:"https://doi.org/10.1177/0739986319899738",target:"_blank",children:"Why Would Hispanics Vote for Trump? Explaining the Controversy of the 2016 Election"}),(0,a.jsx)("br",{}),(0,a.jsx)("i",{children:"Hispanic Journal of Behavioral Sciences"})," (2020) (with Quinn Galbraith)"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("a",{className:"link",href:"https://doi.org/10.1177/0739986319840717",target:"_blank",children:"Immigration, Deportation, and Discrimination: Hispanic Political Opinion Since the Election of Donald Trump"}),(0,a.jsx)("br",{}),(0,a.jsx)("i",{children:"Hispanic Journal of Behavioral Sciences"})," (2019) (with Quinn Galbraith and Spencer Galbraith)"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("a",{className:"link",href:"https://scholarsarchive.byu.edu/cgi/viewcontent.cgi?article=6805&context=facpub",target:"_blank",children:"Constructing Meaning through Connection: Religious Perspectives on the Purpose of Life"}),(0,a.jsx)("br",{}),(0,a.jsx)("i",{children:"International Journal of Religion & Spirituality in Society"})," (2019) (with Quinn Galbraith and Heather Kelley)"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("a",{className:"link",href:"http://dx.doi.org/10.25595/1417",target:"_blank",children:"Have Academic Libraries Overcome the Gender Wage Gap? An Analysis of Gender Pay Inequality"}),(0,a.jsx)("br",{}),(0,a.jsx)("i",{children:"College & Research Libraries"})," (2019) (with Quinn Galbraith and Heather Kelley)"]})]})}},8971:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});n(5043),n(4588);var a=n(5475),i=n(2638),r=n(579);const s=function(){return(0,r.jsxs)("div",{className:"Damage",children:[(0,r.jsx)(i.A,{group:"Damages"}),(0,r.jsx)("p",{className:"heading1",children:"Damages"}),(0,r.jsx)("div",{style:{display:"flex",paddingLeft:"10vw"},children:(0,r.jsx)("ul",{className:"toc-list",children:(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Damage-link",to:"/sec_reg/damages/10b5",children:"Rule 10b-5"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"Damage-content",children:"Actual Loss"}),(0,r.jsx)("li",{className:"Damage-content",children:"Out-of-Pocket Damages"}),(0,r.jsx)("li",{className:"Damage-content",children:"PSLRA 90-Day Lookback"}),(0,r.jsx)("li",{className:"Damage-content",children:"Nonstandard Claimants"}),(0,r.jsx)("li",{className:"Damage-content",children:"Price Maintenance"}),(0,r.jsx)("li",{className:"Damage-content",children:"How to Calculate Damages"})]}),(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Damage-link",to:"/sec_reg/damages/10b5_graph",children:"Rule 10b-5 Graph"})})]})})}),(0,r.jsx)(i.A,{group:"Damages"})]})}},5620:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});n(5043),n(4588);var a=n(4257),i=n(7971),r=n(2638),s=n(579);const l=function(){return(0,s.jsxs)("div",{className:"Damage",children:[(0,s.jsx)(r.A,{group:"Damages"}),(0,s.jsx)("p",{className:"heading1",children:"Rule 10b-5 Damages"}),(0,s.jsxs)(a.A,{children:[(0,s.jsx)("p",{children:"Damages for an individual plaintiff in a Rule 10b-5 case depend on two separate measures: (1) the plaintiff's actual loss, or the difference between the price at which she purchased her shares and the price at which she sold her shares and (2) the plaintiff's fraud loss, or the difference between what her outcome would have been without fraud and her actual outcome. These inherently distinct concepts show up in a mixture of statutes and case law in a way that almost always benefits defendants."}),(0,s.jsx)("p",{className:"heading2",children:"Actual Loss"}),(0,s.jsxs)("p",{children:['Plaintiffs in a Rule 10b-5 case cannot claim damages if they did not suffer a net loss over all their transactions in the company\'s stock. Section 28(a) of the Exchange Act limits recovery under an Exchange Act claim to "the actual damages" suffered by the plaintiff (',(0,s.jsx)("a",{className:"inline-link",href:"https://www.law.cornell.edu/uscode/text/15/78bb",target:"_blank",children:"15 U.S. Code \xa7 78bb(a)"}),")."]}),(0,s.jsxs)("p",{children:["This cap on damages likely prevents many meritorious cases from being brought. To see why, consider two companies, ",(0,s.jsx)(i.A,{inline:!0,children:"\\( A \\)"})," and ",(0,s.jsx)(i.A,{inline:!0,children:"\\( B \\)"}),", whose managers release false good news that causes a stock price increase at each company. Assume the false news creates the same mispricing effect at both companies. However, suppose investors discover the fraud at company ",(0,s.jsx)(i.A,{inline:!0,children:"\\( A \\)"})," at the same time that company ",(0,s.jsx)(i.A,{inline:!0,children:"\\( A \\)"})," experiences an unrelated positive price shock. For example, perhaps ",(0,s.jsx)(i.A,{inline:!0,children:"\\( A \\)"})," is in an industry that is particularly reliant on foreign supply chains, and the government announces a reduction in tariffs around the same time that the market discovers the fraud at company ",(0,s.jsx)(i.A,{inline:!0,children:"\\( A \\)"}),". Suppose company ",(0,s.jsx)(i.A,{inline:!0,children:"\\( B \\)"})," does not experience a positive price shock at the time of fraud revelation. If the positive shock to company ",(0,s.jsx)(i.A,{inline:!0,children:"\\( A \\)"}),"'s stock price is greater than the price inflation caused by managers' mistatements, then ",(0,s.jsx)(i.A,{inline:!0,children:"\\( A \\)"}),"'s stock price should not drop upon revelation of fraud. Without an actual loss, investors who purchased during the period of price inflation cannot recover damages from company ",(0,s.jsx)(i.A,{inline:!0,children:"\\( A \\)"}),". In contrast, without an offsetting positive price shock at company ",(0,s.jsx)(i.A,{inline:!0,children:"\\( B \\)"}),", investors who bought during price inflation can bring a claim against company ",(0,s.jsx)(i.A,{inline:!0,children:"\\( B \\)"}),"."]}),(0,s.jsxs)("p",{children:["The above example shows how a cap limiting damages to an investor's actual loss is problematic for two reasons: First, managers at both companies had the same fraudulent intent and caused the same amount of mispricing with their false statements. But, because of external market factors, company ",(0,s.jsx)(i.A,{inline:!0,children:"\\( A \\)"})," does not face any private securities fraud enforcement while company ",(0,s.jsx)(i.A,{inline:!0,children:"\\( B \\)"})," does. If the goal is to deter managers from committing fraud, then our fraud enforcement system should create the same liability exposure for both companies. Second, although investors in company ",(0,s.jsx)(i.A,{inline:!0,children:"\\( A \\)"})," did not have a net loss, they missed out on the full gains from the positive price shock. Put differently, investors in company ",(0,s.jsx)(i.A,{inline:!0,children:"\\( A \\)"})," did worse than they would have if managers had not committed fraud. If the goal is to compensate investors in a way that makes them as well off as they would have been had managers not lied, then our fraud enforcement system should allow company ",(0,s.jsx)(i.A,{inline:!0,children:"\\( A \\)"}),"'s investors to recover damages from company ",(0,s.jsx)(i.A,{inline:!0,children:"\\( A \\)"}),"."]}),(0,s.jsx)("p",{className:"heading2",children:"Out-of-Pocket Damages"}),(0,s.jsxs)("p",{children:["Suppose in the example above that, instead of a positive price shock, company ",(0,s.jsx)(i.A,{inline:!0,children:"\\( A \\)"})," experienced a negative price shock around the same time that investors discovered the fraud. For example, perhaps the government announced an increase rather than a reduction in tariffs. In this case, investors in company ",(0,s.jsx)(i.A,{inline:!0,children:"\\( A \\)"})," experience an actual net loss much greater than the value of the false information that managers put into the market. Can the portion of the loss attributable to the unrelated negative price shock be included in damages? No. Plaintiffs in a Rule 10b-5 case can only claim damages for losses attributable to fraud."]}),(0,s.jsxs)("p",{children:['This concept of adjusting actual losses to account for non-fraud-related price movements shows up in the articulation of plaintiffs\' "out-of-pocket" damages in a Rule 10b-5 case. Out-of-pocket damages are measured as "the difference between the fair value of all that the [plaintiff] received and the fair value of what he would have received had there been no fraudulent conduct" (',(0,s.jsxs)("a",{className:"inline-link",href:"https://supreme.justia.com/cases/federal/us/406/128/",target:"_blank",children:[(0,s.jsx)("i",{children:"Affiliated Ute Citizens of Utah v. United States"}),", 406 U.S. 128, 155 (1972)"]}),") or, in the case of securities traded in an efficient market, the difference between the price at which investors purchased their shares and the price at which they would have purchased their shares had there been no fraud."]}),(0,s.jsx)("p",{children:"Calculating out-of-pocket damages involves the creation of a counterfactual price line at which the stock would have traded in the absence of fraud. The difference between the actual price and the counterfactual no-fraud price can vary over time if there are multiple instances of false disclosure or if the market discovers the fraud gradually over time through multiple corrective disclosures. Expert economists estimate this counterfactual no-fraud price line using event studies around each relevant information disclosure date. The goal of an event study is to measure what portion of the price movement around a news event can be attributed to investors pricing in the value of the news (as opposed to other market factors). A standard event study involves (1) training a model to predict the company's stock price returns using past pricing data, (2) using this model to predict stock price returns during the event window, or the period of time during which the market prices in the news, (3) calculating abnormal returns during the event window as the difference between the actual return and the predicted return, and (4) summing up abnormal returns over the event window to capture the full price effect from the news. The sum of the abnormal returns over the event window is called the cumulative abnormal return, which can be used to estimate by how much the news event caused the stock price to increase or decrease."}),(0,s.jsx)("p",{children:"To see how this works in practice, let's construct a counterfactual no-fraud price line together using the results from event studies around 4 relevant information dates. At date 1, managers release false good news about the company that increases price by $3 per share; at date 2, managers release more false news that increases price by $2 per share; at date 3, investors discover that some of the news was false, which causes the price to fall by $1; finally, at date 4, investors discover the full truth, which causes the price to fall by $4 per share."}),(0,s.jsx)("div",{className:"figure",children:(0,s.jsxs)("svg",{width:"400",height:"120",children:[(0,s.jsx)("line",{x1:"20",y1:"60",x2:"360",y2:"60",stroke:"black",strokeWidth:"2"}),(0,s.jsx)("line",{x1:"360",y1:"60",x2:"380",y2:"60",stroke:"black",strokeWidth:"2"}),(0,s.jsx)("polygon",{points:"380,60 370,55 370,65",fill:"black"}),(0,s.jsx)("line",{x1:"80",y1:"50",x2:"80",y2:"70",stroke:"black"}),(0,s.jsx)("line",{x1:"160",y1:"50",x2:"160",y2:"70",stroke:"black"}),(0,s.jsx)("line",{x1:"240",y1:"50",x2:"240",y2:"70",stroke:"black"}),(0,s.jsx)("line",{x1:"320",y1:"50",x2:"320",y2:"70",stroke:"black"}),(0,s.jsx)("text",{x:"80",y:"85",textAnchor:"middle",children:"1"}),(0,s.jsx)("text",{x:"160",y:"85",textAnchor:"middle",children:"2"}),(0,s.jsx)("text",{x:"240",y:"85",textAnchor:"middle",children:"3"}),(0,s.jsx)("text",{x:"320",y:"85",textAnchor:"middle",children:"4"}),(0,s.jsx)("text",{x:"78",y:"40",textAnchor:"middle",children:"+$3"}),(0,s.jsx)("text",{x:"158",y:"40",textAnchor:"middle",children:"+$2"}),(0,s.jsx)("text",{x:"238",y:"40",textAnchor:"middle",children:"-$1"}),(0,s.jsx)("text",{x:"318",y:"40",textAnchor:"middle",children:"-$4"}),(0,s.jsx)("text",{x:"200",y:"105",textAnchor:"middle",children:"Date"}),(0,s.jsx)("text",{x:"200",y:"20",textAnchor:"middle",children:"Abnormal Price Reaction"})]})}),(0,s.jsx)("p",{children:"Using these abnormal price reactions, we can find the amount of price inflation during each period. Before date 1, price inflation was $0; between date 1 and date 2, price inflation was $3; between date 2 and date 3, price inflation was $3 + $2 = $5; between date 3 and date 4, price inflation was $3 + $2 - $1 = $4; finally, after date 4, price inflation was $3 + $2 - $1 - $4 = $0. If the counterfactual price without fraud were a straight line at $10, the actual price graph would look like this"}),(0,s.jsx)("div",{className:"figure",children:(0,s.jsxs)("svg",{width:"440",height:"240",children:[(0,s.jsx)("line",{x1:"60",y1:"80",x2:"380",y2:"80",stroke:"#CC79A7",strokeWidth:"2","stroke-dasharray":"5,5"}),(0,s.jsx)("polygon",{points:"420,180 410,175 410,185",fill:"black"}),(0,s.jsx)("polygon",{points:"55,20 60,10 65,20",fill:"black"}),(0,s.jsx)("text",{x:"240",y:"220",textAnchor:"middle",children:"Date"}),(0,s.jsx)("text",{x:"17",y:"105",textAnchor:"middle",children:"Price"}),(0,s.jsx)("line",{x1:"50",y1:"130",x2:"70",y2:"130",stroke:"black"}),(0,s.jsx)("line",{x1:"50",y1:"80",x2:"70",y2:"80",stroke:"black"}),(0,s.jsx)("line",{x1:"50",y1:"30",x2:"70",y2:"30",stroke:"black"}),(0,s.jsx)("text",{x:"43",y:"135",textAnchor:"middle",children:"5"}),(0,s.jsx)("text",{x:"40",y:"85",textAnchor:"middle",children:"10"}),(0,s.jsx)("text",{x:"40",y:"35",textAnchor:"middle",children:"15"}),(0,s.jsx)("line",{x1:"120",y1:"190",x2:"120",y2:"170",stroke:"black"}),(0,s.jsx)("line",{x1:"200",y1:"190",x2:"200",y2:"170",stroke:"black"}),(0,s.jsx)("line",{x1:"280",y1:"190",x2:"280",y2:"170",stroke:"black"}),(0,s.jsx)("line",{x1:"360",y1:"190",x2:"360",y2:"170",stroke:"black"}),(0,s.jsx)("text",{x:"120",y:"205",textAnchor:"middle",children:"1"}),(0,s.jsx)("text",{x:"200",y:"205",textAnchor:"middle",children:"2"}),(0,s.jsx)("text",{x:"280",y:"205",textAnchor:"middle",children:"3"}),(0,s.jsx)("text",{x:"360",y:"205",textAnchor:"middle",children:"4"}),(0,s.jsx)("line",{x1:"60",y1:"80",x2:"120",y2:"80",stroke:"#56B4E9",strokeWidth:"2"}),(0,s.jsx)("line",{x1:"120",y1:"50",x2:"200",y2:"50",stroke:"#56B4E9",strokeWidth:"2"}),(0,s.jsx)("line",{x1:"200",y1:"30",x2:"280",y2:"30",stroke:"#56B4E9",strokeWidth:"2"}),(0,s.jsx)("line",{x1:"280",y1:"40",x2:"360",y2:"40",stroke:"#56B4E9",strokeWidth:"2"}),(0,s.jsx)("line",{x1:"360",y1:"80",x2:"380",y2:"80",stroke:"#56B4E9",strokeWidth:"2"}),(0,s.jsx)("line",{x1:"120",y1:"80",x2:"120",y2:"50",stroke:"#56B4E9",strokeWidth:"2"}),(0,s.jsx)("line",{x1:"200",y1:"50",x2:"200",y2:"30",stroke:"#56B4E9",strokeWidth:"2"}),(0,s.jsx)("line",{x1:"280",y1:"30",x2:"280",y2:"40",stroke:"#56B4E9",strokeWidth:"2"}),(0,s.jsx)("line",{x1:"360",y1:"40",x2:"360",y2:"80",stroke:"#56B4E9",strokeWidth:"2"}),(0,s.jsx)("line",{x1:"60",y1:"180",x2:"420",y2:"180",stroke:"black",strokeWidth:"2"}),(0,s.jsx)("line",{x1:"60",y1:"180",x2:"60",y2:"20",stroke:"black",strokeWidth:"2"})]})}),(0,s.jsx)("p",{className:"heading2",children:"PSLRA 90-Day Lookback"}),(0,s.jsxs)("p",{children:["The Private Securities Litigation Reform Act of 1995 (PSLRA) imposes a 90-day lookback provision that limits recovery to the difference between the price at which investors purchased their shares and the average closing price of the stock from the day the fraud is discovered to the day the investor sells her shares. The averaging stops after 90 days. So, if the investor does not sell her shares for over 90 days after the revelation of fraud, the damage cap is calculated as the difference between the purchase price and the average closing price of the stock from the day the fraud is discovered to 90 days after the fraud is discovered (",(0,s.jsx)("a",{className:"inline-link",href:"https://www.law.cornell.edu/uscode/text/15/78u-4",target:"_blank",children:"15 U.S.C. \xa7 78u-4(e)"}),")."]}),(0,s.jsx)("p",{children:'The 90-day lookback provision is written with a "standard" claimant under price inflation in mind who buys at an inflated price and sells after the fraud is revealed. It is not clear whether or how the provision would apply to claimants whose transactions all occur before the revelation of fraud. The text of the statute also does not coherently define a damage cap in the case of a claimant who sells during a period of price depression and repurchases after the revelation of fraud.'}),(0,s.jsxs)("p",{children:["Suppose the revelation of fraud occurs at time ",(0,s.jsx)(i.A,{inline:!0,children:"\\( t=0 \\)"}),". Consider a buy/sell transaction pair. For our purposes, we will apply the 90-day lookback rule to the transaction pair as follows: If both transactions occur before the revelation of fraud, do not impose a cap. If the date of sale, ",(0,s.jsx)(i.A,{inline:!0,children:"\\( S \\)"}),", occurs after the revelation of fraud and the date of purchase, ",(0,s.jsx)(i.A,{inline:!0,children:"\\( B \\)"}),", occurs before the revelation of fraud, the 90-day lookback limitation is given by ",(0,s.jsx)(i.A,{inline:!0,children:"\\( L_{90} = P_B - P_S^{90} \\)"}),", where",(0,s.jsx)(i.A,{className:"math-container",children:"\\[\n              P_S^{90} = \n              \\begin{cases}\n                \\frac{1}{S}\\sum^{S}_{t=1}P_t & \\text{if } S < 90 \\\\\n                \\frac{1}{90}\\sum^{90}_{t=1}P_t & \\text{if } S \\geq 90 \n              \\end{cases}\n            \\]"}),"If the date of purchase occurs after the revelation of fraud and the date of sale occurs before the revelation of fraud, the 90-day lookback limitation is given by ",(0,s.jsx)(i.A,{inline:!0,children:"\\( L_{90} = P_B^{90} - P_S \\)"}),", where",(0,s.jsx)(i.A,{className:"math-container",children:"\\[\n              P_B^{90} = \n              \\begin{cases}\n                \\frac{1}{S}\\sum^{B}_{t=1}P_t & \\text{if } B < 90 \\\\\n                \\frac{1}{90}\\sum^{90}_{t=1}P_t & \\text{if } B \\geq 90 \n              \\end{cases}\n            \\]"}),"This formulation of the rule allows for a meaningful limitation in cases where investors short the stock during a period of price depression and then purchase to close their short position after the revelation of fraud."]}),(0,s.jsx)("p",{className:"heading2",children:"Nonstandard Claimants"}),(0,s.jsx)("p",{children:"The typical plaintiff in a Rule 10b-5 case is a long-position equity investor that buys during a period of price inflation and sells after the revelation of fraud. However, many different types of security holders can be harmed by the mispricing caused by fraud, including bondholders, options traders, and short sellers. In addition, fraud may cause a stock price decrease (price depression) rather than a stock price increase (price inflation). Consider the following ways that you could be harmed by fraud:"}),(0,s.jsx)("div",{className:"table-wrapper",children:(0,s.jsxs)("table",{className:"my-table",children:[(0,s.jsxs)("thead",{children:[(0,s.jsxs)("tr",{className:"table-row table-group-header",children:[(0,s.jsx)("th",{className:"table-entry-head",colSpan:3,children:"Price Inflation"}),(0,s.jsx)("th",{className:"table-entry-head",colSpan:3,children:"Price Depression"})]}),(0,s.jsxs)("tr",{className:"table-row table-column-label",children:[(0,s.jsx)("th",{className:"table-entry-head",children:"Before"}),(0,s.jsx)("th",{className:"table-entry-head",children:"During"}),(0,s.jsx)("th",{className:"table-entry-head",children:"After"}),(0,s.jsx)("th",{className:"table-entry-head",children:"Before"}),(0,s.jsx)("th",{className:"table-entry-head",children:"During"}),(0,s.jsx)("th",{className:"table-entry-head",children:"After"})]})]}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry",children:"short the stock"}),(0,s.jsx)("td",{className:"table-entry",children:"close the short position"}),(0,s.jsx)("td",{className:"table-entry"}),(0,s.jsx)("td",{className:"table-entry",children:"buy the stock"}),(0,s.jsx)("td",{className:"table-entry",children:"sell the stock"}),(0,s.jsx)("td",{className:"table-entry"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry",children:"buy a put"}),(0,s.jsx)("td",{className:"table-entry",children:"let the put expire"}),(0,s.jsx)("td",{className:"table-entry"}),(0,s.jsx)("td",{className:"table-entry",children:"buy a call"}),(0,s.jsx)("td",{className:"table-entry",children:"let the call expire"}),(0,s.jsx)("td",{className:"table-entry"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry",children:"write a call"}),(0,s.jsx)("td",{className:"table-entry",children:"deliver stock to exercising counterparty"}),(0,s.jsx)("td",{className:"table-entry"}),(0,s.jsx)("td",{className:"table-entry",children:"write a put"}),(0,s.jsx)("td",{className:"table-entry",children:"receive stock from exercising counterparty"}),(0,s.jsx)("td",{className:"table-entry"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry"}),(0,s.jsx)("td",{className:"table-entry",children:"buy the stock"}),(0,s.jsx)("td",{className:"table-entry",children:"sell the stock"}),(0,s.jsx)("td",{className:"table-entry"}),(0,s.jsx)("td",{className:"table-entry",children:"short the stock"}),(0,s.jsx)("td",{className:"table-entry",children:"close the short position"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry"}),(0,s.jsx)("td",{className:"table-entry",children:"buy a call"}),(0,s.jsx)("td",{className:"table-entry",children:"let the call expire"}),(0,s.jsx)("td",{className:"table-entry"}),(0,s.jsx)("td",{className:"table-entry",children:"buy a put"}),(0,s.jsx)("td",{className:"table-entry",children:"let the put expire"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry"}),(0,s.jsx)("td",{className:"table-entry",children:"write a put"}),(0,s.jsx)("td",{className:"table-entry",children:"receive stock from exercising counterparty"}),(0,s.jsx)("td",{className:"table-entry"}),(0,s.jsx)("td",{className:"table-entry",children:"write a call"}),(0,s.jsx)("td",{className:"table-entry",children:"deliver stock to exercising counterparty"})]})]})]})}),(0,s.jsx)("p",{className:"heading2",children:"Price Maintenance"}),(0,s.jsx)("p",{children:"So far, we have thought of fraud as having two visible price effects, one on the front end when managers release the false news and the other on the back end when the market discovers the fraud. Fraud can also occur with only one visible price effect on the back end. In this scenario, rather than affirmatively release false news about the company, managers simply hide true news about the company that, if revealed, would change the stock price. Here, rather than inflate or depress the stock price with false information, managers maintain the current (incorrect) stock price by withholding material information from investors."}),(0,s.jsx)("p",{children:"Because there is no front-end price effect and damages are limited to actual investor losses, the ways in which an investor can be harmed by fraud in the price maintenance case are more limited. Consider the following potential plaintiffs under price maintenance:"}),(0,s.jsx)("div",{className:"table-wrapper",children:(0,s.jsxs)("table",{className:"my-table",children:[(0,s.jsxs)("thead",{children:[(0,s.jsxs)("tr",{className:"table-row table-group-header",children:[(0,s.jsx)("th",{className:"table-entry-head",colSpan:2,children:"Withhold Bad News"}),(0,s.jsx)("th",{className:"table-entry-head",colSpan:2,children:"Withhold Good News"})]}),(0,s.jsxs)("tr",{className:"table-row table-column-label",children:[(0,s.jsx)("th",{className:"table-entry-head",children:"During"}),(0,s.jsx)("th",{className:"table-entry-head",children:"After"}),(0,s.jsx)("th",{className:"table-entry-head",children:"During"}),(0,s.jsx)("th",{className:"table-entry-head",children:"After"})]})]}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry",children:"buy the stock"}),(0,s.jsx)("td",{className:"table-entry",children:"sell the stock"}),(0,s.jsx)("td",{className:"table-entry",children:"short the stock"}),(0,s.jsx)("td",{className:"table-entry",children:"close the short position"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry",children:"buy a call"}),(0,s.jsx)("td",{className:"table-entry",children:"let the call expire"}),(0,s.jsx)("td",{className:"table-entry",children:"buy a put"}),(0,s.jsx)("td",{className:"table-entry",children:"let the put expire"})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry",children:"write a put"}),(0,s.jsx)("td",{className:"table-entry",children:"receive stock from exercising counterparty"}),(0,s.jsx)("td",{className:"table-entry",children:"write a call"}),(0,s.jsx)("td",{className:"table-entry",children:"deliver stock to exercising counterparty"})]})]})]})}),(0,s.jsx)("p",{children:"To recover damages based on a transaction pair that straddles the date when the fraud enters the market under price maintenance, there must be other, non-fraud-related price shocks that move in the same direction as the fraud during the class period. For example, suppose company managers withhold true good news about the company that would have led to a price increase. Further, shortly after managers hide the good news, there is a market-wide downturn that leads to a price decline in the company's stock. An investor who purchases shares before the fraud event and sells shares before the revelation of fraud has a valid claim against the company. Here, the investor has an actual loss because of the market-wide downturn as well as a fraud loss because he would have sold at a higher price had managers not withheld the information."}),(0,s.jsx)("p",{className:"heading2",children:"How to Calculate Damages"}),(0,s.jsxs)("p",{children:["Suppose we have a buy/sell transaction pair, where ",(0,s.jsx)(i.A,{inline:!0,children:"\\( P_B \\)"})," and ",(0,s.jsx)(i.A,{inline:!0,children:"\\( P_S \\)"})," represent the actual purchase and sale prices and ",(0,s.jsx)(i.A,{inline:!0,children:"\\( P_B' \\)"})," and ",(0,s.jsx)(i.A,{inline:!0,children:"\\( P_S' \\)"})," represent the counterfactual no-fraud purchase and sale prices. There are three steps to determining damages:",(0,s.jsxs)("ol",{children:[(0,s.jsxs)("li",{children:["Calculate actual investor loss: ",(0,s.jsx)(i.A,{inline:!0,children:"\\( L = P_B - P_S \\)"}),"."]}),(0,s.jsxs)("li",{children:["Calculate fraud loss: ",(0,s.jsx)(i.A,{inline:!0,children:"\\( L_f = L - (P_B' - P_S') = (P_B - P_S) - (P_B' - P_S') \\)"}),"."]}),(0,s.jsx)("li",{children:"If applicable, limit damages by the 90-day lookback rule."})]}),"If ",(0,s.jsx)(i.A,{inline:!0,children:"\\( L \\leq 0 \\)"})," or ",(0,s.jsx)(i.A,{inline:!0,children:"\\( L_f \\leq 0 \\)"}),", there are no damages. If ",(0,s.jsx)(i.A,{inline:!0,children:"\\( L, L_f > 0 \\)"})," and the transactions straddle the date of fraud discovery, then we calculate the 90-day lookback limitation, ",(0,s.jsx)(i.A,{inline:!0,children:"\\( L_{90} \\)"}),", as described above. If ",(0,s.jsx)(i.A,{inline:!0,children:"\\( L, L_f > 0 \\)"})," and the transactions both occur before fraud discovery, then we do not apply a 90-day lookback limitation. Finally, we take the smallest of the measures we have calculated. If we have a 90-day lookback limitation, damages are given by",(0,s.jsx)(i.A,{className:"math-container",children:"\\[\n              D = \\text{max}\\{0, \\text{min} \\{L, L_f, L_{90}\\}\\}\n            \\]"}),"If we do not have a 90-day lookback limitation, damages are given by",(0,s.jsx)(i.A,{className:"math-container",children:"\\[\n              D = \\text{max}\\{0, \\text{min} \\{L, L_f\\}\\}\n            \\]"})]}),(0,s.jsx)("p",{children:"Let's go through the steps using a table format. First, identify the actual purchase and sale prices and the counterfactual no-fraud purchase and sale prices and write them in a table like this"}),(0,s.jsx)("div",{className:"table-wrapper",children:(0,s.jsxs)("table",{className:"my-table",children:[(0,s.jsxs)("thead",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{}),(0,s.jsx)("th",{className:"table-entry-head",colSpan:2,children:"Price"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{}),(0,s.jsx)("th",{className:"table-entry-head",children:"Actual"}),(0,s.jsx)("th",{className:"table-entry-head",children:"Without Fraud"})]})]}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry-head",children:"Purchase"}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( P_B \\)"})}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( P_B' \\)"})})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry-head",children:"Sale"}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( P_S \\)"})}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( P_S' \\)"})})]})]})]})}),(0,s.jsx)("p",{children:'Next, subtract the "Sale" row from the "Purchase" row to get a "Loss" row.'}),(0,s.jsx)("div",{className:"table-wrapper",children:(0,s.jsxs)("table",{className:"my-table",children:[(0,s.jsxs)("thead",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{}),(0,s.jsx)("th",{className:"table-entry-head",colSpan:2,children:"Price"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{}),(0,s.jsx)("th",{className:"table-entry-head",children:"Actual"}),(0,s.jsx)("th",{className:"table-entry-head",children:"Without Fraud"})]})]}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry-head",children:"Purchase"}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( P_B \\)"})}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( P_B' \\)"})})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry-head",children:"Sale"}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( P_S \\)"})}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( P_S' \\)"})})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry-head",children:"Loss"}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( (P_B - P_S) \\)"})}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( (P_B' - P_S') \\)"})})]})]})]})}),(0,s.jsx)("p",{children:'Now, subtract the "Actual Loss" entry from the "Without Fraud Loss" entry as so'}),(0,s.jsx)("div",{className:"table-wrapper",children:(0,s.jsxs)("table",{className:"my-table",children:[(0,s.jsxs)("thead",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{}),(0,s.jsx)("th",{className:"table-entry-head",colSpan:2,children:"Price"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{}),(0,s.jsx)("th",{className:"table-entry-head",children:"Actual"}),(0,s.jsx)("th",{className:"table-entry-head",children:"Without Fraud"})]})]}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry-head",children:"Purchase"}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( P_B \\)"})}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( P_B' \\)"})})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry-head",children:"Sale"}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( P_S \\)"})}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( P_S' \\)"})})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry-head",children:"Loss"}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( (P_B - P_S) \\)"})}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( (P_B' - P_S') \\)"})}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( (P_B - P_S) - (P_B' - P_S') \\)"})})]})]})]})}),(0,s.jsx)("p",{children:"This gives us the actual loss and the fraud loss"}),(0,s.jsx)("div",{className:"table-wrapper",children:(0,s.jsxs)("table",{className:"my-table",children:[(0,s.jsxs)("thead",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{}),(0,s.jsx)("th",{className:"table-entry-head",colSpan:2,children:"Price"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{}),(0,s.jsx)("th",{className:"table-entry-head",children:"Actual"}),(0,s.jsx)("th",{className:"table-entry-head",children:"Without Fraud"})]})]}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry-head",children:"Purchase"}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( P_B \\)"})}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( P_B' \\)"})})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry-head",children:"Sale"}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( P_S \\)"})}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( P_S' \\)"})})]}),(0,s.jsxs)("tr",{className:"table-row",children:[(0,s.jsx)("td",{className:"table-entry-head",children:"Loss"}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsxs)("span",{className:"circle-label",children:[(0,s.jsx)(i.A,{inline:!0,children:"\\( (P_B - P_S) \\)"}),(0,s.jsx)("span",{className:"circle-tag",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( L \\)"})})]})}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( (P_B' - P_S') \\)"})}),(0,s.jsx)("td",{className:"table-entry",children:(0,s.jsxs)("span",{className:"circle-label",children:[(0,s.jsx)(i.A,{inline:!0,children:"\\( (P_B - P_S) - (P_B' - P_S') \\)"}),(0,s.jsx)("span",{className:"circle-tag",children:(0,s.jsx)(i.A,{inline:!0,children:"\\( L_f \\)"})})]})})]})]})]})}),(0,s.jsxs)("p",{children:["If either the actual or fraud loss are negative, then there are no damages, and we are done. If ",(0,s.jsx)(i.A,{inline:!0,children:"\\( L, L_f > 0\\)"}),", then we move on to see whether the 90-day lookback limitation applies. If the transactions straddle the date of fraud discovery, then we calculate ",(0,s.jsx)(i.A,{inline:!0,children:"\\( L_{90} \\)"})," as described above."]}),(0,s.jsxs)("p",{children:["Finally, we take the smallest of the three measures (",(0,s.jsx)(i.A,{inline:!0,children:"\\( L \\)"}),", ",(0,s.jsx)(i.A,{inline:!0,children:"\\( L_f \\)"}),", ",(0,s.jsx)(i.A,{inline:!0,children:"\\( L_{90} \\)"}),") as our final damage measure."]}),(0,s.jsx)("p",{children:"Use the graph on the next page to practice calculating damages under different fraud settings."})]}),(0,s.jsx)(r.A,{group:"Damages"})]})}},7037:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var a=n(5043),i=(n(4588),n(5475)),r=n(4257),s=n(7971),l=n(2638),o=n(9830),c=n(7366),h=n(579);function d(e){let{value:t,onChange:n,color:a}=e;return(0,h.jsx)("div",{style:{display:"flex",gap:"10px",cursor:"pointer"},children:[1,2,3].map((e=>(0,h.jsx)("div",{onClick:()=>n(e),style:{width:"32px",height:"32px",borderRadius:"50%",border:"2px solid #555",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e<=t?a:"transparent",color:e<=t?"white":"#555",fontWeight:"bold",fontSize:"14px",transition:"all 0.2s ease"},children:e},e)))})}const u=function(){const[e,t]=(0,a.useState)(.1),[n,u]=(0,a.useState)(.5),[p,f]=(0,a.useState)(50),[m,x]=(0,a.useState)(1),[g,y]=(0,a.useState)(1),[b,v]=(0,a.useState)(!1),[j,w]=(0,a.useState)({t_buy:0,PA_buy:0,PC_buy:0,t_sell:0,PA_sell:0,PC_sell:0,average_sell:0,average_buy:0}),_=(j.PA_buy.toFixed(2)-j.PA_sell.toFixed(2)).toFixed(2),k=(_-(j.PC_buy.toFixed(2)-j.PC_sell.toFixed(2)).toFixed(2)).toFixed(2);let A=!1,N=!1,S=null;j.average_sell>0&&!(j.average_buy>0)&&(N=!0,S=(j.PA_buy.toFixed(2)-j.average_sell.toFixed(2)).toFixed(2)),j.average_buy>0&&!(j.average_sell>0)&&(A=!0,S=(j.average_buy.toFixed(2)-j.PA_sell.toFixed(2)).toFixed(2));const[T,C]=(0,a.useState)(!1);return(0,h.jsxs)("div",{className:"Damage",children:[(0,h.jsx)(l.A,{group:"Damages"}),(0,h.jsxs)(r.A,{children:[(0,h.jsx)("p",{className:"heading1",children:"Rule 10b-5 Damage Graph"}),(0,h.jsxs)("div",{className:"graph-container",children:[(0,h.jsx)(o.default,{mu:e,sigma:n,val:p,fd:m,cd:g,maintenance:b,setDragValues:w}),(0,h.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,h.jsx)("div",{className:"input-bars",children:(0,h.jsx)(c.default,{onToggle:v})}),(0,h.jsxs)("div",{className:"input-bars",children:[(0,h.jsx)("label",{children:"Fraud Events"}),(0,h.jsx)("div",{style:{paddingTop:"2px"},children:(0,h.jsx)(d,{value:m,onChange:x,color:"#D55E00"})})]}),(0,h.jsxs)("div",{className:"input-bars",children:[(0,h.jsx)("label",{children:"Corrective Disclosures"}),(0,h.jsx)("div",{style:{paddingTop:"2px"},children:(0,h.jsx)(d,{value:g,onChange:y,color:"#009E73"})})]}),(0,h.jsxs)("div",{className:"input-bars",children:[(0,h.jsx)("label",{children:"Value of Information"}),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",paddingTop:"2px"},children:[(0,h.jsx)("button",{onClick:()=>f((e=>Math.max(-60,e-5))),children:"\u25c0"}),(0,h.jsx)("span",{style:{margin:"0 10px"},children:p.toFixed(0)}),(0,h.jsx)("button",{onClick:()=>f((e=>Math.min(60,e+5))),children:"\u25b6"})]})]}),(0,h.jsxs)("div",{className:"input-bars",children:[(0,h.jsxs)("label",{children:[(0,h.jsx)(s.A,{inline:!0,children:"\\( \\bar \\mu \\)"})," (Drift)"]}),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",paddingTop:"2px"},children:[(0,h.jsx)("button",{onClick:()=>t((e=>Math.max(-.5,e-.1))),children:"\u25c0"}),(0,h.jsx)("span",{style:{margin:"0 10px"},children:e.toFixed(2)}),(0,h.jsx)("button",{onClick:()=>t((e=>Math.min(.5,e+.1))),children:"\u25b6"})]})]}),(0,h.jsxs)("div",{className:"input-bars",children:[(0,h.jsxs)("label",{children:[(0,h.jsx)(s.A,{inline:!0,children:"\\( \\bar \\sigma \\)"})," (Volatility)"]}),(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",paddingTop:"2px"},children:[(0,h.jsx)("button",{onClick:()=>u((e=>Math.max(0,e-.1))),children:"\u25c0"}),(0,h.jsx)("span",{style:{margin:"0 10px"},children:n.toFixed(2)}),(0,h.jsx)("button",{onClick:()=>u((e=>Math.min(1,e+.1))),children:"\u25b6"})]})]})]})]}),(0,h.jsx)("div",{children:0===p?(0,h.jsx)("p",{children:'Description: There is no fraud. Choose a nonzero number for the "Value of Information."'}):j.t_buy<=j.t_sell?(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"Description:"})," Managers\xa0",!1===b?"disseminate false":"hide true"," ".concat(p<0?"bad":"good"," news about the company"),m>1?" on ".concat(2===m?"two":"three"," separate occasions"):"",". This causes the stock price to"," ",!0===b?"stay at a ".concat(p<0?"higher":"lower"," level than what it would have been at had managers released the true information."):"".concat(p<0?"decrease below":"increase above"," the level it would have been at had managers not released the false news."),"\xa0Later, the company makes ",1===g?"a single corrective disclosure,":2===g?"two separate corrective disclosures, gradually":"three separate corrective disclosures, gradually"," revealing the truth to the market. \xa0You purchase stock\xa0",j.t_buy<20?"".concat(19-j.t_buy," ").concat(19-j.t_buy===1?"day":"days"," before the first fraud event"):j.t_buy<220?"".concat(j.t_buy-20," ").concat(j.t_buy-20===1?"day":"days"," after the first fraud event"):"".concat(j.t_buy-219," ").concat(j.t_buy-219===1?"day":"days"," after the last corrective disclosure"),"\xa0and sell stock\xa0",j.t_sell<20?"".concat(19-j.t_sell," ").concat(19-j.t_sell===1?"day":"days"," before the first fraud event."):j.t_sell<220?"".concat(j.t_sell-20," ").concat(j.t_sell-20===1?"day":"days"," after the first fraud event."):"".concat(j.t_sell-219," ").concat(j.t_sell-219===1?"day":"days"," after the last corrective disclosure."),"\xa0The actual purchase price is $",j.PA_buy.toFixed(2),", and the actual sale price is $",j.PA_sell.toFixed(2),". The counterfactual purchase price without fraud is $",j.PC_buy.toFixed(2),", and the counterfactual sale price without fraud is $",j.PC_sell.toFixed(2),".",j.average_buy>0&&j.t_buy<310&&" The average closing price between the last corrective disclosure date and the date of purchase is $".concat(j.average_buy.toFixed(2),"."),j.average_sell>0&&j.t_sell<310&&" The average closing price between the last corrective disclosure date and the date of sale is $".concat(j.average_sell.toFixed(2),"."),j.average_buy>0&&j.t_buy>=310&&" The average closing price for the 90 days immediately following the last corrective disclosure is $".concat(j.average_buy.toFixed(2),"."),j.average_sell>0&&j.t_sell>=310&&j.t_buy<310&&" The average closing price for the 90 days immediately following the last corrective disclosure is $".concat(j.average_sell.toFixed(2),".")]}):(0,h.jsxs)("p",{children:[(0,h.jsx)("b",{children:"Description:"})," Managers\xa0",!1===b?"disseminate false":"hide true"," ".concat(p<0?"bad":"good"," news about the company"),m>1?" on ".concat(2===m?"two":"three"," separate occasions"):"",". This causes the stock price to"," ",!0===b?"stay at a ".concat(p<0?"higher":"lower"," level than what it would have been at had managers released the true information."):"".concat(p<0?"decrease below":"increase above"," the level it would have been at had managers not released the false news."),"\xa0Later, the company makes ",1===g?"a single corrective disclosure,":2===g?"two separate corrective disclosures, gradually":"three separate corrective disclosures, gradually"," revealing the truth to the market. \xa0You short the stock\xa0",j.t_sell<20?"".concat(19-j.t_sell," ").concat(19-j.t_sell===1?" day":" days"," before the first fraud event"):j.t_sell<220?"".concat(j.t_sell-20," ").concat(j.t_sell-20===1?" day":" days"," after the first fraud event"):"".concat(j.t_sell-219," ").concat(j.t_sell-219===1?" day":" days"," after the last corrective disclosure"),"\xa0and close the short position by purchasing stock\xa0",j.t_buy<20?"".concat(19-j.t_buy," ").concat(19-j.t_buy===1?" day":" days"," before the first fraud event."):j.t_buy<220?"".concat(j.t_buy-20," ").concat(j.t_buy-20===1?" day":" days"," after the first fraud event."):"".concat(j.t_buy-219," ").concat(j.t_buy-219===1?" day":" days"," after the last corrective disclosure."),"\xa0The actual price at the time you short the stock is $",j.PA_sell.toFixed(2),", and the actual price at the time you purchase to cover your short position is $",j.PA_buy.toFixed(2),". The counterfactual price without fraud at the time you short the stock is $",j.PC_sell.toFixed(2),", and the counterfactual price without fraud at the time you purchase to cover your short position is $",j.PC_buy.toFixed(2),".",j.average_buy>0&&j.t_buy<310&&" The average closing price between the last corrective disclosure date and the date of purchase is $".concat(j.average_buy.toFixed(2),"."),j.average_sell>0&&j.t_sell<310&&" The average closing price between the last corrective disclosure date and the date of shorting the stock is $".concat(j.average_sell.toFixed(2),"."),j.average_buy>0&&j.t_buy>=310&&" The average closing price for the 90 days immediately following the last corrective disclosure is $".concat(j.average_buy.toFixed(2),"."),j.average_sell>0&&j.t_sell>=310&&j.t_buy<310&&" The average closing price for the 90 days immediately following the last disclosure is $".concat(j.average_sell.toFixed(2),".")]})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{style:{paddingBottom:"20px"},children:(0,h.jsx)("span",{className:"toggle-button",onClick:()=>C(!T),children:T?"Hide Damage Calculation":"Show Damage Calculation"})}),T&&(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"table-wrapper",children:(0,h.jsxs)("table",{className:"my-table",children:[(0,h.jsxs)("thead",{children:[(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{}),(0,h.jsx)("th",{className:"table-entry-head",colSpan:2,children:"Price"})]}),(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{}),(0,h.jsx)("th",{className:"table-entry-head",children:"Actual"}),(0,h.jsx)("th",{className:"table-entry-head",children:"Without Fraud"})]})]}),(0,h.jsxs)("tbody",{children:[(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry-head",children:"Purchase"}),(0,h.jsx)("td",{className:"table-entry",children:j.PA_buy.toFixed(2)}),(0,h.jsx)("td",{className:"table-entry",children:j.PC_buy.toFixed(2)})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry-head",children:"Sale"}),(0,h.jsx)("td",{className:"table-entry",children:j.PA_sell.toFixed(2)}),(0,h.jsx)("td",{className:"table-entry",children:j.PC_sell.toFixed(2)})]}),(0,h.jsxs)("tr",{className:"table-row",children:[(0,h.jsx)("td",{className:"table-entry-head",children:"Loss"}),(0,h.jsx)("td",{className:"table-entry",children:_}),(0,h.jsx)("td",{className:"table-entry",children:(j.PC_buy.toFixed(2)-j.PC_sell.toFixed(2)).toFixed(2)}),(0,h.jsx)("td",{className:"table-entry",children:k})]})]})]})}),k>0?(0,h.jsxs)("p",{children:["You have a loss attributable to fraud of $",k,_<=0?". However, you have an actual gain of $".concat(Math.abs(_),". Therefore, you have no damage claim."):" and an actual loss of $".concat(_,".")]}):(0,h.jsxs)("p",{children:["You have a gain attributable to fraud of $",Math.abs(k),". Therefore, you have no damage claim."]}),k>0&&_>0?A?(0,h.jsxs)("p",{children:["The 90-day lookback limitation applies. The average purchase price less the actual sale price is ",j.average_buy.toFixed(2)," - ",j.PA_sell.toFixed(2)," = ",S<0?"-":"","$",Math.abs(S),"."]}):N?(0,h.jsxs)("p",{children:["The 90-day lookback limitation applies. The actual purchase price less the average sale price is ",j.PA_buy.toFixed(2)," - ",j.average_sell.toFixed(2)," = ",S<0?"-":"","$",Math.abs(S),"."]}):(0,h.jsx)("p",{children:"The 90-day lookback limitation does not apply."}):null,k>0&&_>0?null==S?(0,h.jsxs)("p",{children:["Damages are the lesser of the fraud loss and the actual loss: $",Math.min(k,_),"."]}):S<0?(0,h.jsx)("p",{children:"The 90-day lookback limitation is negative. Therefore, you have no damage claim."}):(0,h.jsxs)("p",{children:["Damages are the least of the fraud loss, the actual loss, and the 90-day lookback limitation: $",Math.min(k,_,S),"."]}):null]})]})]}),(0,h.jsx)(l.A,{group:"Damages"}),(0,h.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,h.jsx)(i.k2,{className:"TD-link",to:"/sec_reg/damages",children:"Contents"})})]})}},9830:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(2555),i=n(5043),r=n(6980),s=n(579);const l=e=>{let{mu:t,sigma:n,val:l,fd:o,cd:c,maintenance:h,setDragValues:d}=e;const u=(0,i.useRef)();return(0,i.useEffect)((()=>{const e=r.Ltv(u.current);e.selectAll("*").remove();const i="#56B4E9",s="#CC79A7",p="#E69F00",f="#0072B2",m=320,x=1/m,g=75;let y=[l/o,l*(-Math.pow(o,2)/6+o/2+2/3),l,l*(-Math.pow(c,2)/6+c/2+2/3),l/c];1==h&&(y=[l/o,l*(-Math.pow(o,2)/6+o/2+2/3),l,l/6*(-Math.pow(c,2)+6*c-5),l/6*(c-1)*(c-2)]);let b=[100],v=[100],j=[100],w=250;l>0&&(w=250-l);let _=0;l<0&&(_=0-l);for(let a=1;a<m;a++){const e=Math.sqrt(x)*r.FE$(0,1)();let i=b[b.length-1]*Math.exp((t-.5*n**2)*x+n*e);if(i>w&&(i=w-(i-w)),i<_&&(i=_-(i-_)),b.push(i),0==h){v.push(i);let e=0;a>=20&&a<60?e=y[0]:a>=60&&a<100?e=y[1]:a>=100&&a<140?e=y[2]:a>=140&&a<180?e=y[3]:a>=180&&a<220&&(e=y[4]),j.push(Math.max(0,i+e))}else a<20?(v.push(i),j.push(i)):a>=20&&a<60?(v.push(i+y[0]),j.push(i)):a>=60&&a<100?(v.push(i+y[1]),j.push(i)):a>=100&&a<140?(v.push(i+y[2]),j.push(i)):a>=140&&a<180?(v.push(i+y[2]),j.push(i+y[4])):a>=180&&a<220?(v.push(i+y[2]),j.push(i+y[3])):(v.push(i+y[2]),j.push(i+y[2]))}const k=r.m4Y().domain([0,319]).range([g,725]),A=r.m4Y().domain([0,250]).range([425,g]),N=r.n8j().x(((e,t)=>k(t))).y((e=>A(e))).curve(r.qrM);e.append("g").attr("transform","translate(0, ".concat(425,")")).call(r.l78(k)).call(r.l78(k).tickSize(0).tickFormat("")),e.append("g").attr("transform","translate(".concat(g,",0)")).call(r.V4s(A)),e.append("text").attr("x",380).attr("y",485).style("text-anchor","middle").text("Time"),e.append("text").attr("x",20).attr("y",240).attr("transform","rotate(-90, 20, 240)").style("text-anchor","middle").text("Price"),e.append("text").attr("x",150).attr("y",15).style("text-anchor","left").text("Actual Price"),e.append("text").attr("x",150).attr("y",40).style("text-anchor","left").text("Price Without Fraud"),e.append("line").attr("x1",110).attr("x2",140).attr("y1",10).attr("y2",10).attr("stroke",i).attr("stroke-width",2),e.append("line").attr("x1",110).attr("x2",140).attr("y1",34).attr("y2",34).attr("stroke",s).attr("stroke-dasharray","6,2").attr("stroke-width",2),e.append("path").datum(v).attr("fill","none").attr("stroke",s).attr("stroke-width",2).attr("stroke-dasharray","6,2").attr("d",N),e.append("path").datum(j).attr("fill","none").attr("stroke",i).attr("stroke-width",2).attr("d",N),e.selectAll(".fraud-line").data([19,59,99].slice(0,o)).enter().append("line").attr("class","vline").attr("x1",(e=>k(e))).attr("x2",(e=>k(e))).attr("y1",435).attr("y2",g).attr("stroke","#D55E00").attr("stroke-width",1).attr("stroke-dasharray","4,4"),e.selectAll(".corrective-line").data([219,179,139].slice(0,c)).enter().append("line").attr("class","vline").attr("x1",(e=>k(e))).attr("x2",(e=>k(e))).attr("y1",435).attr("y2",g).attr("stroke","#009E73").attr("stroke-width",1).attr("stroke-dasharray","4,4"),e.append("line").attr("x1",k(310)).attr("x2",k(310)).attr("y1",435).attr("y2",g).attr("stroke","grey").attr("stroke-width",1).attr("stroke-dasharray","4,4"),function(e,t,n,a,i){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];const l=n-t;if(l<=0)return void console.error("Brace width (x2 - x1) must be positive.");const o=s?-i:i,c=t+l/2,h=t,d=a+o/2,u=t+l/3,p=a+o/8,f=c,m=a+o,x=2*c-u,g=p,y=2*c-h,b=d,v="M".concat(t,",").concat(a," ")+"C".concat(h,",").concat(d," ").concat(u,",").concat(p," ").concat(f,",").concat(m," ")+"C".concat(x,",").concat(g," ").concat(y,",").concat(b," ").concat(n,",").concat(a);if(e.append("path").attr("d",v).attr("fill","none").attr("class","custom-brace").attr("stroke","black"),r){const t=s?a-i-10:a+i+15;e.append("text").attr("x",c).attr("y",t).attr("text-anchor","middle").attr("fill","black").text(r)}}(e,k(219),k(310),435,20,"90 days after final corrective disclosure",!1);let S=120,T=260;e.append("text").attr("id","labelBuy").attr("x",k(S)-35).attr("y",70).attr("fill",p).text("\u2b05 Buy \u27a1").on("mouseover",(function(){r.Ltv("#buy-line").transition().duration(100).attr("stroke-width",4).attr("stroke-opacity",.8),r.Ltv(this).transition().duration(100).attr("font-weight","bold")})).on("mouseout",(function(){r.Ltv("#buy-line").transition().duration(100).attr("stroke-width",2).attr("stroke-opacity",1),r.Ltv(this).transition().duration(100).attr("font-weight","normal")})).call(r.$Er().on("drag",(function(e){const t=Math.round(k.invert(e.x)),n=Math.max(0,Math.min(319,t));r.Ltv("#buy-line").attr("x1",k(n)).attr("x2",k(n)),r.Ltv(this).attr("x",k(n)-35);let i=null;n>119&&(i=n<=310?j.slice(220,n).reduce(((e,t)=>e+t),0)/(n-220):j.slice(220,310).reduce(((e,t)=>e+t),0)/90),d((e=>(0,a.A)((0,a.A)({},e),{},{t_buy:n,PA_buy:j[n],PC_buy:v[n],average_buy:i})))}))),e.append("line").attr("id","buy-line").attr("x1",k(S)).attr("x2",k(S)).attr("y1",445).attr("y2",g).attr("stroke",p).attr("stroke-width",2).style("cursor","ew-resize").on("mouseover",(function(){r.Ltv("#labelBuy").transition().duration(100).attr("font-weight","bold"),r.Ltv(this).transition().duration(100).attr("stroke-width",4).attr("stroke-opacity",.8)})).on("mouseout",(function(){r.Ltv("#labelBuy").transition().duration(100).attr("font-weight","normal"),r.Ltv(this).transition().duration(100).attr("stroke-width",2).attr("stroke-opacity",1)})).call(r.$Er().on("drag",(function(e){const t=Math.round(k.invert(e.x)),n=Math.max(0,Math.min(319,t));r.Ltv("#labelBuy").attr("x",k(n)-35),r.Ltv(this).attr("x1",k(n)).attr("x2",k(n));let i=null;n>119&&(i=n<=310?j.slice(220,n).reduce(((e,t)=>e+t),0)/(n-220):j.slice(220,310).reduce(((e,t)=>e+t),0)/90),d((e=>(0,a.A)((0,a.A)({},e),{},{t_buy:n,PA_buy:j[n],PC_buy:v[n],average_buy:i})))}))),e.append("text").attr("id","labelSell").attr("x",k(T)-35).attr("y",70).attr("fill",f).text("\u2b05 Sell \u27a1").on("mouseover",(function(){r.Ltv("#sell-line").transition().duration(100).attr("stroke-width",4).attr("stroke-opacity",.8),r.Ltv(this).transition().duration(100).attr("font-weight","bold")})).on("mouseout",(function(){r.Ltv("#sell-line").transition().duration(100).attr("stroke-width",2).attr("stroke-opacity",1),r.Ltv(this).transition().duration(100).attr("font-weight","normal")})).call(r.$Er().on("drag",(function(e){const t=Math.round(k.invert(e.x)),n=Math.max(0,Math.min(319,t));r.Ltv("#sell-line").attr("x1",k(n)).attr("x2",k(n)),r.Ltv(this).attr("x",k(n)-35);let i=null;n>119&&(i=n<=310?j.slice(220,n).reduce(((e,t)=>e+t),0)/(n-220):j.slice(220,310).reduce(((e,t)=>e+t),0)/90),d((e=>(0,a.A)((0,a.A)({},e),{},{t_sell:n,PA_sell:j[n],PC_sell:v[n],average_sell:i})))}))),e.append("line").attr("id","sell-line").attr("x1",k(T)).attr("x2",k(T)).attr("y1",445).attr("y2",g).attr("stroke",f).attr("stroke-width",2).style("cursor","ew-resize").on("mouseover",(function(){r.Ltv("#labelSell").transition().duration(100).attr("font-weight","bold"),r.Ltv(this).transition().duration(100).attr("stroke-width",4).attr("stroke-opacity",.8)})).on("mouseout",(function(){r.Ltv("#labelSell").transition().duration(100).attr("font-weight","normal"),r.Ltv(this).transition().duration(100).attr("stroke-width",2).attr("stroke-opacity",1)})).call(r.$Er().on("drag",(function(e){const t=Math.round(k.invert(e.x)),n=Math.max(0,Math.min(319,t));r.Ltv("#labelSell").attr("x",k(n)-35),r.Ltv(this).attr("x1",k(n)).attr("x2",k(n));let i=null;n>119&&(i=n<=310?j.slice(220,n).reduce(((e,t)=>e+t),0)/(n-220):j.slice(220,310).reduce(((e,t)=>e+t),0)/90),d((e=>(0,a.A)((0,a.A)({},e),{},{t_sell:n,PA_sell:j[n],PC_sell:v[n],average_sell:i})))}))),d({t_buy:S,PA_buy:j[120],PC_buy:v[120],t_sell:T,PA_sell:j[260],PC_sell:v[260],average_sell:j.slice(220,T).reduce(((e,t)=>e+t),0)/40,average_buy:null})}),[t,n,l,o,c,h,d]),(0,s.jsx)("svg",{ref:u,width:800,height:500})}},7366:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(5043),i=(n(4588),n(579));function r(e){let{onToggle:t}=e;const[n,r]=(0,a.useState)(!1);return(0,i.jsxs)("div",{className:"toggle-container",children:[(0,i.jsx)("label",{className:n?"label active":"label",children:"Price Maintenance"}),(0,i.jsxs)("label",{className:"switch",children:[(0,i.jsx)("input",{type:"checkbox",checked:n,onChange:()=>{const e=!n;r(e),t(!!e)}}),(0,i.jsx)("span",{className:"slider"})]})]})}},9944:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});n(5043),n(3671);var a=n(5475),i=n(2638),r=n(579);const s=function(){return(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)(i.A,{group:"Sec"}),(0,r.jsx)("p",{className:"heading1",children:"Securities Regulation"}),(0,r.jsx)("div",{style:{display:"flex",paddingLeft:"10vw"},children:(0,r.jsx)("ul",{className:"toc-list",children:(0,r.jsxs)("div",{className:"content-group",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{className:"Sec-link",to:"/sec_reg/damages",children:"Damages"})}),(0,r.jsxs)("ul",{className:"toc-list",children:[(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"Misc-sublink",to:"/sec_reg/damages/10b5",children:"Rule 10b-5 Damages"})}),(0,r.jsx)("li",{className:"TD-content",children:(0,r.jsx)(a.k2,{className:"Misc-sublink",to:"/sec_reg/damages/10b5_graph",children:"Rule 10b-5 Damage Graph"})})]})]})})}),(0,r.jsx)(i.A,{group:"Sec"})]})}},6900:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});n(5043),n(2273);var a=n(579);const i=function(){return(0,a.jsx)("div",{className:"Teaching",children:(0,a.jsx)("p",{className:"heading1",children:"A really good explanation of my teaching agenda."})})}},1840:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=[{title:"Contents",path:"/corporate_finance/black_scholes",component:"BS0",group:"BS",course:"CorpFin"},{title:"Preliminaries",path:"/corporate_finance/black_scholes/preliminaries",component:"BS1",group:"BS",course:"CorpFin"},{title:"Stochastic Calculus",path:"/corporate_finance/black_scholes/stochastic_calculus",component:"BS2",group:"BS",course:"CorpFin"},{title:"Black-Scholes Equation",path:"/corporate_finance/black_scholes/equation",component:"BS3",group:"BS",course:"CorpFin"},{title:"Black-Scholes Transformation",path:"/corporate_finance/black_scholes/transformation",component:"BS4",group:"BS",course:"CorpFin"},{title:"Pricing a Call",path:"/corporate_finance/black_scholes/pricing",component:"BS5",group:"BS",course:"CorpFin"},{title:"Comparative Statics",path:"/corporate_finance/black_scholes/statics",component:"BS6",group:"BS",course:"CorpFin"},{title:"Calculator/Graph",path:"/corporate_finance/black_scholes/calculator_graph",component:"BS7",group:"BS",course:"CorpFin"},{title:"Volatility",path:"/corporate_finance/black_scholes/volatility",component:"BS8",group:"BS",course:"CorpFin"},{title:"Contents",path:"/corporate_finance/time_discounting",component:"TD0",group:"TD",course:"CorpFin"},{title:"Intro",path:"/corporate_finance/time_discounting/intro",component:"TD1",group:"TD",course:"CorpFin"},{title:"Compound Interest",path:"/corporate_finance/time_discounting/compound_interest",component:"TD2",group:"TD",course:"CorpFin"},{title:"Annuities",path:"/corporate_finance/time_discounting/annuities",component:"TD3",group:"TD",course:"CorpFin"},{title:"Investment Decision Rules",path:"/corporate_finance/time_discounting/investment_rules",component:"TD4",group:"TD",course:"CorpFin"},{title:"Bonds",path:"/corporate_finance/time_discounting/bonds",component:"TD5",group:"TD",course:"CorpFin"},{title:"Time Conversion",path:"/corporate_finance/time_discounting/time_conversion",component:"TD6",group:"TD",course:"CorpFin"},{title:"Contents",path:"/corporate_finance/risk",component:"Risk0",group:"Risk",course:"CorpFin"},{title:"Intro",path:"/corporate_finance/risk/intro",component:"Risk1",group:"Risk",course:"CorpFin"},{title:"Risk Aversion Measures",path:"/corporate_finance/risk/risk_aversion",component:"Risk2",group:"Risk",course:"CorpFin"},{title:"Diversification",path:"/corporate_finance/risk/diversification",component:"Risk3",group:"Risk",course:"CorpFin"},{title:"Efficient Frontier",path:"/corporate_finance/risk/efficient_frontier",component:"Risk4",group:"Risk",course:"CorpFin"},{title:"CAPM",path:"/corporate_finance/risk/capm",component:"Risk5",group:"Risk",course:"CorpFin"},{title:"CAPM and Regression",path:"/corporate_finance/risk/capm_reg",component:"Risk6",group:"Risk",course:"CorpFin"},{title:"Factor Models",path:"/corporate_finance/risk/factor_models",component:"Risk7",group:"Risk",course:"CorpFin"},{title:"Contents",path:"/fourier",component:"Fourier0",group:"Fourier",course:"Misc"},{title:"Complex Numbers",path:"/fourier/complex_numbers",component:"Fourier1",group:"Fourier",course:"Misc"},{title:"Fourier Series",path:"/fourier/series",component:"Fourier2",group:"Fourier",course:"Misc"},{title:"Fourier Transform",path:"/fourier/transform",component:"Fourier3",group:"Fourier",course:"Misc"},{title:"Heat Equation",path:"/fourier/heat_equation",component:"Fourier4",group:"Fourier",course:"Misc"},{title:"Discrete Fourier Transform",path:"/fourier/discrete",component:"Fourier5",group:"Fourier",course:"Misc"},{title:"Contents",path:"/mortgages",component:"Mortgages0",group:"Mortgages",course:"Misc"},{title:"Points",path:"/mortgages/points",component:"Mortgages1",group:"Mortgages",course:"Misc"},{title:"Contents",path:"/stats",component:"Stats0",group:"Stats",course:"Misc"},{title:"Single Random Variable",path:"/stats/single_random_variable",component:"Stats1",group:"Stats",course:"Misc"},{title:"Multiple Random Variables",path:"/stats/multiple_random_variable",component:"Stats2",group:"Stats",course:"Misc"},{title:"Samples",path:"/stats/samples",component:"Stats3",group:"Stats",course:"Misc"},{title:"Regression",path:"/stats/regression",component:"Stats4",group:"Stats",course:"Misc"},{title:"Multivariate Regression",path:"/stats/multivariate_regression",component:"Stats5",group:"Stats",course:"Misc"},{title:"Points Calculator",path:"/mortgages/points_calculator",component:"Mortgages2",group:"Mortgages",course:"Misc"},{title:"Delaware Incorporation",path:"/ma/del_incorp",component:"Corp1",group:"Corp",course:"MA"},{title:"Contents",path:"/sec_reg/damages",component:"Damage0",group:"Damages",course:"Sec"},{title:"Rule 10b-5 Damages",path:"/sec_reg/damages/10b5",component:"Damage1",group:"Damages",course:"Sec"},{title:"Rule 10b-5 Graph",path:"/sec_reg/damages/10b5_graph",component:"Damage2",group:"Damages",course:"Sec"}]},1387:(e,t,n)=>{"use strict";function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},a.apply(this,arguments)}var i;n.d(t,{AO:()=>d,B6:()=>T,Gh:()=>I,HS:()=>F,Oi:()=>l,Rr:()=>u,TM:()=>s,pX:()=>B,pb:()=>M,rc:()=>i,tH:()=>O,ue:()=>m,yD:()=>R}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));const r="popstate";function s(e){return void 0===e&&(e={}),p((function(e,t){let{pathname:n="/",search:a="",hash:i=""}=u(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),h("",{pathname:n,search:a,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),a="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");a=-1===n?t:t.slice(0,n)}return a+"#"+("string"===typeof t?t:d(t))}),(function(e,t){o("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function o(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,i){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?u(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function u(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function p(e,t,n,s){void 0===s&&(s={});let{window:o=document.defaultView,v5Compat:u=!1}=s,p=o.history,f=i.Pop,m=null,x=g();function g(){return(p.state||{idx:null}).idx}function y(){f=i.Pop;let e=g(),t=null==e?null:e-x;x=e,m&&m({action:f,location:v.location,delta:t})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==x&&(x=0,p.replaceState(a({},p.state,{idx:x}),""));let v={get action(){return f},get location(){return e(o,p)},listen(e){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(r,y),m=e,()=>{o.removeEventListener(r,y),m=null}},createHref:e=>t(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=i.Push;let a=h(v.location,e,t);n&&n(a,e),x=g()+1;let r=c(a,x),s=v.createHref(a);try{p.pushState(r,"",s)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;o.location.assign(s)}u&&m&&m({action:f,location:v.location,delta:1})},replace:function(e,t){f=i.Replace;let a=h(v.location,e,t);n&&n(a,e),x=g();let r=c(a,x),s=v.createHref(a);p.replaceState(r,"",s),u&&m&&m({action:f,location:v.location,delta:0})},go:e=>p.go(e)};return v}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){return void 0===n&&(n="/"),x(e,t,n,!1)}function x(e,t,n,a){let i=M(("string"===typeof t?u(t):t).pathname||"/",n);if(null==i)return null;let r=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let s=null;for(let l=0;null==s&&l<r.length;++l){let e=C(i);s=S(r[l],e,a)}return s}function g(e,t,n,a){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a="");let i=(e,i,r)=>{let s={relativePath:void 0===r?e.path||"":r,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(l(s.relativePath.startsWith(a),'Absolute route path "'+s.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(a.length));let o=F([a,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),g(e.children,t,c,o)),(null!=e.path||e.index)&&t.push({path:o,score:N(o,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let a of y(e.path))i(e,t,a);else i(e,t)})),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,i=n.endsWith("?"),r=n.replace(/\?$/,"");if(0===a.length)return i?[r,""]:[r];let s=y(a.join("/")),l=[];return l.push(...s.map((e=>""===e?r:[r,e].join("/")))),i&&l.push(...s),l.map((t=>e.startsWith("/")&&""===t?"/":t))}const b=/^:[\w-]+$/,v=3,j=2,w=1,_=10,k=-2,A=e=>"*"===e;function N(e,t){let n=e.split("/"),a=n.length;return n.some(A)&&(a+=k),t&&(a+=j),n.filter((e=>!A(e))).reduce(((e,t)=>e+(b.test(t)?v:""===t?w:_)),a)}function S(e,t,n){void 0===n&&(n=!1);let{routesMeta:a}=e,i={},r="/",s=[];for(let l=0;l<a.length;++l){let e=a[l],o=l===a.length-1,c="/"===r?t:t.slice(r.length)||"/",h=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),d=e.route;if(!h&&o&&n&&!a[a.length-1].route.index&&(h=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:F([r,h.pathname]),pathnameBase:D(F([r,h.pathnameBase])),route:d}),"/"!==h.pathnameBase&&(r=F([r,h.pathnameBase]))}return s}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);o("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(a.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let r=new RegExp(i,t?void 0:"i");return[r,a]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let r=i[0],s=r.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:a.reduce(((e,t,n)=>{let{paramName:a,isOptional:i}=t;if("*"===a){let e=l[n]||"";s=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[n];return e[a]=i&&!o?void 0:(o||"").replace(/%2F/g,"/"),e}),{}),pathname:r,pathnameBase:s,pattern:e}}function C(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return o(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function E(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e,t){let n=P(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function I(e,t,n,i){let r;void 0===i&&(i=!1),"string"===typeof e?r=u(e):(r=a({},e),l(!r.pathname||!r.pathname.includes("?"),E("?","pathname","search",r)),l(!r.pathname||!r.pathname.includes("#"),E("#","pathname","hash",r)),l(!r.search||!r.search.includes("#"),E("#","search","hash",r)));let s,o=""===e||""===r.pathname,c=o?"/":r.pathname;if(null==c)s=n;else{let e=t.length-1;if(!i&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let h=function(e,t){void 0===t&&(t="/");let{pathname:n,search:a="",hash:i=""}="string"===typeof e?u(e):e,r=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:r,search:q(a),hash:L(i)}}(r,s),d=c&&"/"!==c&&c.endsWith("/"),p=(o||"."===c)&&n.endsWith("/");return h.pathname.endsWith("/")||!d&&!p||(h.pathname+="/"),h}const F=e=>e.join("/").replace(/\/\/+/g,"/"),D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",L=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class O extends Error{}function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],V=(new Set(z),["get",...z]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred")},7971:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(5043),i=n(4257),r=function(){return(r=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n},l=function(e){return"Typesetting failed: ".concat(void 0!==e.message?e.message:JSON.stringify(e))};const o=function(e){function t(){var e;"every"===v&&_&&"post"===j&&null!==y.current&&(y.current.style.visibility=null!=(e=null==(e=x.style)?void 0:e.visibility)?e:"visible"),k.current||("first"===v&&null!==y.current&&(y.current.style.visibility="visible"),c&&c(),k.current=!0),h&&h(),A.current=!1}var n=void 0!==(o=e.inline)&&o,o=e.hideUntilTypeset,c=e.onInitTypeset,h=e.onTypeset,d=e.text,u=e.dynamic,p=e.typesettingOptions,f=e.renderMode,m=e.children,x=s(e,["inline","hideUntilTypeset","onInitTypeset","onTypeset","text","dynamic","typesettingOptions","renderMode","children"]),g=(0,a.useRef)(""),y=(0,a.useRef)(null),b=(0,a.useContext)(i.k),v=null!=o?o:null==b?void 0:b.hideUntilTypeset,j=null!=f?f:null==b?void 0:b.renderMode,w=null!=p?p:null==b?void 0:b.typesettingOptions,_=!1!==u&&(u||!1),k=(0,a.useRef)(!1),A=(0,a.useRef)(!1);return!A.current&&null!==y.current&&_&&"every"===v&&"post"===j&&(y.current.style.visibility="hidden"),("undefined"!=typeof window?a.useLayoutEffect:a.useEffect)((function(){if((_||!k.current)&&null!==y.current){if(!b)throw Error("MathJax was not loaded, did you use the MathJax component outside of a MathJaxContext?");if("pre"===j){if(!("string"==typeof(e=d)&&0<e.length))throw Error("Render mode 'pre' requires text prop to be set and non-empty, which was currently \"".concat(d,'"'));if(!p||!p.fn)throw Error("Render mode 'pre' requires 'typesettingOptions' prop with 'fn' property to be set on MathJax element or in the MathJaxContext");if(2===b.version)throw Error("Render mode 'pre' only available with MathJax 3, and version 2 is currently in use")}"post"!==j&&d===g.current||A.current||(A.current=!0,3===b.version?b.promise.then((function(e){var a;"pre"===j?(a=function(n){g.current=d,e.startup.document.clear(),e.startup.document.updateDocument(),null!==y.current&&(y.current.innerHTML=n.outerHTML),t()},p.fn.endsWith("Promise")?e.startup.promise.then((function(){return e[w.fn](d,r(r({},(null==w?void 0:w.options)||{}),{display:!n}))})).then(a).catch((function(e){throw t(),Error(l(e))})):e.startup.promise.then((function(){var t=e[w.fn](d,r(r({},(null==w?void 0:w.options)||{}),{display:!n}));a(t)})).catch((function(e){throw t(),Error(l(e))}))):e.startup.promise.then((function(){return e.typesetClear([y.current]),e.typesetPromise([y.current])})).then(t).catch((function(e){throw t(),Error(l(e))}))})).catch((function(e){throw t(),Error(l(e))})):b.promise.then((function(e){e.Hub.Queue(["Typeset",e.Hub,y.current]),e.Hub.Queue(t)})).catch((function(e){throw t(),Error(l(e))})))}var e})),a.createElement("span",r({},x,{style:r(r({display:n?"inline":"block"},x.style),{visibility:v?"hidden":null==(e=x.style)?void 0:e.visibility}),ref:y}),m)}},4257:(e,t,n)=>{"use strict";n.d(t,{A:()=>h,k:()=>l});var a,i,r=n(5043),s=function(){return(s=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},l=(0,r.createContext)(void 0),o="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML",c="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js";const h=function(e){var t=e.config,n=void 0===(n=e.version)?3:n,h=void 0===(h=e.src)?2===n?o:c:h,d=e.onStartup,u=e.onLoad,p=void 0!==(m=e.asyncLoad)&&m,f=e.onError,m=e.typesettingOptions,x=void 0===(x=e.renderMode)?"post":x,g=e.hideUntilTypeset;e=e.children;if(void 0!==(null==(y=(0,r.useContext)(l))?void 0:y.version)&&(null==y?void 0:y.version)!==n)throw Error("Cannot nest MathJaxContexts with different versions. MathJaxContexts should not be nested at all but if they are, they cannot have different versions. Stick with one version of MathJax in your app and avoid using more than one MathJaxContext.");if(2===n&&void 0!==i||3===n&&void 0!==a)throw Error("Cannot use MathJax versions 2 and 3 simultaneously in the same app due to how MathJax is set up in the browser; either you have multiple MathJaxContexts with different versions or you have mounted and unmounted MathJaxContexts with different versions. Please stick with one version of MathJax in your app. File an issue in the project Github page if you need this feature.");var y,b=(0,r.useRef)(y);if(null===(y=(0,r.useRef)((null==y?void 0:y.version)||null)).current)y.current=n;else if(y.current!==n)throw Error("Cannot change version of MathJax in a MathJaxContext after it has mounted. Reload the page with a new version when this must happen.");var v=h||(2===n?o:c);function j(e,n){t&&(window.MathJax=t);var a=document.createElement("script");a.type="text/javascript",a.src=v,a.async=p,a.addEventListener("load",(function(){var t=window.MathJax;d&&d(t),e(t),u&&u()})),a.addEventListener("error",(function(e){return n(e)})),document.getElementsByTagName("head")[0].appendChild(a)}return void 0===b.current&&(y={typesettingOptions:m,renderMode:x,hideUntilTypeset:g},2===n?void 0===a&&("undefined"!=typeof window?(a=new Promise(j)).catch((function(e){if(!f)throw Error("Failed to download MathJax version 2 from '".concat(v,"' due to: ").concat(JSON.stringify(e)));f(e)})):(a=Promise.reject()).catch((function(e){}))):void 0===i&&("undefined"!=typeof window?(i=new Promise(j)).catch((function(e){if(!f)throw Error("Failed to download MathJax version 3 from '".concat(v,"' due to: ").concat(e));f(e)})):(i=Promise.reject()).catch((function(e){}))),b.current=s(s({},y),2===n?{version:2,promise:a}:{version:3,promise:i})),r.createElement(l.Provider,{value:b.current},e)}},1497:(e,t,n)=>{"use strict";var a=n(3218);function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,r,s){if(s!==a){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8738:(e,t,n)=>{"use strict";var a,i=n(5043),r=(a=i)&&"object"===typeof a&&"default"in a?a.default:a,s=n(2751),l=new s,o=l.getBrowser(),c=l.getCPU(),h=l.getDevice(),d=l.getEngine(),u=l.getOS(),p=l.getUA(),f=function(e){return l.setUA(e)},m=function(e){if(e){var t=new s(e);return{UA:t,browser:t.getBrowser(),cpu:t.getCPU(),device:t.getDevice(),engine:t.getEngine(),os:t.getOS(),ua:t.getUA(),setUserAgent:function(e){return t.setUA(e)}}}console.error("No userAgent string was provided")},x=Object.freeze({ClientUAInstance:l,browser:o,cpu:c,device:h,engine:d,os:u,ua:p,setUa:f,parseUserAgent:m});function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},j.apply(this,arguments)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function k(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,i,r=[],s=!0,l=!1;try{for(n=n.call(e);!(s=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);s=!0);}catch(o){l=!0,i=o}finally{try{s||null==n.return||n.return()}finally{if(l)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var T="mobile",C="tablet",M="smarttv",E="console",P="wearable",R="embedded",I=void 0,F={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},D={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},q={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},L=function(e){return e||(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none")},O=function(){return!("undefined"===typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},B=function(e){var t=O();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)},z=function(e,t,n,a){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{vendor:L(t.vendor),model:L(t.model),os:L(n.name),osVersion:L(n.version),ua:L(a)})};var V=function(e){return e.type===T},W=function(e){return e.type===C},X=function(e){var t=e.type;return t===T||t===C},H=function(e){return e.type===M},U=function(e){return e.type===I},K=function(e){return e.type===P},$=function(e){return e.type===E},Y=function(e){return e.type===R},G=function(e){var t=e.vendor;return L(t)},Q=function(e){var t=e.model;return L(t)},Z=function(e){var t=e.type;return L(t,"browser")},J=function(e){return e.name===D.Android},ee=function(e){return e.name===D.Windows},te=function(e){return e.name===D.MAC_OS},ne=function(e){return e.name===D.WindowsPhone},ae=function(e){return e.name===D.IOS},ie=function(e){var t=e.version;return L(t)},re=function(e){var t=e.name;return L(t)},se=function(e){return e.name===F.Chrome},le=function(e){return e.name===F.Firefox},oe=function(e){return e.name===F.Chromium},ce=function(e){return e.name===F.Edge},he=function(e){return e.name===F.Yandex},de=function(e){var t=e.name;return t===F.Safari||t===F.MobileSafari},ue=function(e){return e.name===F.MobileSafari},pe=function(e){return e.name===F.Opera},fe=function(e){var t=e.name;return t===F.InternetExplorer||t===F.Ie},me=function(e){return e.name===F.MIUI},xe=function(e){return e.name===F.SamsungBrowser},ge=function(e){var t=e.version;return L(t)},ye=function(e){var t=e.major;return L(t)},be=function(e){var t=e.name;return L(t)},ve=function(e){var t=e.name;return L(t)},je=function(e){var t=e.version;return L(t)},we=function(){var e=O(),t=e&&e.userAgent&&e.userAgent.toLowerCase();return"string"===typeof t&&/electron/.test(t)},_e=function(e){return"string"===typeof e&&-1!==e.indexOf("Edg/")},ke=function(){var e=O();return e&&(/iPad|iPhone|iPod/.test(e.platform)||"MacIntel"===e.platform&&e.maxTouchPoints>1)&&!window.MSStream},Ae=function(){return B("iPad")},Ne=function(){return B("iPhone")},Se=function(){return B("iPod")},Te=function(e){return L(e)};function Ce(e){var t=e||x,n=t.device,a=t.browser,i=t.os,r=t.engine,s=t.ua;return{isSmartTV:H(n),isConsole:$(n),isWearable:K(n),isEmbedded:Y(n),isMobileSafari:ue(a)||Ae(),isChromium:oe(a),isMobile:X(n)||Ae(),isMobileOnly:V(n),isTablet:W(n)||Ae(),isBrowser:U(n),isDesktop:U(n),isAndroid:J(i),isWinPhone:ne(i),isIOS:ae(i)||Ae(),isChrome:se(a),isFirefox:le(a),isSafari:de(a),isOpera:pe(a),isIE:fe(a),osVersion:ie(i),osName:re(i),fullBrowserVersion:ge(a),browserVersion:ye(a),browserName:be(a),mobileVendor:G(n),mobileModel:Q(n),engineName:ve(r),engineVersion:je(r),getUA:Te(s),isEdge:ce(a)||_e(s),isYandex:he(a),deviceType:Z(n),isIOS13:ke(),isIPad13:Ae(),isIPhone13:Ne(),isIPod13:Se(),isElectron:we(),isEdgeChromium:_e(s),isLegacyEdge:ce(a)&&!_e(s),isWindows:ee(i),isMacOs:te(i),isMIUI:me(a),isSamsungBrowser:xe(a)}}var Me=H(h),Ee=$(h),Pe=K(h),Re=Y(h),Ie=ue(o)||Ae(),Fe=oe(o),De=X(h)||Ae(),qe=V(h),Le=W(h)||Ae(),Oe=U(h),Be=U(h),ze=J(u),Ve=ne(u),We=ae(u)||Ae(),Xe=se(o),He=le(o),Ue=de(o),Ke=pe(o),$e=fe(o),Ye=ie(u),Ge=re(u),Qe=ge(o),Ze=ye(o),Je=be(o),et=G(h),tt=Q(h),nt=ve(d),at=je(d),it=Te(p),rt=ce(o)||_e(p),st=he(o),lt=Z(h),ot=ke(),ct=Ae(),ht=Ne(),dt=Se(),ut=we(),pt=_e(p),ft=ce(o)&&!_e(p),mt=ee(u),xt=te(u),gt=me(o),yt=xe(o);function bt(e){var t=e||window.navigator.userAgent;return m(t)}t.S7=function(e){var t=e.renderWithFragment,n=e.children,a=k(e,["renderWithFragment","children"]);return Oe?t?r.createElement(i.Fragment,null,n):r.createElement("div",a,n):null},t.IM=function(e){var t=e.renderWithFragment,n=e.children,a=k(e,["renderWithFragment","children"]);return De?t?r.createElement(i.Fragment,null,n):r.createElement("div",a,n):null}},2730:(e,t,n)=>{"use strict";var a=n(5043),i=n(8853);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,a,i,r,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=s}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){x[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];x[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){x[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){x[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){x[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){x[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){x[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){x[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){x[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,a){var i=x.hasOwnProperty(t)?x[t]:null;(null!==i?0!==i.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,a)&&(n=null),a||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(u.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,a=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);x[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);x[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);x[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){x[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),x.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){x[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var v=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),S=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var D,q=Object.assign;function L(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var O=!1;function B(e,t){if(!e||O)return"";O=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),r=a.stack.split("\n"),s=i.length-1,l=r.length-1;1<=s&&0<=l&&i[s]!==r[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==r[l]){if(1!==s||1!==l)do{if(s--,0>--l||i[s]!==r[l]){var o="\n"+i[s].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=s&&0<=l);break}}}finally{O=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function z(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case w:return"Portal";case A:return"Profiler";case k:return"StrictMode";case C:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function X(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function U(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){a=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=H(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=X(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){Q(e,t);var n=X(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,X(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+X(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(a&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(te(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:X(n)}}function re(e,t){var n=X(t.value),a=X(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,he,de=(he=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction((function(){return he(e,t)}))}:he);function ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),i=me(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ge=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,_e=null,ke=null;function Ae(e){if(e=bi(e)){if("function"!==typeof we)throw Error(r(280));var t=e.stateNode;t&&(t=ji(t),we(e.stateNode,e.type,t))}}function Ne(e){_e?ke?ke.push(e):ke=[e]:_e=e}function Se(){if(_e){var e=_e,t=ke;if(ke=_e=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Te(e,t){return e(t)}function Ce(){}var Me=!1;function Ee(e,t,n){if(Me)return e(t,n);Me=!0;try{return Te(e,t,n)}finally{Me=!1,(null!==_e||null!==ke)&&(Ce(),Se())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var a=ji(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(r(231,t,typeof n));return n}var Re=!1;if(h)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(he){Re=!1}function Fe(e,t,n,a,i,r,s,l,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var De=!1,qe=null,Le=!1,Oe=null,Be={onError:function(e){De=!0,qe=e}};function ze(e,t,n,a,i,r,s,l,o){De=!1,qe=null,Fe.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ve(e)!==e)throw Error(r(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(a=i.return)){n=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Xe(i),e;if(s===a)return Xe(i),t;s=s.sibling}throw Error(r(188))}if(n.return!==a.return)n=i,a=s;else{for(var l=!1,o=i.child;o;){if(o===n){l=!0,n=i,a=s;break}if(o===a){l=!0,a=i,n=s;break}o=o.sibling}if(!l){for(o=s.child;o;){if(o===n){l=!0,n=s,a=i;break}if(o===a){l=!0,a=s,n=i;break}o=o.sibling}if(!l)throw Error(r(189))}}if(n.alternate!==a)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e))?Ue(e):null}function Ue(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ue(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Ge=i.unstable_requestPaint,Qe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,at=i.unstable_IdlePriority,it=null,rt=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ot|0)|0},lt=Math.log,ot=Math.LN2;var ct=64,ht=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ut(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,i=e.suspendedLanes,r=e.pingedLanes,s=268435455&n;if(0!==s){var l=s&~i;0!==l?a=dt(l):0!==(r&=s)&&(a=dt(r))}else 0!==(s=n&~i)?a=dt(s):0!==r&&(a=dt(r));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&i)&&((i=a&-a)>=(r=t&-t)||16===i&&0!==(4194240&r)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)i=1<<(n=31-st(t)),a|=e[n],t&=~i;return a}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-st(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}var bt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,_t,kt,At,Nt=!1,St=[],Tt=null,Ct=null,Mt=null,Et=new Map,Pt=new Map,Rt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Dt(e,t,n,a,i,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:r,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&wt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function qt(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void At(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&wt(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);ve=a,n.target.dispatchEvent(a),ve=null,t.shift()}return!0}function Ot(e,t,n){Lt(e)&&n.delete(t)}function Bt(){Nt=!1,null!==Tt&&Lt(Tt)&&(Tt=null),null!==Ct&&Lt(Ct)&&(Ct=null),null!==Mt&&Lt(Mt)&&(Mt=null),Et.forEach(Ot),Pt.forEach(Ot)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return zt(t,e)}if(0<St.length){zt(St[0],e);for(var n=1;n<St.length;n++){var a=St[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==Ct&&zt(Ct,e),null!==Mt&&zt(Mt,e),Et.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(a=Rt[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)qt(n),null===n.blockedOn&&Rt.shift()}var Wt=v.ReactCurrentBatchConfig,Xt=!0;function Ht(e,t,n,a){var i=bt,r=Wt.transition;Wt.transition=null;try{bt=1,Kt(e,t,n,a)}finally{bt=i,Wt.transition=r}}function Ut(e,t,n,a){var i=bt,r=Wt.transition;Wt.transition=null;try{bt=4,Kt(e,t,n,a)}finally{bt=i,Wt.transition=r}}function Kt(e,t,n,a){if(Xt){var i=Yt(e,t,n,a);if(null===i)Xa(e,t,a,$t,n),Ft(e,a);else if(function(e,t,n,a,i){switch(t){case"focusin":return Tt=Dt(Tt,e,t,n,a,i),!0;case"dragenter":return Ct=Dt(Ct,e,t,n,a,i),!0;case"mouseover":return Mt=Dt(Mt,e,t,n,a,i),!0;case"pointerover":var r=i.pointerId;return Et.set(r,Dt(Et.get(r)||null,e,t,n,a,i)),!0;case"gotpointercapture":return r=i.pointerId,Pt.set(r,Dt(Pt.get(r)||null,e,t,n,a,i)),!0}return!1}(i,e,t,n,a))a.stopPropagation();else if(Ft(e,a),4&t&&-1<It.indexOf(e)){for(;null!==i;){var r=bi(i);if(null!==r&&jt(r),null===(r=Yt(e,t,n,a))&&Xa(e,t,a,$t,n),r===i)break;i=r}null!==i&&a.stopPropagation()}else Xa(e,t,a,null,n)}}var $t=null;function Yt(e,t,n,a){if($t=null,null!==(e=yi(e=je(a))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,a=n.length,i="value"in Qt?Qt.value:Qt.textContent,r=i.length;for(e=0;e<a&&n[e]===i[e];e++);var s=a-e;for(t=1;t<=s&&n[a-t]===i[r-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function rn(e){function t(t,n,a,i,r){for(var s in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:an,this.isPropagationStopped=an,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,ln,on,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=rn(cn),dn=q({},cn,{view:0,detail:0}),un=rn(dn),pn=q({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(sn=e.screenX-on.screenX,ln=e.screenY-on.screenY):ln=sn=0,on=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),fn=rn(pn),mn=rn(q({},pn,{dataTransfer:0})),xn=rn(q({},dn,{relatedTarget:0})),gn=rn(q({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=q({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=rn(yn),vn=rn(q({},cn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function An(){return kn}var Nn=q({},dn,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=rn(Nn),Tn=rn(q({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=rn(q({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Mn=rn(q({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=q({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=rn(En),Rn=[9,13,27,32],In=h&&"CompositionEvent"in window,Fn=null;h&&"documentMode"in document&&(Fn=document.documentMode);var Dn=h&&"TextEvent"in window&&!Fn,qn=h&&(!In||Fn&&8<Fn&&11>=Fn),Ln=String.fromCharCode(32),On=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,a){Ne(a),0<(t=Ua(t,"onChange")).length&&(n=new hn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Un=null,Kn=null;function $n(e){La(e,0)}function Yn(e){if(K(vi(e)))return e}function Gn(e,t){if("change"===e)return t}var Qn=!1;if(h){var Zn;if(h){var Jn="oninput"in document;if(!Jn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Jn="function"===typeof ea.oninput}Zn=Jn}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function ta(){Un&&(Un.detachEvent("onpropertychange",na),Kn=Un=null)}function na(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Hn(t,Kn,e,je(e)),Ee($n,t)}}function aa(e,t,n){"focusin"===e?(ta(),Kn=n,(Un=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function ia(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ra(e,t){if("click"===e)return Yn(t)}function sa(e,t){if("input"===e||"change"===e)return Yn(t)}var la="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function oa(e,t){if(la(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!d.call(t,i)||!la(e[i],t[i]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ha(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function da(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?da(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ua(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function pa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fa(e){var t=ua(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&da(n.ownerDocument.documentElement,n)){if(null!==a&&pa(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,r=Math.min(a.start,i);a=void 0===a.end?r:Math.min(a.end,i),!e.extend&&r>a&&(i=a,a=r,r=i),i=ha(n,r);var s=ha(n,a);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),r>a?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ma=h&&"documentMode"in document&&11>=document.documentMode,xa=null,ga=null,ya=null,ba=!1;function va(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ba||null==xa||xa!==$(a)||("selectionStart"in(a=xa)&&pa(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ya&&oa(ya,a)||(ya=a,0<(a=Ua(ga,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=xa)))}function ja(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wa={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},_a={},ka={};function Aa(e){if(_a[e])return _a[e];if(!wa[e])return e;var t,n=wa[e];for(t in n)if(n.hasOwnProperty(t)&&t in ka)return _a[e]=n[t];return e}h&&(ka=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);var Na=Aa("animationend"),Sa=Aa("animationiteration"),Ta=Aa("animationstart"),Ca=Aa("transitionend"),Ma=new Map,Ea="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pa(e,t){Ma.set(e,t),o(t,[e])}for(var Ra=0;Ra<Ea.length;Ra++){var Ia=Ea[Ra];Pa(Ia.toLowerCase(),"on"+(Ia[0].toUpperCase()+Ia.slice(1)))}Pa(Na,"onAnimationEnd"),Pa(Sa,"onAnimationIteration"),Pa(Ta,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(Ca,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Da=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fa));function qa(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,i,s,l,o,c){if(ze.apply(this,arguments),De){if(!De)throw Error(r(198));var h=qe;De=!1,qe=null,Le||(Le=!0,Oe=h)}}(a,t,void 0,e),e.currentTarget=null}function La(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var r=void 0;if(t)for(var s=a.length-1;0<=s;s--){var l=a[s],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==r&&i.isPropagationStopped())break e;qa(i,l,c),r=o}else for(s=0;s<a.length;s++){if(o=(l=a[s]).instance,c=l.currentTarget,l=l.listener,o!==r&&i.isPropagationStopped())break e;qa(i,l,c),r=o}}}if(Le)throw e=Oe,Le=!1,Oe=null,e}function Oa(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var a=e+"__bubble";n.has(a)||(Wa(t,e,2,!1),n.add(a))}function Ba(e,t,n){var a=0;t&&(a|=4),Wa(n,e,a,t)}var za="_reactListening"+Math.random().toString(36).slice(2);function Va(e){if(!e[za]){e[za]=!0,s.forEach((function(t){"selectionchange"!==t&&(Da.has(t)||Ba(t,!1,e),Ba(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[za]||(t[za]=!0,Ba("selectionchange",!1,t))}}function Wa(e,t,n,a){switch(Gt(t)){case 1:var i=Ht;break;case 4:i=Ut;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),a?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xa(e,t,n,a,i){var r=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var s=a.tag;if(3===s||4===s){var l=a.stateNode.containerInfo;if(l===i||8===l.nodeType&&l.parentNode===i)break;if(4===s)for(s=a.return;null!==s;){var o=s.tag;if((3===o||4===o)&&((o=s.stateNode.containerInfo)===i||8===o.nodeType&&o.parentNode===i))return;s=s.return}for(;null!==l;){if(null===(s=yi(l)))return;if(5===(o=s.tag)||6===o){a=r=s;continue e}l=l.parentNode}}a=a.return}Ee((function(){var a=r,i=je(n),s=[];e:{var l=Ma.get(e);if(void 0!==l){var o=hn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":o=Sn;break;case"focusin":c="focus",o=xn;break;case"focusout":c="blur",o=xn;break;case"beforeblur":case"afterblur":o=xn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Cn;break;case Na:case Sa:case Ta:o=gn;break;case Ca:o=Mn;break;case"scroll":o=un;break;case"wheel":o=Pn;break;case"copy":case"cut":case"paste":o=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Tn}var h=0!==(4&t),d=!h&&"scroll"===e,u=h?null!==l?l+"Capture":null:l;h=[];for(var p,f=a;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==u&&(null!=(m=Pe(f,u))&&h.push(Ha(f,m,p)))),d)break;f=f.return}0<h.length&&(l=new o(l,c,null,n,i),s.push({event:l,listeners:h}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[fi])&&(o||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=a,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=a),o!==c)){if(h=fn,m="onMouseLeave",u="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(h=Tn,m="onPointerLeave",u="onPointerEnter",f="pointer"),d=null==o?l:vi(o),p=null==c?l:vi(c),(l=new h(m,f+"leave",o,n,i)).target=d,l.relatedTarget=p,m=null,yi(i)===a&&((h=new h(u,f+"enter",c,n,i)).target=p,h.relatedTarget=d,m=h),d=m,o&&c)e:{for(u=c,f=0,p=h=o;p;p=Ka(p))f++;for(p=0,m=u;m;m=Ka(m))p++;for(;0<f-p;)h=Ka(h),f--;for(;0<p-f;)u=Ka(u),p--;for(;f--;){if(h===u||null!==u&&h===u.alternate)break e;h=Ka(h),u=Ka(u)}h=null}else h=null;null!==o&&$a(s,l,o,h,!1),null!==c&&null!==d&&$a(s,d,c,h,!0)}if("select"===(o=(l=a?vi(a):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var x=Gn;else if(Xn(l))if(Qn)x=sa;else{x=ia;var g=aa}else(o=l.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(x=ra);switch(x&&(x=x(e,a))?Hn(s,x,n,i):(g&&g(e,l,a),"focusout"===e&&(g=l._wrapperState)&&g.controlled&&"number"===l.type&&ee(l,"number",l.value)),g=a?vi(a):window,e){case"focusin":(Xn(g)||"true"===g.contentEditable)&&(xa=g,ga=a,ya=null);break;case"focusout":ya=ga=xa=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,va(s,n,i);break;case"selectionchange":if(ma)break;case"keydown":case"keyup":va(s,n,i)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(qn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Zt="value"in(Qt=i)?Qt.value:Qt.textContent,Vn=!0)),0<(g=Ua(a,b)).length&&(b=new vn(b,e,null,n,i),s.push({event:b,listeners:g}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(On=!0,Ln);case"textInput":return(e=t.data)===Ln&&On?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!In&&Bn(e,t)?(e=en(),Jt=Zt=Qt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=Ua(a,"onBeforeInput")).length&&(i=new vn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:a}),i.data=y))}La(s,t)}))}function Ha(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ua(e,t){for(var n=t+"Capture",a=[];null!==e;){var i=e,r=i.stateNode;5===i.tag&&null!==r&&(i=r,null!=(r=Pe(e,n))&&a.unshift(Ha(e,r,i)),null!=(r=Pe(e,t))&&a.push(Ha(e,r,i))),e=e.return}return a}function Ka(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $a(e,t,n,a,i){for(var r=t._reactName,s=[];null!==n&&n!==a;){var l=n,o=l.alternate,c=l.stateNode;if(null!==o&&o===a)break;5===l.tag&&null!==c&&(l=c,i?null!=(o=Pe(n,r))&&s.unshift(Ha(n,o,l)):i||null!=(o=Pe(n,r))&&s.push(Ha(n,o,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Ya=/\r\n?/g,Ga=/\u0000|\uFFFD/g;function Qa(e){return("string"===typeof e?e:""+e).replace(Ya,"\n").replace(Ga,"")}function Za(e,t,n){if(t=Qa(t),Qa(e)!==t&&n)throw Error(r(425))}function Ja(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ai="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ri="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ri?function(e){return ri.resolve(null).then(e).catch(li)}:ai;function li(e){setTimeout((function(){throw e}))}function oi(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===a)return e.removeChild(i),void Vt(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function hi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),ui="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,mi="__reactEvents$"+di,xi="__reactListeners$"+di,gi="__reactHandles$"+di;function yi(e){var t=e[ui];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ui]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=hi(e);null!==e;){if(n=e[ui])return n;e=hi(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[ui]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function ji(e){return e[pi]||null}var wi=[],_i=-1;function ki(e){return{current:e}}function Ai(e){0>_i||(e.current=wi[_i],wi[_i]=null,_i--)}function Ni(e,t){_i++,wi[_i]=e.current,e.current=t}var Si={},Ti=ki(Si),Ci=ki(!1),Mi=Si;function Ei(e,t){var n=e.type.contextTypes;if(!n)return Si;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var i,r={};for(i in n)r[i]=t[i];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ai(Ci),Ai(Ti)}function Ii(e,t,n){if(Ti.current!==Si)throw Error(r(168));Ni(Ti,t),Ni(Ci,n)}function Fi(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var i in a=a.getChildContext())if(!(i in t))throw Error(r(108,W(e)||"Unknown",i));return q({},n,a)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Mi=Ti.current,Ni(Ti,e),Ni(Ci,Ci.current),!0}function qi(e,t,n){var a=e.stateNode;if(!a)throw Error(r(169));n?(e=Fi(e,t,Mi),a.__reactInternalMemoizedMergedChildContext=e,Ai(Ci),Ai(Ti),Ni(Ti,e)):Ai(Ci),Ni(Ci,n)}var Li=null,Oi=!1,Bi=!1;function zi(e){null===Li?Li=[e]:Li.push(e)}function Vi(){if(!Bi&&null!==Li){Bi=!0;var e=0,t=bt;try{var n=Li;for(bt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}Li=null,Oi=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),Ke(Je,Vi),i}finally{bt=t,Bi=!1}}return null}var Wi=[],Xi=0,Hi=null,Ui=0,Ki=[],$i=0,Yi=null,Gi=1,Qi="";function Zi(e,t){Wi[Xi++]=Ui,Wi[Xi++]=Hi,Hi=e,Ui=t}function Ji(e,t,n){Ki[$i++]=Gi,Ki[$i++]=Qi,Ki[$i++]=Yi,Yi=e;var a=Gi;e=Qi;var i=32-st(a)-1;a&=~(1<<i),n+=1;var r=32-st(t)+i;if(30<r){var s=i-i%5;r=(a&(1<<s)-1).toString(32),a>>=s,i-=s,Gi=1<<32-st(t)+i|n<<i|a,Qi=r+e}else Gi=1<<r|n<<i|a,Qi=e}function er(e){null!==e.return&&(Zi(e,1),Ji(e,1,0))}function tr(e){for(;e===Hi;)Hi=Wi[--Xi],Wi[Xi]=null,Ui=Wi[--Xi],Wi[Xi]=null;for(;e===Yi;)Yi=Ki[--$i],Ki[$i]=null,Qi=Ki[--$i],Ki[$i]=null,Gi=Ki[--$i],Ki[$i]=null}var nr=null,ar=null,ir=!1,rr=null;function sr(e,t){var n=Ec(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function lr(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,nr=e,ar=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,nr=e,ar=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Gi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ec(18,null,null,0)).stateNode=t,n.return=e,e.child=n,nr=e,ar=null,!0);default:return!1}}function or(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cr(e){if(ir){var t=ar;if(t){var n=t;if(!lr(e,t)){if(or(e))throw Error(r(418));t=ci(n.nextSibling);var a=nr;t&&lr(e,t)?sr(a,n):(e.flags=-4097&e.flags|2,ir=!1,nr=e)}}else{if(or(e))throw Error(r(418));e.flags=-4097&e.flags|2,ir=!1,nr=e}}}function hr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;nr=e}function dr(e){if(e!==nr)return!1;if(!ir)return hr(e),ir=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ar)){if(or(e))throw ur(),Error(r(418));for(;t;)sr(e,t),t=ci(t.nextSibling)}if(hr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ar=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ar=null}}else ar=nr?ci(e.stateNode.nextSibling):null;return!0}function ur(){for(var e=ar;e;)e=ci(e.nextSibling)}function pr(){ar=nr=null,ir=!1}function fr(e){null===rr?rr=[e]:rr.push(e)}var mr=v.ReactCurrentBatchConfig;function xr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var a=n.stateNode}if(!a)throw Error(r(147,e));var i=a,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function gr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yr(e){return(0,e._init)(e._payload)}function br(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function s(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,a){return null===t||6!==t.tag?((t=qc(n,e.mode,a)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,a){var r=n.type;return r===_?d(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===P&&yr(r)===t.type)?((a=i(t,n.props)).ref=xr(e,t,n),a.return=e,a):((a=Ic(n.type,n.key,n.props,null,e.mode,a)).ref=xr(e,t,n),a.return=e,a)}function h(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lc(n,e.mode,a)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,a,r){return null===t||7!==t.tag?((t=Fc(n,e.mode,a,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=qc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=xr(e,null,t),n.return=e,n;case w:return(t=Lc(t,e.mode,n)).return=e,t;case P:return u(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Fc(t,e.mode,n,null)).return=e,t;gr(e,t)}return null}function p(e,t,n,a){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:o(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===i?c(e,t,n,a):null;case w:return n.key===i?h(e,t,n,a):null;case P:return p(e,t,(i=n._init)(n._payload),a)}if(te(n)||F(n))return null!==i?null:d(e,t,n,a,null);gr(e,n)}return null}function f(e,t,n,a,i){if("string"===typeof a&&""!==a||"number"===typeof a)return o(t,e=e.get(n)||null,""+a,i);if("object"===typeof a&&null!==a){switch(a.$$typeof){case j:return c(t,e=e.get(null===a.key?n:a.key)||null,a,i);case w:return h(t,e=e.get(null===a.key?n:a.key)||null,a,i);case P:return f(e,t,n,(0,a._init)(a._payload),i)}if(te(a)||F(a))return d(t,e=e.get(n)||null,a,i,null);gr(t,a)}return null}function m(i,r,l,o){for(var c=null,h=null,d=r,m=r=0,x=null;null!==d&&m<l.length;m++){d.index>m?(x=d,d=null):x=d.sibling;var g=p(i,d,l[m],o);if(null===g){null===d&&(d=x);break}e&&d&&null===g.alternate&&t(i,d),r=s(g,r,m),null===h?c=g:h.sibling=g,h=g,d=x}if(m===l.length)return n(i,d),ir&&Zi(i,m),c;if(null===d){for(;m<l.length;m++)null!==(d=u(i,l[m],o))&&(r=s(d,r,m),null===h?c=d:h.sibling=d,h=d);return ir&&Zi(i,m),c}for(d=a(i,d);m<l.length;m++)null!==(x=f(d,i,m,l[m],o))&&(e&&null!==x.alternate&&d.delete(null===x.key?m:x.key),r=s(x,r,m),null===h?c=x:h.sibling=x,h=x);return e&&d.forEach((function(e){return t(i,e)})),ir&&Zi(i,m),c}function x(i,l,o,c){var h=F(o);if("function"!==typeof h)throw Error(r(150));if(null==(o=h.call(o)))throw Error(r(151));for(var d=h=null,m=l,x=l=0,g=null,y=o.next();null!==m&&!y.done;x++,y=o.next()){m.index>x?(g=m,m=null):g=m.sibling;var b=p(i,m,y.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),l=s(b,l,x),null===d?h=b:d.sibling=b,d=b,m=g}if(y.done)return n(i,m),ir&&Zi(i,x),h;if(null===m){for(;!y.done;x++,y=o.next())null!==(y=u(i,y.value,c))&&(l=s(y,l,x),null===d?h=y:d.sibling=y,d=y);return ir&&Zi(i,x),h}for(m=a(i,m);!y.done;x++,y=o.next())null!==(y=f(m,i,x,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?x:y.key),l=s(y,l,x),null===d?h=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),ir&&Zi(i,x),h}return function e(a,r,s,o){if("object"===typeof s&&null!==s&&s.type===_&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case j:e:{for(var c=s.key,h=r;null!==h;){if(h.key===c){if((c=s.type)===_){if(7===h.tag){n(a,h.sibling),(r=i(h,s.props.children)).return=a,a=r;break e}}else if(h.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&yr(c)===h.type){n(a,h.sibling),(r=i(h,s.props)).ref=xr(a,h,s),r.return=a,a=r;break e}n(a,h);break}t(a,h),h=h.sibling}s.type===_?((r=Fc(s.props.children,a.mode,o,s.key)).return=a,a=r):((o=Ic(s.type,s.key,s.props,null,a.mode,o)).ref=xr(a,r,s),o.return=a,a=o)}return l(a);case w:e:{for(h=s.key;null!==r;){if(r.key===h){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(a,r.sibling),(r=i(r,s.children||[])).return=a,a=r;break e}n(a,r);break}t(a,r),r=r.sibling}(r=Lc(s,a.mode,o)).return=a,a=r}return l(a);case P:return e(a,r,(h=s._init)(s._payload),o)}if(te(s))return m(a,r,s,o);if(F(s))return x(a,r,s,o);gr(a,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==r&&6===r.tag?(n(a,r.sibling),(r=i(r,s)).return=a,a=r):(n(a,r),(r=qc(s,a.mode,o)).return=a,a=r),l(a)):n(a,r)}}var vr=br(!0),jr=br(!1),wr=ki(null),_r=null,kr=null,Ar=null;function Nr(){Ar=kr=_r=null}function Sr(e){var t=wr.current;Ai(wr),e._currentValue=t}function Tr(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Cr(e,t){_r=e,Ar=kr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yl=!0),e.firstContext=null)}function Mr(e){var t=e._currentValue;if(Ar!==e)if(e={context:e,memoizedValue:t,next:null},null===kr){if(null===_r)throw Error(r(308));kr=e,_r.dependencies={lanes:0,firstContext:e}}else kr=kr.next=e;return t}var Er=null;function Pr(e){null===Er?Er=[e]:Er.push(e)}function Rr(e,t,n,a){var i=t.interleaved;return null===i?(n.next=n,Pr(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ir(e,a)}function Ir(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fr=!1;function Dr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Or(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&To)){var i=a.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),a.pending=t,Ir(e,n)}return null===(i=a.interleaved)?(t.next=t,Pr(a)):(t.next=i.next,i.next=t),a.interleaved=t,Ir(e,n)}function Br(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zr(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var i=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?i=r=s:r=r.next=s,n=n.next}while(null!==n);null===r?i=r=t:r=r.next=t}else i=r=t;return n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vr(e,t,n,a){var i=e.updateQueue;Fr=!1;var r=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var o=l,c=o.next;o.next=null,null===s?r=c:s.next=c,s=o;var h=e.alternate;null!==h&&((l=(h=h.updateQueue).lastBaseUpdate)!==s&&(null===l?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=o))}if(null!==r){var d=i.baseState;for(s=0,h=c=o=null,l=r;;){var u=l.lane,p=l.eventTime;if((a&u)===u){null!==h&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var f=e,m=l;switch(u=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,u);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(u="function"===typeof(f=m.payload)?f.call(p,d,u):f)||void 0===u)break e;d=q({},d,u);break e;case 2:Fr=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(u=i.effects)?i.effects=[l]:u.push(l))}else p={eventTime:p,lane:u,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===h?(c=h=p,o=d):h=h.next=p,s|=u;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(u=l).next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}if(null===h&&(o=d),i.baseState=o,i.firstBaseUpdate=c,i.lastBaseUpdate=h,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===r&&(i.shared.lanes=0);Do|=s,e.lanes=s,e.memoizedState=d}}function Wr(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],i=a.callback;if(null!==i){if(a.callback=null,a=n,"function"!==typeof i)throw Error(r(191,i));i.call(a)}}}var Xr={},Hr=ki(Xr),Ur=ki(Xr),Kr=ki(Xr);function $r(e){if(e===Xr)throw Error(r(174));return e}function Yr(e,t){switch(Ni(Kr,t),Ni(Ur,e),Ni(Hr,Xr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ai(Hr),Ni(Hr,t)}function Gr(){Ai(Hr),Ai(Ur),Ai(Kr)}function Qr(e){$r(Kr.current);var t=$r(Hr.current),n=oe(t,e.type);t!==n&&(Ni(Ur,e),Ni(Hr,n))}function Zr(e){Ur.current===e&&(Ai(Hr),Ai(Ur))}var Jr=ki(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var as=v.ReactCurrentDispatcher,is=v.ReactCurrentBatchConfig,rs=0,ss=null,ls=null,os=null,cs=!1,hs=!1,ds=0,us=0;function ps(){throw Error(r(321))}function fs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!la(e[n],t[n]))return!1;return!0}function ms(e,t,n,a,i,s){if(rs=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,as.current=null===e||null===e.memoizedState?Zs:Js,e=n(a,i),hs){s=0;do{if(hs=!1,ds=0,25<=s)throw Error(r(301));s+=1,os=ls=null,t.updateQueue=null,as.current=el,e=n(a,i)}while(hs)}if(as.current=Qs,t=null!==ls&&null!==ls.next,rs=0,os=ls=ss=null,cs=!1,t)throw Error(r(300));return e}function xs(){var e=0!==ds;return ds=0,e}function gs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===os?ss.memoizedState=os=e:os=os.next=e,os}function ys(){if(null===ls){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===os?ss.memoizedState:os.next;if(null!==t)os=t,ls=e;else{if(null===e)throw Error(r(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===os?ss.memoizedState=os=e:os=os.next=e}return os}function bs(e,t){return"function"===typeof t?t(e):t}function vs(e){var t=ys(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var a=ls,i=a.baseQueue,s=n.pending;if(null!==s){if(null!==i){var l=i.next;i.next=s.next,s.next=l}a.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,a=a.baseState;var o=l=null,c=null,h=s;do{var d=h.lane;if((rs&d)===d)null!==c&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),a=h.hasEagerState?h.eagerState:e(a,h.action);else{var u={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};null===c?(o=c=u,l=a):c=c.next=u,ss.lanes|=d,Do|=d}h=h.next}while(null!==h&&h!==s);null===c?l=a:c.next=o,la(a,t.memoizedState)||(yl=!0),t.memoizedState=a,t.baseState=l,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ss.lanes|=s,Do|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function js(e){var t=ys(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var l=i=i.next;do{s=e(s,l.action),l=l.next}while(l!==i);la(s,t.memoizedState)||(yl=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function ws(){}function _s(e,t){var n=ss,a=ys(),i=t(),s=!la(a.memoizedState,i);if(s&&(a.memoizedState=i,yl=!0),a=a.queue,Fs(Ns.bind(null,n,a,e),[e]),a.getSnapshot!==t||s||null!==os&&1&os.memoizedState.tag){if(n.flags|=2048,Ms(9,As.bind(null,n,a,i,t),void 0,null),null===Co)throw Error(r(349));0!==(30&rs)||ks(n,t,i)}return i}function ks(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function As(e,t,n,a){t.value=n,t.getSnapshot=a,Ss(t)&&Ts(e)}function Ns(e,t,n){return n((function(){Ss(t)&&Ts(e)}))}function Ss(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!la(e,n)}catch(a){return!0}}function Ts(e){var t=Ir(e,1);null!==t&&nc(t,e,1,-1)}function Cs(e){var t=gs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,ss,e),[t.memoizedState,e]}function Ms(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Es(){return ys().memoizedState}function Ps(e,t,n,a){var i=gs();ss.flags|=e,i.memoizedState=Ms(1|t,n,void 0,void 0===a?null:a)}function Rs(e,t,n,a){var i=ys();a=void 0===a?null:a;var r=void 0;if(null!==ls){var s=ls.memoizedState;if(r=s.destroy,null!==a&&fs(a,s.deps))return void(i.memoizedState=Ms(t,n,r,a))}ss.flags|=e,i.memoizedState=Ms(1|t,n,r,a)}function Is(e,t){return Ps(8390656,8,e,t)}function Fs(e,t){return Rs(2048,8,e,t)}function Ds(e,t){return Rs(4,2,e,t)}function qs(e,t){return Rs(4,4,e,t)}function Ls(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Os(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rs(4,4,Ls.bind(null,t,e),n)}function Bs(){}function zs(e,t){var n=ys();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&fs(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Vs(e,t){var n=ys();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&fs(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&rs)?(e.baseState&&(e.baseState=!1,yl=!0),e.memoizedState=n):(la(n,t)||(n=mt(),ss.lanes|=n,Do|=n,e.baseState=!0),t)}function Xs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var a=is.transition;is.transition={};try{e(!1),t()}finally{bt=n,is.transition=a}}function Hs(){return ys().memoizedState}function Us(e,t,n){var a=tc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},$s(e))Ys(t,n);else if(null!==(n=Rr(e,t,n,a))){nc(n,e,a,ec()),Gs(n,t,a)}}function Ks(e,t,n){var a=tc(e),i={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if($s(e))Ys(t,i);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=r(s,n);if(i.hasEagerState=!0,i.eagerState=l,la(l,s)){var o=t.interleaved;return null===o?(i.next=i,Pr(t)):(i.next=o.next,o.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Rr(e,t,i,a))&&(nc(n,e,a,i=ec()),Gs(n,t,a))}}function $s(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Ys(e,t){hs=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gs(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Qs={readContext:Mr,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Zs={readContext:Mr,useCallback:function(e,t){return gs().memoizedState=[e,void 0===t?null:t],e},useContext:Mr,useEffect:Is,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ps(4194308,4,Ls.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ps(4,2,e,t)},useMemo:function(e,t){var n=gs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=gs();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Us.bind(null,ss,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},gs().memoizedState=e},useState:Cs,useDebugValue:Bs,useDeferredValue:function(e){return gs().memoizedState=e},useTransition:function(){var e=Cs(!1),t=e[0];return e=Xs.bind(null,e[1]),gs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=ss,i=gs();if(ir){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===Co)throw Error(r(349));0!==(30&rs)||ks(a,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Is(Ns.bind(null,a,s,e),[e]),a.flags|=2048,Ms(9,As.bind(null,a,s,n,t),void 0,null),n},useId:function(){var e=gs(),t=Co.identifierPrefix;if(ir){var n=Qi;t=":"+t+"R"+(n=(Gi&~(1<<32-st(Gi)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=us++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Js={readContext:Mr,useCallback:zs,useContext:Mr,useEffect:Fs,useImperativeHandle:Os,useInsertionEffect:Ds,useLayoutEffect:qs,useMemo:Vs,useReducer:vs,useRef:Es,useState:function(){return vs(bs)},useDebugValue:Bs,useDeferredValue:function(e){return Ws(ys(),ls.memoizedState,e)},useTransition:function(){return[vs(bs)[0],ys().memoizedState]},useMutableSource:ws,useSyncExternalStore:_s,useId:Hs,unstable_isNewReconciler:!1},el={readContext:Mr,useCallback:zs,useContext:Mr,useEffect:Fs,useImperativeHandle:Os,useInsertionEffect:Ds,useLayoutEffect:qs,useMemo:Vs,useReducer:js,useRef:Es,useState:function(){return js(bs)},useDebugValue:Bs,useDeferredValue:function(e){var t=ys();return null===ls?t.memoizedState=e:Ws(t,ls.memoizedState,e)},useTransition:function(){return[js(bs)[0],ys().memoizedState]},useMutableSource:ws,useSyncExternalStore:_s,useId:Hs,unstable_isNewReconciler:!1};function tl(e,t){if(e&&e.defaultProps){for(var n in t=q({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function nl(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:q({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var al={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ec(),i=tc(e),r=Lr(a,i);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=Or(e,r,i))&&(nc(t,e,i,a),Br(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ec(),i=tc(e),r=Lr(a,i);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=Or(e,r,i))&&(nc(t,e,i,a),Br(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),a=tc(e),i=Lr(n,a);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Or(e,i,a))&&(nc(t,e,a,n),Br(t,e,a))}};function il(e,t,n,a,i,r,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,r,s):!t.prototype||!t.prototype.isPureReactComponent||(!oa(n,a)||!oa(i,r))}function rl(e,t,n){var a=!1,i=Si,r=t.contextType;return"object"===typeof r&&null!==r?r=Mr(r):(i=Pi(t)?Mi:Ti.current,r=(a=null!==(a=t.contextTypes)&&void 0!==a)?Ei(e,i):Si),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=al,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=r),t}function sl(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&al.enqueueReplaceState(t,t.state,null)}function ll(e,t,n,a){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Dr(e);var r=t.contextType;"object"===typeof r&&null!==r?i.context=Mr(r):(r=Pi(t)?Mi:Ti.current,i.context=Ei(e,r)),i.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(nl(e,t,r,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&al.enqueueReplaceState(i,i.state,null),Vr(e,n,i,a),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ol(e,t){try{var n="",a=t;do{n+=z(a),a=a.return}while(a);var i=n}catch(r){i="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:i,digest:null}}function cl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hl(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var dl="function"===typeof WeakMap?WeakMap:Map;function ul(e,t,n){(n=Lr(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Xo||(Xo=!0,Ho=a),hl(0,t)},n}function pl(e,t,n){(n=Lr(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var i=t.value;n.payload=function(){return a(i)},n.callback=function(){hl(0,t)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){hl(0,t),"function"!==typeof a&&(null===Uo?Uo=new Set([this]):Uo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fl(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new dl;var i=new Set;a.set(t,i)}else void 0===(i=a.get(t))&&(i=new Set,a.set(t,i));i.has(n)||(i.add(n),e=Ac.bind(null,e,t,n),t.then(e,e))}function ml(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xl(e,t,n,a,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Lr(-1,1)).tag=2,Or(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var gl=v.ReactCurrentOwner,yl=!1;function bl(e,t,n,a){t.child=null===e?jr(t,null,n,a):vr(t,e.child,n,a)}function vl(e,t,n,a,i){n=n.render;var r=t.ref;return Cr(t,i),a=ms(e,t,n,a,r,i),n=xs(),null===e||yl?(ir&&n&&er(t),t.flags|=1,bl(e,t,a,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wl(e,t,i))}function jl(e,t,n,a,i){if(null===e){var r=n.type;return"function"!==typeof r||Pc(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,a,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,wl(e,t,r,a,i))}if(r=e.child,0===(e.lanes&i)){var s=r.memoizedProps;if((n=null!==(n=n.compare)?n:oa)(s,a)&&e.ref===t.ref)return Wl(e,t,i)}return t.flags|=1,(e=Rc(r,a)).ref=t.ref,e.return=t,t.child=e}function wl(e,t,n,a,i){if(null!==e){var r=e.memoizedProps;if(oa(r,a)&&e.ref===t.ref){if(yl=!1,t.pendingProps=a=r,0===(e.lanes&i))return t.lanes=e.lanes,Wl(e,t,i);0!==(131072&e.flags)&&(yl=!0)}}return Al(e,t,n,a,i)}function _l(e,t,n){var a=t.pendingProps,i=a.children,r=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ni(Ro,Po),Po|=n;else{if(0===(1073741824&n))return e=null!==r?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ni(Ro,Po),Po|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==r?r.baseLanes:n,Ni(Ro,Po),Po|=a}else null!==r?(a=r.baseLanes|n,t.memoizedState=null):a=n,Ni(Ro,Po),Po|=a;return bl(e,t,i,n),t.child}function kl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Al(e,t,n,a,i){var r=Pi(n)?Mi:Ti.current;return r=Ei(t,r),Cr(t,i),n=ms(e,t,n,a,r,i),a=xs(),null===e||yl?(ir&&a&&er(t),t.flags|=1,bl(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wl(e,t,i))}function Nl(e,t,n,a,i){if(Pi(n)){var r=!0;Di(t)}else r=!1;if(Cr(t,i),null===t.stateNode)Vl(e,t),rl(t,n,a),ll(t,n,a,i),a=!0;else if(null===e){var s=t.stateNode,l=t.memoizedProps;s.props=l;var o=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Mr(c):c=Ei(t,c=Pi(n)?Mi:Ti.current);var h=n.getDerivedStateFromProps,d="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(l!==a||o!==c)&&sl(t,s,a,c),Fr=!1;var u=t.memoizedState;s.state=u,Vr(t,a,s,i),o=t.memoizedState,l!==a||u!==o||Ci.current||Fr?("function"===typeof h&&(nl(t,n,h,a),o=t.memoizedState),(l=Fr||il(t,n,l,a,u,o,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=o),s.props=a,s.state=o,s.context=c,a=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,qr(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:tl(t.type,l),s.props=c,d=t.pendingProps,u=s.context,"object"===typeof(o=n.contextType)&&null!==o?o=Mr(o):o=Ei(t,o=Pi(n)?Mi:Ti.current);var p=n.getDerivedStateFromProps;(h="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(l!==d||u!==o)&&sl(t,s,a,o),Fr=!1,u=t.memoizedState,s.state=u,Vr(t,a,s,i);var f=t.memoizedState;l!==d||u!==f||Ci.current||Fr?("function"===typeof p&&(nl(t,n,p,a),f=t.memoizedState),(c=Fr||il(t,n,c,a,u,f,o)||!1)?(h||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(a,f,o),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(a,f,o)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||l===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=f),s.props=a,s.state=f,s.context=o,a=c):("function"!==typeof s.componentDidUpdate||l===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),a=!1)}return Sl(e,t,n,a,r,i)}function Sl(e,t,n,a,i,r){kl(e,t);var s=0!==(128&t.flags);if(!a&&!s)return i&&qi(t,n,!1),Wl(e,t,r);a=t.stateNode,gl.current=t;var l=s&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&s?(t.child=vr(t,e.child,null,r),t.child=vr(t,null,l,r)):bl(e,t,l,r),t.memoizedState=a.state,i&&qi(t,n,!0),t.child}function Tl(e){var t=e.stateNode;t.pendingContext?Ii(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ii(0,t.context,!1),Yr(e,t.containerInfo)}function Cl(e,t,n,a,i){return pr(),fr(i),t.flags|=256,bl(e,t,n,a),t.child}var Ml,El,Pl,Rl,Il={dehydrated:null,treeContext:null,retryLane:0};function Fl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dl(e,t,n){var a,i=t.pendingProps,s=Jr.current,l=!1,o=0!==(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&0!==(2&s)),a?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ni(Jr,1&s),null===e)return cr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,l?(i=t.mode,l=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==l?(l.childLanes=0,l.pendingProps=o):l=Dc(o,i,0,null),e=Fc(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Fl(n),t.memoizedState=Il,e):ql(t,o));if(null!==(s=e.memoizedState)&&null!==(a=s.dehydrated))return function(e,t,n,a,i,s,l){if(n)return 256&t.flags?(t.flags&=-257,Ll(e,t,l,a=cl(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=a.fallback,i=t.mode,a=Dc({mode:"visible",children:a.children},i,0,null),(s=Fc(s,i,l,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,0!==(1&t.mode)&&vr(t,e.child,null,l),t.child.memoizedState=Fl(l),t.memoizedState=Il,s);if(0===(1&t.mode))return Ll(e,t,l,null);if("$!"===i.data){if(a=i.nextSibling&&i.nextSibling.dataset)var o=a.dgst;return a=o,Ll(e,t,l,a=cl(s=Error(r(419)),a,void 0))}if(o=0!==(l&e.childLanes),yl||o){if(null!==(a=Co)){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(a.suspendedLanes|l))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ir(e,i),nc(a,e,i,-1))}return mc(),Ll(e,t,l,a=cl(Error(r(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ar=ci(i.nextSibling),nr=t,ir=!0,rr=null,null!==e&&(Ki[$i++]=Gi,Ki[$i++]=Qi,Ki[$i++]=Yi,Gi=e.id,Qi=e.overflow,Yi=t),t=ql(t,a.children),t.flags|=4096,t)}(e,t,o,i,a,s,n);if(l){l=i.fallback,o=t.mode,a=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&o)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==a?l=Rc(a,l):(l=Fc(l,o,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,o=null===(o=e.child.memoizedState)?Fl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=Il,i}return e=(l=e.child).sibling,i=Rc(l,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ql(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ll(e,t,n,a){return null!==a&&fr(a),vr(t,e.child,null,n),(e=ql(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ol(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Tr(e.return,t,n)}function Bl(e,t,n,a,i){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=n,r.tailMode=i)}function zl(e,t,n){var a=t.pendingProps,i=a.revealOrder,r=a.tail;if(bl(e,t,a.children,n),0!==(2&(a=Jr.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ol(e,n,t);else if(19===e.tag)Ol(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ni(Jr,a),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bl(t,!1,i,n,r);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===es(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bl(t,!0,n,null,r);break;case"together":Bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Do|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xl(e,t){if(!ir)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,a|=14680064&i.subtreeFlags,a|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Ul(e,t,n){var a=t.pendingProps;switch(tr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hl(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Hl(t),null;case 3:return a=t.stateNode,Gr(),Ai(Ci),Ai(Ti),ns(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(dr(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==rr&&(sc(rr),rr=null))),El(e,t),Hl(t),null;case 5:Zr(t);var i=$r(Kr.current);if(n=t.type,null!==e&&null!=t.stateNode)Pl(e,t,n,a,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(r(166));return Hl(t),null}if(e=$r(Hr.current),dr(t)){a=t.stateNode,n=t.type;var s=t.memoizedProps;switch(a[ui]=t,a[pi]=s,e=0!==(1&t.mode),n){case"dialog":Oa("cancel",a),Oa("close",a);break;case"iframe":case"object":case"embed":Oa("load",a);break;case"video":case"audio":for(i=0;i<Fa.length;i++)Oa(Fa[i],a);break;case"source":Oa("error",a);break;case"img":case"image":case"link":Oa("error",a),Oa("load",a);break;case"details":Oa("toggle",a);break;case"input":G(a,s),Oa("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!s.multiple},Oa("invalid",a);break;case"textarea":ie(a,s),Oa("invalid",a)}for(var o in ye(n,s),i=null,s)if(s.hasOwnProperty(o)){var c=s[o];"children"===o?"string"===typeof c?a.textContent!==c&&(!0!==s.suppressHydrationWarning&&Za(a.textContent,c,e),i=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Za(a.textContent,c,e),i=["children",""+c]):l.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Oa("scroll",a)}switch(n){case"input":U(a),J(a,s,!0);break;case"textarea":U(a),se(a);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(a.onclick=Ja)}a=i,t.updateQueue=a,null!==a&&(t.flags|=4)}else{o=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=o.createElement(n,{is:a.is}):(e=o.createElement(n),"select"===n&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,n),e[ui]=t,e[pi]=a,Ml(e,t,!1,!1),t.stateNode=e;e:{switch(o=be(n,a),n){case"dialog":Oa("cancel",e),Oa("close",e),i=a;break;case"iframe":case"object":case"embed":Oa("load",e),i=a;break;case"video":case"audio":for(i=0;i<Fa.length;i++)Oa(Fa[i],e);i=a;break;case"source":Oa("error",e),i=a;break;case"img":case"image":case"link":Oa("error",e),Oa("load",e),i=a;break;case"details":Oa("toggle",e),i=a;break;case"input":G(e,a),i=Y(e,a),Oa("invalid",e);break;case"option":default:i=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},i=q({},a,{value:void 0}),Oa("invalid",e);break;case"textarea":ie(e,a),i=ae(e,a),Oa("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?xe(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&de(e,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&ue(e,h):"number"===typeof h&&ue(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Oa("scroll",e):null!=h&&b(e,s,h,o))}switch(n){case"input":U(e),J(e,a,!1);break;case"textarea":U(e),se(e);break;case"option":null!=a.value&&e.setAttribute("value",""+X(a.value));break;case"select":e.multiple=!!a.multiple,null!=(s=a.value)?ne(e,!!a.multiple,s,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Ja)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hl(t),null;case 6:if(e&&null!=t.stateNode)Rl(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(r(166));if(n=$r(Kr.current),$r(Hr.current),dr(t)){if(a=t.stateNode,n=t.memoizedProps,a[ui]=t,(s=a.nodeValue!==n)&&null!==(e=nr))switch(e.tag){case 3:Za(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Za(a.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[ui]=t,t.stateNode=a}return Hl(t),null;case 13:if(Ai(Jr),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ir&&null!==ar&&0!==(1&t.mode)&&0===(128&t.flags))ur(),pr(),t.flags|=98560,s=!1;else if(s=dr(t),null!==a&&null!==a.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[ui]=t}else pr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hl(t),s=!1}else null!==rr&&(sc(rr),rr=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Jr.current)?0===Io&&(Io=3):mc())),null!==t.updateQueue&&(t.flags|=4),Hl(t),null);case 4:return Gr(),El(e,t),null===e&&Va(t.stateNode.containerInfo),Hl(t),null;case 10:return Sr(t.type._context),Hl(t),null;case 19:if(Ai(Jr),null===(s=t.memoizedState))return Hl(t),null;if(a=0!==(128&t.flags),null===(o=s.rendering))if(a)Xl(s,!1);else{if(0!==Io||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=es(e))){for(t.flags|=128,Xl(s,!1),null!==(a=o.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(s=n).flags&=14680066,null===(o=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ni(Jr,1&Jr.current|2),t.child}e=e.sibling}null!==s.tail&&Qe()>Vo&&(t.flags|=128,a=!0,Xl(s,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=es(o))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Xl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!o.alternate&&!ir)return Hl(t),null}else 2*Qe()-s.renderingStartTime>Vo&&1073741824!==n&&(t.flags|=128,a=!0,Xl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=s.last)?n.sibling=o:t.child=o,s.last=o)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qe(),t.sibling=null,n=Jr.current,Ni(Jr,a?1&n|2:1&n),t):(Hl(t),null);case 22:case 23:return dc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Po)&&(Hl(t),6&t.subtreeFlags&&(t.flags|=8192)):Hl(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function Kl(e,t){switch(tr(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Gr(),Ai(Ci),Ai(Ti),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zr(t),null;case 13:if(Ai(Jr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));pr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ai(Jr),null;case 4:return Gr(),null;case 10:return Sr(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ml=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},El=function(){},Pl=function(e,t,n,a){var i=e.memoizedProps;if(i!==a){e=t.stateNode,$r(Hr.current);var r,s=null;switch(n){case"input":i=Y(e,i),a=Y(e,a),s=[];break;case"select":i=q({},i,{value:void 0}),a=q({},a,{value:void 0}),s=[];break;case"textarea":i=ae(e,i),a=ae(e,a),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof a.onClick&&(e.onclick=Ja)}for(h in ye(n,a),n=null,i)if(!a.hasOwnProperty(h)&&i.hasOwnProperty(h)&&null!=i[h])if("style"===h){var o=i[h];for(r in o)o.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in a){var c=a[h];if(o=null!=i?i[h]:void 0,a.hasOwnProperty(h)&&c!==o&&(null!=c||null!=o))if("style"===h)if(o){for(r in o)!o.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in c)c.hasOwnProperty(r)&&o[r]!==c[r]&&(n||(n={}),n[r]=c[r])}else n||(s||(s=[]),s.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(s=s||[]).push(h,c)):"children"===h?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Oa("scroll",e),s||o===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Rl=function(e,t,n,a){n!==a&&(t.flags|=4)};var $l=!1,Yl=!1,Gl="function"===typeof WeakSet?WeakSet:Set,Ql=null;function Zl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){kc(e,t,a)}else n.current=null}function Jl(e,t,n){try{n()}catch(a){kc(e,t,a)}}var eo=!1;function to(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var i=a=a.next;do{if((i.tag&e)===e){var r=i.destroy;i.destroy=void 0,void 0!==r&&Jl(t,n,r)}i=i.next}while(i!==a)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function ao(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function io(e){var t=e.alternate;null!==t&&(e.alternate=null,io(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ui],delete t[pi],delete t[mi],delete t[xi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ro(e){return 5===e.tag||3===e.tag||4===e.tag}function so(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ro(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lo(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ja));else if(4!==a&&null!==(e=e.child))for(lo(e,t,n),e=e.sibling;null!==e;)lo(e,t,n),e=e.sibling}function oo(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(oo(e,t,n),e=e.sibling;null!==e;)oo(e,t,n),e=e.sibling}var co=null,ho=!1;function uo(e,t,n){for(n=n.child;null!==n;)po(e,t,n),n=n.sibling}function po(e,t,n){if(rt&&"function"===typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(it,n)}catch(l){}switch(n.tag){case 5:Yl||Zl(n,t);case 6:var a=co,i=ho;co=null,uo(e,t,n),ho=i,null!==(co=a)&&(ho?(e=co,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):co.removeChild(n.stateNode));break;case 18:null!==co&&(ho?(e=co,n=n.stateNode,8===e.nodeType?oi(e.parentNode,n):1===e.nodeType&&oi(e,n),Vt(e)):oi(co,n.stateNode));break;case 4:a=co,i=ho,co=n.stateNode.containerInfo,ho=!0,uo(e,t,n),co=a,ho=i;break;case 0:case 11:case 14:case 15:if(!Yl&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){i=a=a.next;do{var r=i,s=r.destroy;r=r.tag,void 0!==s&&(0!==(2&r)||0!==(4&r))&&Jl(n,t,s),i=i.next}while(i!==a)}uo(e,t,n);break;case 1:if(!Yl&&(Zl(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(l){kc(n,t,l)}uo(e,t,n);break;case 21:uo(e,t,n);break;case 22:1&n.mode?(Yl=(a=Yl)||null!==n.memoizedState,uo(e,t,n),Yl=a):uo(e,t,n);break;default:uo(e,t,n)}}function fo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Gl),t.forEach((function(t){var a=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))}))}}function mo(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var i=n[a];try{var s=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,ho=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,ho=!0;break e}o=o.return}if(null===co)throw Error(r(160));po(s,l,i),co=null,ho=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(h){kc(i,t,h)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xo(t,e),t=t.sibling}function xo(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mo(t,e),go(e),4&a){try{to(3,e,e.return),no(3,e)}catch(x){kc(e,e.return,x)}try{to(5,e,e.return)}catch(x){kc(e,e.return,x)}}break;case 1:mo(t,e),go(e),512&a&&null!==n&&Zl(n,n.return);break;case 5:if(mo(t,e),go(e),512&a&&null!==n&&Zl(n,n.return),32&e.flags){var i=e.stateNode;try{ue(i,"")}catch(x){kc(e,e.return,x)}}if(4&a&&null!=(i=e.stateNode)){var s=e.memoizedProps,l=null!==n?n.memoizedProps:s,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===s.type&&null!=s.name&&Q(i,s),be(o,l);var h=be(o,s);for(l=0;l<c.length;l+=2){var d=c[l],u=c[l+1];"style"===d?xe(i,u):"dangerouslySetInnerHTML"===d?de(i,u):"children"===d?ue(i,u):b(i,d,u,h)}switch(o){case"input":Z(i,s);break;case"textarea":re(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(i,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[pi]=s}catch(x){kc(e,e.return,x)}}break;case 6:if(mo(t,e),go(e),4&a){if(null===e.stateNode)throw Error(r(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){kc(e,e.return,x)}}break;case 3:if(mo(t,e),go(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(x){kc(e,e.return,x)}break;case 4:default:mo(t,e),go(e);break;case 13:mo(t,e),go(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(zo=Qe())),4&a&&fo(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Yl=(h=Yl)||d,mo(t,e),Yl=h):mo(t,e),go(e),8192&a){if(h=null!==e.memoizedState,(e.stateNode.isHidden=h)&&!d&&0!==(1&e.mode))for(Ql=e,d=e.child;null!==d;){for(u=Ql=d;null!==Ql;){switch(f=(p=Ql).child,p.tag){case 0:case 11:case 14:case 15:to(4,p,p.return);break;case 1:Zl(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){a=p,n=p.return;try{t=a,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(x){kc(a,n,x)}}break;case 5:Zl(p,p.return);break;case 22:if(null!==p.memoizedState){jo(u);continue}}null!==f?(f.return=p,Ql=f):jo(u)}d=d.sibling}e:for(d=null,u=e;;){if(5===u.tag){if(null===d){d=u;try{i=u.stateNode,h?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(o=u.stateNode,l=void 0!==(c=u.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=me("display",l))}catch(x){kc(e,e.return,x)}}}else if(6===u.tag){if(null===d)try{u.stateNode.nodeValue=h?"":u.memoizedProps}catch(x){kc(e,e.return,x)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===e)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;null===u.sibling;){if(null===u.return||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:mo(t,e),go(e),4&a&&fo(e);case 21:}}function go(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ro(n)){var a=n;break e}n=n.return}throw Error(r(160))}switch(a.tag){case 5:var i=a.stateNode;32&a.flags&&(ue(i,""),a.flags&=-33),oo(e,so(e),i);break;case 3:case 4:var s=a.stateNode.containerInfo;lo(e,so(e),s);break;default:throw Error(r(161))}}catch(l){kc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yo(e,t,n){Ql=e,bo(e,t,n)}function bo(e,t,n){for(var a=0!==(1&e.mode);null!==Ql;){var i=Ql,r=i.child;if(22===i.tag&&a){var s=null!==i.memoizedState||$l;if(!s){var l=i.alternate,o=null!==l&&null!==l.memoizedState||Yl;l=$l;var c=Yl;if($l=s,(Yl=o)&&!c)for(Ql=i;null!==Ql;)o=(s=Ql).child,22===s.tag&&null!==s.memoizedState?wo(i):null!==o?(o.return=s,Ql=o):wo(i);for(;null!==r;)Ql=r,bo(r,t,n),r=r.sibling;Ql=i,$l=l,Yl=c}vo(e)}else 0!==(8772&i.subtreeFlags)&&null!==r?(r.return=i,Ql=r):vo(e)}}function vo(e){for(;null!==Ql;){var t=Ql;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yl||no(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Yl)if(null===n)a.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:tl(t.type,n.memoizedProps);a.componentDidUpdate(i,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wr(t,s,a);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wr(t,l,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var h=t.alternate;if(null!==h){var d=h.memoizedState;if(null!==d){var u=d.dehydrated;null!==u&&Vt(u)}}}break;default:throw Error(r(163))}Yl||512&t.flags&&ao(t)}catch(p){kc(t,t.return,p)}}if(t===e){Ql=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ql=n;break}Ql=t.return}}function jo(e){for(;null!==Ql;){var t=Ql;if(t===e){Ql=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ql=n;break}Ql=t.return}}function wo(e){for(;null!==Ql;){var t=Ql;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{no(4,t)}catch(o){kc(t,n,o)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var i=t.return;try{a.componentDidMount()}catch(o){kc(t,i,o)}}var r=t.return;try{ao(t)}catch(o){kc(t,r,o)}break;case 5:var s=t.return;try{ao(t)}catch(o){kc(t,s,o)}}}catch(o){kc(t,t.return,o)}if(t===e){Ql=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Ql=l;break}Ql=t.return}}var _o,ko=Math.ceil,Ao=v.ReactCurrentDispatcher,No=v.ReactCurrentOwner,So=v.ReactCurrentBatchConfig,To=0,Co=null,Mo=null,Eo=0,Po=0,Ro=ki(0),Io=0,Fo=null,Do=0,qo=0,Lo=0,Oo=null,Bo=null,zo=0,Vo=1/0,Wo=null,Xo=!1,Ho=null,Uo=null,Ko=!1,$o=null,Yo=0,Go=0,Qo=null,Zo=-1,Jo=0;function ec(){return 0!==(6&To)?Qe():-1!==Zo?Zo:Zo=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&To)&&0!==Eo?Eo&-Eo:null!==mr.transition?(0===Jo&&(Jo=mt()),Jo):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function nc(e,t,n,a){if(50<Go)throw Go=0,Qo=null,Error(r(185));gt(e,n,a),0!==(2&To)&&e===Co||(e===Co&&(0===(2&To)&&(qo|=n),4===Io&&lc(e,Eo)),ac(e,a),1===n&&0===To&&0===(1&t.mode)&&(Vo=Qe()+500,Oi&&Vi()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes;0<r;){var s=31-st(r),l=1<<s,o=i[s];-1===o?0!==(l&n)&&0===(l&a)||(i[s]=pt(l,t)):o<=t&&(e.expiredLanes|=l),r&=~l}}(e,t);var a=ut(e,e===Co?Eo:0);if(0===a)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Oi=!0,zi(e)}(oc.bind(null,e)):zi(oc.bind(null,e)),si((function(){0===(6&To)&&Vi()})),n=null;else{switch(vt(a)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Cc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zo=-1,Jo=0,0!==(6&To))throw Error(r(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var a=ut(e,e===Co?Eo:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=xc(e,a);else{t=a;var i=To;To|=2;var s=fc();for(Co===e&&Eo===t||(Wo=null,Vo=Qe()+500,uc(e,t));;)try{yc();break}catch(o){pc(e,o)}Nr(),Ao.current=s,To=i,null!==Mo?t=0:(Co=null,Eo=0,t=Io)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(a=i,t=rc(e,i))),1===t)throw n=Fo,uc(e,0),lc(e,a),ac(e,Qe()),n;if(6===t)lc(e,a);else{if(i=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var i=n[a],r=i.getSnapshot;i=i.value;try{if(!la(r(),i))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=xc(e,a))&&(0!==(s=ft(e))&&(a=s,t=rc(e,s))),1===t))throw n=Fo,uc(e,0),lc(e,a),ac(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=a,t){case 0:case 1:throw Error(r(345));case 2:case 5:jc(e,Bo,Wo);break;case 3:if(lc(e,a),(130023424&a)===a&&10<(t=zo+500-Qe())){if(0!==ut(e,0))break;if(((i=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ai(jc.bind(null,e,Bo,Wo),t);break}jc(e,Bo,Wo);break;case 4:if(lc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,i=-1;0<a;){var l=31-st(a);s=1<<l,(l=t[l])>i&&(i=l),a&=~s}if(a=i,10<(a=(120>(a=Qe()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*ko(a/1960))-a)){e.timeoutHandle=ai(jc.bind(null,e,Bo,Wo),a);break}jc(e,Bo,Wo);break;default:throw Error(r(329))}}}return ac(e,Qe()),e.callbackNode===n?ic.bind(null,e):null}function rc(e,t){var n=Oo;return e.current.memoizedState.isDehydrated&&(uc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Bo,Bo=n,null!==t&&sc(t)),e}function sc(e){null===Bo?Bo=e:Bo.push.apply(Bo,e)}function lc(e,t){for(t&=~Lo,t&=~qo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),a=1<<n;e[n]=-1,t&=~a}}function oc(e){if(0!==(6&To))throw Error(r(327));wc();var t=ut(e,0);if(0===(1&t))return ac(e,Qe()),null;var n=xc(e,t);if(0!==e.tag&&2===n){var a=ft(e);0!==a&&(t=a,n=rc(e,a))}if(1===n)throw n=Fo,uc(e,0),lc(e,t),ac(e,Qe()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Bo,Wo),ac(e,Qe()),null}function cc(e,t){var n=To;To|=1;try{return e(t)}finally{0===(To=n)&&(Vo=Qe()+500,Oi&&Vi())}}function hc(e){null!==$o&&0===$o.tag&&0===(6&To)&&wc();var t=To;To|=1;var n=So.transition,a=bt;try{if(So.transition=null,bt=1,e)return e()}finally{bt=a,So.transition=n,0===(6&(To=t))&&Vi()}}function dc(){Po=Ro.current,Ai(Ro)}function uc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Mo)for(n=Mo.return;null!==n;){var a=n;switch(tr(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Ri();break;case 3:Gr(),Ai(Ci),Ai(Ti),ns();break;case 5:Zr(a);break;case 4:Gr();break;case 13:case 19:Ai(Jr);break;case 10:Sr(a.type._context);break;case 22:case 23:dc()}n=n.return}if(Co=e,Mo=e=Rc(e.current,null),Eo=Po=t,Io=0,Fo=null,Lo=qo=Do=0,Bo=Oo=null,null!==Er){for(t=0;t<Er.length;t++)if(null!==(a=(n=Er[t]).interleaved)){n.interleaved=null;var i=a.next,r=n.pending;if(null!==r){var s=r.next;r.next=i,a.next=s}n.pending=a}Er=null}return e}function pc(e,t){for(;;){var n=Mo;try{if(Nr(),as.current=Qs,cs){for(var a=ss.memoizedState;null!==a;){var i=a.queue;null!==i&&(i.pending=null),a=a.next}cs=!1}if(rs=0,os=ls=ss=null,hs=!1,ds=0,No.current=null,null===n||null===n.return){Io=1,Fo=t,Mo=null;break}e:{var s=e,l=n.return,o=n,c=t;if(t=Eo,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var h=c,d=o,u=d.tag;if(0===(1&d.mode)&&(0===u||11===u||15===u)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=ml(l);if(null!==f){f.flags&=-257,xl(f,l,o,0,t),1&f.mode&&fl(s,h,t),c=h;var m=(t=f).updateQueue;if(null===m){var x=new Set;x.add(c),t.updateQueue=x}else m.add(c);break e}if(0===(1&t)){fl(s,h,t),mc();break e}c=Error(r(426))}else if(ir&&1&o.mode){var g=ml(l);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),xl(g,l,o,0,t),fr(ol(c,o));break e}}s=c=ol(c,o),4!==Io&&(Io=2),null===Oo?Oo=[s]:Oo.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,zr(s,ul(0,c,t));break e;case 1:o=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Uo||!Uo.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,zr(s,pl(s,o,t));break e}}s=s.return}while(null!==s)}vc(n)}catch(v){t=v,Mo===n&&null!==n&&(Mo=n=n.return);continue}break}}function fc(){var e=Ao.current;return Ao.current=Qs,null===e?Qs:e}function mc(){0!==Io&&3!==Io&&2!==Io||(Io=4),null===Co||0===(268435455&Do)&&0===(268435455&qo)||lc(Co,Eo)}function xc(e,t){var n=To;To|=2;var a=fc();for(Co===e&&Eo===t||(Wo=null,uc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(Nr(),To=n,Ao.current=a,null!==Mo)throw Error(r(261));return Co=null,Eo=0,Io}function gc(){for(;null!==Mo;)bc(Mo)}function yc(){for(;null!==Mo&&!Ye();)bc(Mo)}function bc(e){var t=_o(e.alternate,e,Po);e.memoizedProps=e.pendingProps,null===t?vc(e):Mo=t,No.current=null}function vc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ul(n,t,Po)))return void(Mo=n)}else{if(null!==(n=Kl(n,t)))return n.flags&=32767,void(Mo=n);if(null===e)return Io=6,void(Mo=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Mo=t);Mo=t=e}while(null!==t);0===Io&&(Io=5)}function jc(e,t,n){var a=bt,i=So.transition;try{So.transition=null,bt=1,function(e,t,n,a){do{wc()}while(null!==$o);if(0!==(6&To))throw Error(r(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),r=1<<i;t[i]=0,a[i]=-1,e[i]=-1,n&=~r}}(e,s),e===Co&&(Mo=Co=null,Eo=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ko||(Ko=!0,Cc(tt,(function(){return wc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=So.transition,So.transition=null;var l=bt;bt=1;var o=To;To|=4,No.current=null,function(e,t){if(ei=Xt,pa(e=ua())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch(j){n=null;break e}var l=0,o=-1,c=-1,h=0,d=0,u=e,p=null;t:for(;;){for(var f;u!==n||0!==i&&3!==u.nodeType||(o=l+i),u!==s||0!==a&&3!==u.nodeType||(c=l+a),3===u.nodeType&&(l+=u.nodeValue.length),null!==(f=u.firstChild);)p=u,u=f;for(;;){if(u===e)break t;if(p===n&&++h===i&&(o=l),p===s&&++d===a&&(c=l),null!==(f=u.nextSibling))break;p=(u=p).parentNode}u=f}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Xt=!1,Ql=t;null!==Ql;)if(e=(t=Ql).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ql=e;else for(;null!==Ql;){t=Ql;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var x=m.memoizedProps,g=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:tl(t.type,x),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(r(163))}}catch(j){kc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Ql=e;break}Ql=t.return}m=eo,eo=!1}(e,n),xo(n,e),fa(ti),Xt=!!ei,ti=ei=null,e.current=n,yo(n,e,i),Ge(),To=o,bt=l,So.transition=s}else e.current=n;if(Ko&&(Ko=!1,$o=e,Yo=i),s=e.pendingLanes,0===s&&(Uo=null),function(e){if(rt&&"function"===typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Qe()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],a(i.value,{componentStack:i.stack,digest:i.digest});if(Xo)throw Xo=!1,e=Ho,Ho=null,e;0!==(1&Yo)&&0!==e.tag&&wc(),s=e.pendingLanes,0!==(1&s)?e===Qo?Go++:(Go=0,Qo=e):Go=0,Vi()}(e,t,n,a)}finally{So.transition=i,bt=a}return null}function wc(){if(null!==$o){var e=vt(Yo),t=So.transition,n=bt;try{if(So.transition=null,bt=16>e?16:e,null===$o)var a=!1;else{if(e=$o,$o=null,Yo=0,0!==(6&To))throw Error(r(331));var i=To;for(To|=4,Ql=e.current;null!==Ql;){var s=Ql,l=s.child;if(0!==(16&Ql.flags)){var o=s.deletions;if(null!==o){for(var c=0;c<o.length;c++){var h=o[c];for(Ql=h;null!==Ql;){var d=Ql;switch(d.tag){case 0:case 11:case 15:to(8,d,s)}var u=d.child;if(null!==u)u.return=d,Ql=u;else for(;null!==Ql;){var p=(d=Ql).sibling,f=d.return;if(io(d),d===h){Ql=null;break}if(null!==p){p.return=f,Ql=p;break}Ql=f}}}var m=s.alternate;if(null!==m){var x=m.child;if(null!==x){m.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(null!==x)}}Ql=s}}if(0!==(2064&s.subtreeFlags)&&null!==l)l.return=s,Ql=l;else e:for(;null!==Ql;){if(0!==(2048&(s=Ql).flags))switch(s.tag){case 0:case 11:case 15:to(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Ql=y;break e}Ql=s.return}}var b=e.current;for(Ql=b;null!==Ql;){var v=(l=Ql).child;if(0!==(2064&l.subtreeFlags)&&null!==v)v.return=l,Ql=v;else e:for(l=b;null!==Ql;){if(0!==(2048&(o=Ql).flags))try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(w){kc(o,o.return,w)}if(o===l){Ql=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Ql=j;break e}Ql=o.return}}if(To=i,Vi(),rt&&"function"===typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(it,e)}catch(w){}a=!0}return a}finally{bt=n,So.transition=t}}return!1}function _c(e,t,n){e=Or(e,t=ul(0,t=ol(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),ac(e,t))}function kc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Uo||!Uo.has(a))){t=Or(t,e=pl(t,e=ol(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),ac(t,e));break}}t=t.return}}function Ac(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Co===e&&(Eo&n)===n&&(4===Io||3===Io&&(130023424&Eo)===Eo&&500>Qe()-zo?uc(e,0):Lo|=n),ac(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ht,0===(130023424&(ht<<=1))&&(ht=4194304)));var n=ec();null!==(e=Ir(e,t))&&(gt(e,t,n),ac(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(r(314))}null!==a&&a.delete(t),Nc(e,n)}function Cc(e,t){return Ke(e,t)}function Mc(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ec(e,t,n,a){return new Mc(e,t,n,a)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Ec(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,a,i,s){var l=2;if(a=e,"function"===typeof e)Pc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case _:return Fc(n.children,i,s,t);case k:l=8,i|=8;break;case A:return(e=Ec(12,n,t,2|i)).elementType=A,e.lanes=s,e;case C:return(e=Ec(13,n,t,i)).elementType=C,e.lanes=s,e;case M:return(e=Ec(19,n,t,i)).elementType=M,e.lanes=s,e;case R:return Dc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:l=10;break e;case S:l=9;break e;case T:l=11;break e;case E:l=14;break e;case P:l=16,a=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Ec(l,n,t,i)).elementType=e,t.type=a,t.lanes=s,t}function Fc(e,t,n,a){return(e=Ec(7,e,a,t)).lanes=n,e}function Dc(e,t,n,a){return(e=Ec(22,e,a,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function qc(e,t,n){return(e=Ec(6,e,null,t)).lanes=n,e}function Lc(e,t,n){return(t=Ec(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Oc(e,t,n,a,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=a,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,a,i,r,s,l,o){return e=new Oc(e,t,n,l,o),1===t?(t=1,!0===r&&(t|=8)):t=0,r=Ec(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dr(r),e}function zc(e){if(!e)return Si;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Fi(e,n,t)}return t}function Vc(e,t,n,a,i,r,s,l,o){return(e=Bc(n,a,!0,e,0,r,0,l,o)).context=zc(null),n=e.current,(r=Lr(a=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Or(n,r,i),e.current.lanes=i,gt(e,i,a),ac(e,a),e}function Wc(e,t,n,a){var i=t.current,r=ec(),s=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Lr(r,s)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Or(i,t,s))&&(nc(e,i,s,r),Br(e,i,s)),s}function Xc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Uc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}_o=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)yl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yl=!1,function(e,t,n){switch(t.tag){case 3:Tl(t),pr();break;case 5:Qr(t);break;case 1:Pi(t.type)&&Di(t);break;case 4:Yr(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,i=t.memoizedProps.value;Ni(wr,a._currentValue),a._currentValue=i;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Ni(Jr,1&Jr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Dl(e,t,n):(Ni(Jr,1&Jr.current),null!==(e=Wl(e,t,n))?e.sibling:null);Ni(Jr,1&Jr.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return zl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ni(Jr,Jr.current),a)break;return null;case 22:case 23:return t.lanes=0,_l(e,t,n)}return Wl(e,t,n)}(e,t,n);yl=0!==(131072&e.flags)}else yl=!1,ir&&0!==(1048576&t.flags)&&Ji(t,Ui,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Vl(e,t),e=t.pendingProps;var i=Ei(t,Ti.current);Cr(t,n),i=ms(null,t,a,e,i,n);var s=xs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(a)?(s=!0,Di(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Dr(t),i.updater=al,t.stateNode=i,i._reactInternals=t,ll(t,a,e,n),t=Sl(null,t,a,!0,s,n)):(t.tag=0,ir&&s&&er(t),bl(null,t,i,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Vl(e,t),e=t.pendingProps,a=(i=a._init)(a._payload),t.type=a,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===E)return 14}return 2}(a),e=tl(a,e),i){case 0:t=Al(null,t,a,e,n);break e;case 1:t=Nl(null,t,a,e,n);break e;case 11:t=vl(null,t,a,e,n);break e;case 14:t=jl(null,t,a,tl(a.type,e),n);break e}throw Error(r(306,a,""))}return t;case 0:return a=t.type,i=t.pendingProps,Al(e,t,a,i=t.elementType===a?i:tl(a,i),n);case 1:return a=t.type,i=t.pendingProps,Nl(e,t,a,i=t.elementType===a?i:tl(a,i),n);case 3:e:{if(Tl(t),null===e)throw Error(r(387));a=t.pendingProps,i=(s=t.memoizedState).element,qr(e,t),Vr(t,a,null,n);var l=t.memoizedState;if(a=l.element,s.isDehydrated){if(s={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Cl(e,t,a,n,i=ol(Error(r(423)),t));break e}if(a!==i){t=Cl(e,t,a,n,i=ol(Error(r(424)),t));break e}for(ar=ci(t.stateNode.containerInfo.firstChild),nr=t,ir=!0,rr=null,n=jr(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pr(),a===i){t=Wl(e,t,n);break e}bl(e,t,a,n)}t=t.child}return t;case 5:return Qr(t),null===e&&cr(t),a=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,l=i.children,ni(a,i)?l=null:null!==s&&ni(a,s)&&(t.flags|=32),kl(e,t),bl(e,t,l,n),t.child;case 6:return null===e&&cr(t),null;case 13:return Dl(e,t,n);case 4:return Yr(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=vr(t,null,a,n):bl(e,t,a,n),t.child;case 11:return a=t.type,i=t.pendingProps,vl(e,t,a,i=t.elementType===a?i:tl(a,i),n);case 7:return bl(e,t,t.pendingProps,n),t.child;case 8:case 12:return bl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,i=t.pendingProps,s=t.memoizedProps,l=i.value,Ni(wr,a._currentValue),a._currentValue=l,null!==s)if(la(s.value,l)){if(s.children===i.children&&!Ci.current){t=Wl(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var o=s.dependencies;if(null!==o){l=s.child;for(var c=o.firstContext;null!==c;){if(c.context===a){if(1===s.tag){(c=Lr(-1,n&-n)).tag=2;var h=s.updateQueue;if(null!==h){var d=(h=h.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),h.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Tr(s.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===s.tag)l=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(l=s.return))throw Error(r(341));l.lanes|=n,null!==(o=l.alternate)&&(o.lanes|=n),Tr(l,n,t),l=s.sibling}else l=s.child;if(null!==l)l.return=s;else for(l=s;null!==l;){if(l===t){l=null;break}if(null!==(s=l.sibling)){s.return=l.return,l=s;break}l=l.return}s=l}bl(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,a=t.pendingProps.children,Cr(t,n),a=a(i=Mr(i)),t.flags|=1,bl(e,t,a,n),t.child;case 14:return i=tl(a=t.type,t.pendingProps),jl(e,t,a,i=tl(a.type,i),n);case 15:return wl(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:tl(a,i),Vl(e,t),t.tag=1,Pi(a)?(e=!0,Di(t)):e=!1,Cr(t,n),rl(t,a,i),ll(t,a,i,n),Sl(null,t,a,!0,e,n);case 19:return zl(e,t,n);case 22:return _l(e,t,n)}throw Error(r(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Jc(e,t,n,a,i){var r=n._reactRootContainer;if(r){var s=r;if("function"===typeof i){var l=i;i=function(){var e=Xc(s);l.call(e)}}Wc(t,s,e,i)}else s=function(e,t,n,a,i){if(i){if("function"===typeof a){var r=a;a=function(){var e=Xc(s);r.call(e)}}var s=Vc(t,a,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[fi]=s.current,Va(8===e.nodeType?e.parentNode:e),hc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof a){var l=a;a=function(){var e=Xc(o);l.call(e)}}var o=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=o,e[fi]=o.current,Va(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,o,n,a)})),o}(n,t,e,i,a);return Xc(s)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[fi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&qt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ac(t,Qe()),0===(6&To)&&(Vo=Qe()+500,Vi()))}break;case 13:hc((function(){var t=Ir(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Uc(e,1)}},wt=function(e){if(13===e.tag){var t=Ir(e,134217728);if(null!==t)nc(t,e,134217728,ec());Uc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Ir(e,t);if(null!==n)nc(n,e,t,ec());Uc(e,t)}},kt=function(){return bt},At=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=ji(a);if(!i)throw Error(r(90));K(a),Z(a,i)}}}break;case"textarea":re(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ce=hc;var eh={usingClientEntryPoint:!1,Events:[bi,vi,ji,Ne,Se,cc]},th={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nh={bundleType:th.bundleType,version:th.version,rendererPackageName:th.rendererPackageName,rendererConfig:th.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:th.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{it=ah.inject(nh),rt=ah}catch(he){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eh,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(t))throw Error(r(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Gc(e))throw Error(r(299));var n=!1,a="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,a,i),e[fi]=t.current,Va(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(r(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Gc(e))throw Error(r(405));var a=null!=n&&n.hydratedSources||null,i=!1,s="",l=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,s,l),e[fi]=t.current,Va(e),a)for(e=0;e<a.length;e++)i=(i=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(r(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(r(40));return!!e._reactRootContainer&&(hc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Qc(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Jc(e,t,n,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},4391:(e,t,n)=>{"use strict";var a=n(7950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},5475:(e,t,n)=>{"use strict";var a,i;n.d(t,{I9:()=>m,N_:()=>y,k2:()=>b});var r=n(5043),s=n(7950),l=n(3216),o=n(1387);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(this,arguments)}function h(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const d=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(_){}const p=r.createContext({isTransitioning:!1});new Map;const f=(a||(a=n.t(r,2))).startTransition;(i||(i=n.t(s,2))).flushSync,(a||(a=n.t(r,2))).useId;function m(e){let{basename:t,children:n,future:a,window:i}=e,s=r.useRef();null==s.current&&(s.current=(0,o.TM)({window:i,v5Compat:!0}));let c=s.current,[h,d]=r.useState({action:c.action,location:c.location}),{v7_startTransition:u}=a||{},p=r.useCallback((e=>{u&&f?f((()=>d(e))):d(e)}),[d,u]);return r.useLayoutEffect((()=>c.listen(p)),[c,p]),r.useEffect((()=>(0,l.V8)(a)),[a]),r.createElement(l.Ix,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c,future:a})}const x="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,g=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y=r.forwardRef((function(e,t){let n,{onClick:a,relative:i,reloadDocument:s,replace:u,state:p,target:f,to:m,preventScrollReset:y,viewTransition:b}=e,v=h(e,d),{basename:j}=r.useContext(l.jb),w=!1;if("string"===typeof m&&g.test(m)&&(n=m,x))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=(0,o.pb)(t.pathname,j);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:w=!0}catch(_){}let k=(0,l.$P)(m,{relative:i}),A=function(e,t){let{target:n,replace:a,state:i,preventScrollReset:s,relative:c,viewTransition:h}=void 0===t?{}:t,d=(0,l.Zp)(),u=(0,l.zy)(),p=(0,l.x$)(e,{relative:c});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==a?a:(0,o.AO)(u)===(0,o.AO)(p);d(e,{replace:n,state:i,preventScrollReset:s,relative:c,viewTransition:h})}}),[u,d,p,a,i,n,e,s,c,h])}(m,{replace:u,state:p,target:f,preventScrollReset:y,relative:i,viewTransition:b});return r.createElement("a",c({},v,{href:n||k,onClick:w||s?a:function(e){a&&a(e),e.defaultPrevented||A(e)},ref:t,target:f}))}));const b=r.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:d,to:f,viewTransition:m,children:x}=e,g=h(e,u),b=(0,l.x$)(f,{relative:g.relative}),j=(0,l.zy)(),_=r.useContext(l.Rq),{navigator:k,basename:A}=r.useContext(l.jb),N=null!=_&&function(e,t){void 0===t&&(t={});let n=r.useContext(p);null==n&&(0,o.Oi)(!1);let{basename:a}=w(v.useViewTransitionState),i=(0,l.x$)(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=(0,o.pb)(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=(0,o.pb)(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=(0,o.B6)(i.pathname,c)||null!=(0,o.B6)(i.pathname,s)}(b)&&!0===m,S=k.encodeLocation?k.encodeLocation(b).pathname:b.pathname,T=j.pathname,C=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;a||(T=T.toLowerCase(),C=C?C.toLowerCase():null,S=S.toLowerCase()),C&&A&&(C=(0,o.pb)(C,A)||C);const M="/"!==S&&S.endsWith("/")?S.length-1:S.length;let E,P=T===S||!s&&T.startsWith(S)&&"/"===T.charAt(M),R=null!=C&&(C===S||!s&&C.startsWith(S)&&"/"===C.charAt(S.length)),I={isActive:P,isPending:R,isTransitioning:N},F=P?n:void 0;E="function"===typeof i?i(I):[i,P?"active":null,R?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let D="function"===typeof d?d(I):d;return r.createElement(y,c({},g,{"aria-current":F,className:E,ref:t,style:D,to:f,viewTransition:m}),"function"===typeof x?x(I):x)}));var v,j;function w(e){let t=r.useContext(l.sp);return t||(0,o.Oi)(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(v||(v={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(j||(j={}))},3216:(e,t,n)=>{"use strict";var a;n.d(t,{$P:()=>p,BV:()=>F,Ix:()=>I,Rq:()=>o,V8:()=>P,Zp:()=>g,jb:()=>c,qh:()=>R,sp:()=>l,x$:()=>y,zy:()=>m});var i=n(5043),r=n(1387);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s.apply(this,arguments)}const l=i.createContext(null);const o=i.createContext(null);const c=i.createContext(null);const h=i.createContext(null);const d=i.createContext({outlet:null,matches:[],isDataRoute:!1});const u=i.createContext(null);function p(e,t){let{relative:n}=void 0===t?{}:t;f()||(0,r.Oi)(!1);let{basename:a,navigator:s}=i.useContext(c),{hash:l,pathname:o,search:h}=y(e,{relative:n}),d=o;return"/"!==a&&(d="/"===o?a:(0,r.HS)([a,o])),s.createHref({pathname:d,search:h,hash:l})}function f(){return null!=i.useContext(h)}function m(){return f()||(0,r.Oi)(!1),i.useContext(h).location}function x(e){i.useContext(c).static||i.useLayoutEffect(e)}function g(){let{isDataRoute:e}=i.useContext(d);return e?function(){let{router:e}=S(A.UseNavigateStable),t=C(N.UseNavigateStable),n=i.useRef(!1);return x((()=>{n.current=!0})),i.useCallback((function(a,i){void 0===i&&(i={}),n.current&&("number"===typeof a?e.navigate(a):e.navigate(a,s({fromRouteId:t},i)))}),[e,t])}():function(){f()||(0,r.Oi)(!1);let e=i.useContext(l),{basename:t,future:n,navigator:a}=i.useContext(c),{matches:s}=i.useContext(d),{pathname:o}=m(),h=JSON.stringify((0,r.yD)(s,n.v7_relativeSplatPath)),u=i.useRef(!1);return x((()=>{u.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!u.current)return;if("number"===typeof n)return void a.go(n);let s=(0,r.Gh)(n,JSON.parse(h),o,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:(0,r.HS)([t,s.pathname])),(i.replace?a.replace:a.push)(s,i.state,i)}),[t,a,h,o,e])}()}function y(e,t){let{relative:n}=void 0===t?{}:t,{future:a}=i.useContext(c),{matches:s}=i.useContext(d),{pathname:l}=m(),o=JSON.stringify((0,r.yD)(s,a.v7_relativeSplatPath));return i.useMemo((()=>(0,r.Gh)(e,JSON.parse(o),l,"path"===n)),[e,o,l,n])}function b(e,t,n,a){f()||(0,r.Oi)(!1);let{navigator:l,static:o}=i.useContext(c),{matches:u}=i.useContext(d),p=u[u.length-1],x=p?p.params:{},g=(p&&p.pathname,p?p.pathnameBase:"/");p&&p.route;let y,b=m();if(t){var v;let e="string"===typeof t?(0,r.Rr)(t):t;"/"===g||(null==(v=e.pathname)?void 0:v.startsWith(g))||(0,r.Oi)(!1),y=e}else y=b;let j=y.pathname||"/",w=j;if("/"!==g){let e=g.replace(/^\//,"").split("/");w="/"+j.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=!o&&n&&n.matches&&n.matches.length>0?n.matches:(0,r.ue)(e,{pathname:w});let A=k(_&&_.map((e=>Object.assign({},e,{params:Object.assign({},x,e.params),pathname:(0,r.HS)([g,l.encodeLocation?l.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?g:(0,r.HS)([g,l.encodeLocation?l.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),u,n,a);return t&&A?i.createElement(h.Provider,{value:{location:s({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:r.rc.Pop}},A):A}function v(){let e=function(){var e;let t=i.useContext(u),n=T(N.UseRouteError),a=C(N.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[a]}(),t=(0,r.pX)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const j=i.createElement(v,null);class w extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(d.Provider,{value:this.props.routeContext},i.createElement(u.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _(e){let{routeContext:t,match:n,children:a}=e,r=i.useContext(l);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(d.Provider,{value:t},a)}function k(e,t,n,a){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===a&&(a=null),null==e){var l;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(l=a)&&l.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,c=null==(s=n)?void 0:s.errors;if(null!=c){let e=o.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||(0,r.Oi)(!1),o=o.slice(0,Math.min(o.length,e+1))}let h=!1,d=-1;if(n&&a&&a.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:a}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||i){h=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight(((e,a,r)=>{let s,l=!1,u=null,p=null;var f;n&&(s=c&&a.route.id?c[a.route.id]:void 0,u=a.route.errorElement||j,h&&(d<0&&0===r?(f="route-fallback",!1||M[f]||(M[f]=!0),l=!0,p=null):d===r&&(l=!0,p=a.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,r+1)),x=()=>{let t;return t=s?u:l?p:a.route.Component?i.createElement(a.route.Component,null):a.route.element?a.route.element:e,i.createElement(_,{match:a,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===r)?i.createElement(w,{location:n.location,revalidation:n.revalidation,component:u,error:s,children:x(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):x()}),null)}var A=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(A||{}),N=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(N||{});function S(e){let t=i.useContext(l);return t||(0,r.Oi)(!1),t}function T(e){let t=i.useContext(o);return t||(0,r.Oi)(!1),t}function C(e){let t=function(){let e=i.useContext(d);return e||(0,r.Oi)(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||(0,r.Oi)(!1),n.route.id}const M={};const E=(e,t,n)=>{};function P(e,t){void 0===(null==e?void 0:e.v7_startTransition)&&E("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==e?void 0:e.v7_relativeSplatPath)||t&&t.v7_relativeSplatPath||E("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(void 0===t.v7_fetcherPersist&&E("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===t.v7_normalizeFormMethod&&E("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===t.v7_partialHydration&&E("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===t.v7_skipActionErrorRevalidation&&E("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}(a||(a=n.t(i,2))).startTransition;function R(e){(0,r.Oi)(!1)}function I(e){let{basename:t="/",children:n=null,location:a,navigationType:l=r.rc.Pop,navigator:o,static:d=!1,future:u}=e;f()&&(0,r.Oi)(!1);let p=t.replace(/^\/*/,"/"),m=i.useMemo((()=>({basename:p,navigator:o,static:d,future:s({v7_relativeSplatPath:!1},u)})),[p,u,o,d]);"string"===typeof a&&(a=(0,r.Rr)(a));let{pathname:x="/",search:g="",hash:y="",state:b=null,key:v="default"}=a,j=i.useMemo((()=>{let e=(0,r.pb)(x,p);return null==e?null:{location:{pathname:e,search:g,hash:y,state:b,key:v},navigationType:l}}),[p,x,g,y,b,v,l]);return null==j?null:i.createElement(c.Provider,{value:m},i.createElement(h.Provider,{children:n,value:j}))}function F(e){let{children:t,location:n}=e;return b(D(t),n)}new Promise((()=>{}));i.Component;function D(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,a)=>{if(!i.isValidElement(e))return;let s=[...t,a];if(e.type===i.Fragment)return void n.push.apply(n,D(e.props.children,s));e.type!==R&&(0,r.Oi)(!1),e.props.index&&e.props.children&&(0,r.Oi)(!1);let l={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=D(e.props.children,s)),n.push(l)})),n}},1153:(e,t,n)=>{"use strict";var a=n(5043),i=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,r={},c=null,h=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(h=t.ref),t)s.call(t,a)&&!o.hasOwnProperty(a)&&(r[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===r[a]&&(r[a]=t[a]);return{$$typeof:i,type:e,key:c,ref:h,props:r,_owner:l.current}}t.Fragment=r,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,x={};function g(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var v=b.prototype=new y;v.constructor=b,m(v,g.prototype),v.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,_={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,a){var i,r={},s=null,l=null;if(null!=t)for(i in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(s=""+t.key),t)w.call(t,i)&&!k.hasOwnProperty(i)&&(r[i]=t[i]);var o=arguments.length-2;if(1===o)r.children=a;else if(1<o){for(var c=Array(o),h=0;h<o;h++)c[h]=arguments[h+2];r.children=c}if(e&&e.defaultProps)for(i in o=e.defaultProps)void 0===r[i]&&(r[i]=o[i]);return{$$typeof:n,type:e,key:s,ref:l,props:r,_owner:_.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,r,s){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o=!1;if(null===e)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case a:o=!0}}if(o)return s=s(o=e),e=""===r?"."+T(o,0):r,j(s)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),C(s,t,i,"",(function(e){return e}))):null!=s&&(N(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(S,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=""===r?".":r+":",j(e))for(var c=0;c<e.length;c++){var h=r+T(l=e[c],c);o+=C(l,t,i,h,s)}else if(h=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof h)for(e=h.call(e),c=0;!(l=e.next()).done;)o+=C(l=l.value,t,i,h=r+T(l,c++),s);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function M(e,t,n){if(null==e)return e;var a=[],i=0;return C(e,a,"","",(function(e){return t.call(n,e,i++)})),a}function E(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},I={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:M,forEach:function(e,t,n){M(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return M(e,(function(){t++})),t},toArray:function(e){return M(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=r,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=F,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),r=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=_.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)w.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=a;else if(1<c){o=Array(c);for(var h=0;h<c;h++)o[h]=arguments[h+2];i.children=o}return{$$typeof:n,type:e.type,key:r,ref:s,props:i,_owner:l}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,i=e[a];if(!(0<r(i,t)))break e;e[a]=t,e[n]=i,n=a}}function a(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,i=e.length,s=i>>>1;a<s;){var l=2*(a+1)-1,o=e[l],c=l+1,h=e[c];if(0>r(o,n))c<i&&0>r(h,o)?(e[a]=h,e[c]=n,a=c):(e[a]=o,e[l]=n,a=l);else{if(!(c<i&&0>r(h,n)))break e;e[a]=h,e[c]=n,a=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],h=[],d=1,u=null,p=3,f=!1,m=!1,x=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=a(h);null!==t;){if(null===t.callback)i(h);else{if(!(t.startTime<=e))break;i(h),t.sortIndex=t.expirationTime,n(c,t)}t=a(h)}}function j(e){if(x=!1,v(e),!m)if(null!==a(c))m=!0,R(w);else{var t=a(h);null!==t&&I(j,t.startTime-e)}}function w(e,n){m=!1,x&&(x=!1,y(N),N=-1),f=!0;var r=p;try{for(v(n),u=a(c);null!==u&&(!(u.expirationTime>n)||e&&!C());){var s=u.callback;if("function"===typeof s){u.callback=null,p=u.priorityLevel;var l=s(u.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?u.callback=l:u===a(c)&&i(c),v(n)}else i(c);u=a(c)}if(null!==u)var o=!0;else{var d=a(h);null!==d&&I(j,d.startTime-n),o=!1}return o}finally{u=null,p=r,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,A=null,N=-1,S=5,T=-1;function C(){return!(t.unstable_now()-T<S)}function M(){if(null!==A){var e=t.unstable_now();T=e;var n=!0;try{n=A(!0,e)}finally{n?_():(k=!1,A=null)}}else k=!1}if("function"===typeof b)_=function(){b(M)};else if("undefined"!==typeof MessageChannel){var E=new MessageChannel,P=E.port2;E.port1.onmessage=M,_=function(){P.postMessage(null)}}else _=function(){g(M,0)};function R(e){A=e,k||(k=!0,_())}function I(e,n){N=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,R(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,r){var s=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?s+r:s:r=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:r,expirationTime:l=r+l,sortIndex:-1},r>s?(e.sortIndex=r,n(h,e),null===a(c)&&e===a(h)&&(x?(y(N),N=-1):x=!0,I(j,r-s))):(e.sortIndex=l,n(c,e),m||f||(m=!0,R(w))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},2751:function(e,t,n){var a;!function(i,r){"use strict";var s="function",l="undefined",o="object",c="string",h="major",d="model",u="name",p="type",f="vendor",m="version",x="architecture",g="console",y="mobile",b="tablet",v="smarttv",j="wearable",w="embedded",_="Amazon",k="Apple",A="ASUS",N="BlackBerry",S="Browser",T="Chrome",C="Firefox",M="Google",E="Huawei",P="LG",R="Microsoft",I="Motorola",F="Opera",D="Samsung",q="Sharp",L="Sony",O="Xiaomi",B="Zebra",z="Facebook",V="Chromium OS",W="Mac OS",X=" Browser",H=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},U=function(e,t){return typeof e===c&&-1!==K(t).indexOf(K(e))},K=function(e){return e.toLowerCase()},$=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===l?e:e.substring(0,500)},Y=function(e,t){for(var n,a,i,l,c,h,d=0;d<t.length&&!c;){var u=t[d],p=t[d+1];for(n=a=0;n<u.length&&!c&&u[n];)if(c=u[n++].exec(e))for(i=0;i<p.length;i++)h=c[++a],typeof(l=p[i])===o&&l.length>0?2===l.length?typeof l[1]==s?this[l[0]]=l[1].call(this,h):this[l[0]]=l[1]:3===l.length?typeof l[1]!==s||l[1].exec&&l[1].test?this[l[0]]=h?h.replace(l[1],l[2]):r:this[l[0]]=h?l[1].call(this,h,l[2]):r:4===l.length&&(this[l[0]]=h?l[3].call(this,h.replace(l[1],l[2])):r):this[l]=h||r;d+=2}},G=function(e,t){for(var n in t)if(typeof t[n]===o&&t[n].length>0){for(var a=0;a<t[n].length;a++)if(U(t[n][a],e))return"?"===n?r:n}else if(U(t[n],e))return"?"===n?r:n;return t.hasOwnProperty("*")?t["*"]:e},Q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,m],[/opios[\/ ]+([\w\.]+)/i],[m,[u,F+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[m,[u,F+" GX"]],[/\bopr\/([\w\.]+)/i],[m,[u,F]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[u,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[m,[u,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[u,m],[/quark(?:pc)?\/([-\w\.]+)/i],[m,[u,"Quark"]],[/\bddg\/([\w\.]+)/i],[m,[u,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[u,"UC"+S]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[u,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[u,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[u,"Smart Lenovo "+S]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+S],m],[/\bfocus\/([\w\.]+)/i],[m,[u,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[u,F+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[u,F+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[u,"MIUI"+X]],[/fxios\/([\w\.-]+)/i],[m,[u,C]],[/\bqihoobrowser\/?([\w\.]*)/i],[m,[u,"360"]],[/\b(qq)\/([\w\.]+)/i],[[u,/(.+)/,"$1Browser"],m],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1"+X],m],[/samsungbrowser\/([\w\.]+)/i],[m,[u,D+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[m,[u,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[u,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[u,m],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[u],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[m,u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,z],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[u,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[u,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[u,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[u,T+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,T+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[u,"Android "+S]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[m,G,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],m],[/(wolvic|librewolf)\/([\w\.]+)/i],[u,m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[u,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[u,[m,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[u,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[x,"amd64"]],[/(ia32(?=;))/i],[[x,K]],[/((?:i[346]|x)86)[;\)]/i],[[x,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[x,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[x,"armhf"]],[/windows (ce|mobile); ppc;/i],[[x,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[x,/ower/,"",K]],[/(sun4\w)[;\)]/i],[[x,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[x,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[f,D],[p,b]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[f,D],[p,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[f,k],[p,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[f,k],[p,b]],[/(macintosh);/i],[d,[f,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[f,q],[p,y]],[/(?:honor)([-\w ]+)[;\)]/i],[d,[f,"Honor"],[p,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[f,E],[p,b]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[f,E],[p,y]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[d,/_/g," "],[f,O],[p,y]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[f,O],[p,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[f,"OPPO"],[p,y]],[/\b(opd2\d{3}a?) bui/i],[d,[f,"OPPO"],[p,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[f,"Vivo"],[p,y]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[f,"Realme"],[p,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[f,I],[p,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[f,I],[p,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[f,P],[p,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[f,P],[p,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[f,"Lenovo"],[p,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[f,"Nokia"],[p,y]],[/(pixel c)\b/i],[d,[f,M],[p,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[f,M],[p,y]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[f,L],[p,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[f,L],[p,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[f,"OnePlus"],[p,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[f,_],[p,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[f,_],[p,y]],[/(playbook);[-\w\),; ]+(rim)/i],[d,f,[p,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[f,N],[p,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[f,A],[p,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[f,A],[p,y]],[/(nexus 9)/i],[d,[f,"HTC"],[p,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[d,/_/g," "],[p,y]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[f,"TCL"],[p,b]],[/(itel) ((\w+))/i],[[f,K],d,[p,G,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[f,"Acer"],[p,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[f,"Meizu"],[p,y]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[f,"Ulefone"],[p,y]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[d,[f,"Energizer"],[p,y]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[d,[f,"Cat"],[p,y]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[d,[f,"Smartfren"],[p,y]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[f,"Nothing"],[p,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,d,[p,y]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,d,[p,b]],[/(surface duo)/i],[d,[f,R],[p,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[f,"Fairphone"],[p,y]],[/(u304aa)/i],[d,[f,"AT&T"],[p,y]],[/\bsie-(\w*)/i],[d,[f,"Siemens"],[p,y]],[/\b(rct\w+) b/i],[d,[f,"RCA"],[p,b]],[/\b(venue[\d ]{2,7}) b/i],[d,[f,"Dell"],[p,b]],[/\b(q(?:mv|ta)\w+) b/i],[d,[f,"Verizon"],[p,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[f,"Barnes & Noble"],[p,b]],[/\b(tm\d{3}\w+) b/i],[d,[f,"NuVision"],[p,b]],[/\b(k88) b/i],[d,[f,"ZTE"],[p,b]],[/\b(nx\d{3}j) b/i],[d,[f,"ZTE"],[p,y]],[/\b(gen\d{3}) b.+49h/i],[d,[f,"Swiss"],[p,y]],[/\b(zur\d{3}) b/i],[d,[f,"Swiss"],[p,b]],[/\b((zeki)?tb.*\b) b/i],[d,[f,"Zeki"],[p,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],d,[p,b]],[/\b(ns-?\w{0,9}) b/i],[d,[f,"Insignia"],[p,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[f,"NextBook"],[p,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],d,[p,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],d,[p,y]],[/\b(ph-1) /i],[d,[f,"Essential"],[p,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[f,"Envizen"],[p,b]],[/\b(trio[-\w\. ]+) b/i],[d,[f,"MachSpeed"],[p,b]],[/\btu_(1491) b/i],[d,[f,"Rotor"],[p,b]],[/(shield[\w ]+) b/i],[d,[f,"Nvidia"],[p,b]],[/(sprint) (\w+)/i],[f,d,[p,y]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[f,R],[p,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[f,B],[p,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[f,B],[p,y]],[/smart-tv.+(samsung)/i],[f,[p,v]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[f,D],[p,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,P],[p,v]],[/(apple) ?tv/i],[f,[d,k+" TV"],[p,v]],[/crkey/i],[[d,T+"cast"],[f,M],[p,v]],[/droid.+aft(\w+)( bui|\))/i],[d,[f,_],[p,v]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[f,q],[p,v]],[/(bravia[\w ]+)( bui|\))/i],[d,[f,L],[p,v]],[/(mitv-\w{5}) bui/i],[d,[f,O],[p,v]],[/Hbbtv.*(technisat) (.*);/i],[f,d,[p,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,$],[d,$],[p,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,d,[p,g]],[/droid.+; (shield) bui/i],[d,[f,"Nvidia"],[p,g]],[/(playstation [345portablevi]+)/i],[d,[f,L],[p,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[f,R],[p,g]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[d,[f,D],[p,j]],[/((pebble))app/i],[f,d,[p,j]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[f,k],[p,j]],[/droid.+; (glass) \d/i],[d,[f,M],[p,j]],[/droid.+; (wt63?0{2,3})\)/i],[d,[f,B],[p,j]],[/droid.+; (glass) \d/i],[d,[f,M],[p,j]],[/(pico) (4|neo3(?: link|pro)?)/i],[f,d,[p,j]],[/; (quest( \d| pro)?)/i],[d,[f,z],[p,j]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[p,w]],[/(aeobc)\b/i],[d,[f,_],[p,w]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[p,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,y]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[u,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[u,m],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[u,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[u,[m,G,Q]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,G,Q],[u,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,W],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,m],[/\(bb(10);/i],[m,[u,N]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[u,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[u,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[u,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[u,T+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[u,V],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,m],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[u,m]]},J=function(e,t){if(typeof e===o&&(t=e,e=r),!(this instanceof J))return new J(e,t).getResult();var n=typeof i!==l&&i.navigator?i.navigator:r,a=e||(n&&n.userAgent?n.userAgent:""),g=n&&n.userAgentData?n.userAgentData:r,v=t?function(e,t){var n={};for(var a in e)t[a]&&t[a].length%2===0?n[a]=t[a].concat(e[a]):n[a]=e[a];return n}(Z,t):Z,j=n&&n.userAgent==a;return this.getBrowser=function(){var e,t={};return t[u]=r,t[m]=r,Y.call(t,a,v.browser),t[h]=typeof(e=t[m])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:r,j&&n&&n.brave&&typeof n.brave.isBrave==s&&(t[u]="Brave"),t},this.getCPU=function(){var e={};return e[x]=r,Y.call(e,a,v.cpu),e},this.getDevice=function(){var e={};return e[f]=r,e[d]=r,e[p]=r,Y.call(e,a,v.device),j&&!e[p]&&g&&g.mobile&&(e[p]=y),j&&"Macintosh"==e[d]&&n&&typeof n.standalone!==l&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[d]="iPad",e[p]=b),e},this.getEngine=function(){var e={};return e[u]=r,e[m]=r,Y.call(e,a,v.engine),e},this.getOS=function(){var e={};return e[u]=r,e[m]=r,Y.call(e,a,v.os),j&&!e[u]&&g&&g.platform&&"Unknown"!=g.platform&&(e[u]=g.platform.replace(/chrome os/i,V).replace(/macos/i,W)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return a},this.setUA=function(e){return a=typeof e===c&&e.length>500?$(e,500):e,this},this.setUA(a),this};J.VERSION="1.0.40",J.BROWSER=H([u,m,h]),J.CPU=H([x]),J.DEVICE=H([d,f,p,g,y,v,b,j,w]),J.ENGINE=J.OS=H([u,m]),typeof t!==l?(e.exports&&(t=e.exports=J),t.UAParser=J):n.amdO?(a=function(){return J}.call(t,n,t,e))===r||(e.exports=a):typeof i!==l&&(i.UAParser=J);var ee=typeof i!==l&&(i.jQuery||i.Zepto);if(ee&&!ee.ua){var te=new J;ee.ua=te.getResult(),ee.ua.get=function(){return te.getUA()},ee.ua.set=function(e){te.setUA(e);var t=te.getResult();for(var n in t)ee.ua[n]=t[n]}}}("object"===typeof window?window:this)},6483:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={}},992:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={}},8563:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={}},8941:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={}},7113:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={}},4265:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={}},1644:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={}},8841:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={}},7724:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={}},4077:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={}},5828:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={}},1204:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={}},5755:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={}},4588:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={}},3671:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={}},2273:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});const a={}},8399:(e,t,n)=>{var a={"./CV":5898,"./CV.css":6483,"./CV.js":5898,"./CorpFin/BS/BMviz":355,"./CorpFin/BS/BMviz.js":355,"./CorpFin/BS/BS0":1488,"./CorpFin/BS/BS0.js":1488,"./CorpFin/BS/BS1":8359,"./CorpFin/BS/BS1.js":8359,"./CorpFin/BS/BS2":1338,"./CorpFin/BS/BS2.js":1338,"./CorpFin/BS/BS3":1849,"./CorpFin/BS/BS3.js":1849,"./CorpFin/BS/BS4":860,"./CorpFin/BS/BS4.js":860,"./CorpFin/BS/BS5":2499,"./CorpFin/BS/BS5.js":2499,"./CorpFin/BS/BS6":7094,"./CorpFin/BS/BS6.js":7094,"./CorpFin/BS/BS7":7813,"./CorpFin/BS/BS7.js":7813,"./CorpFin/BS/BS8":6104,"./CorpFin/BS/BS8.js":6104,"./CorpFin/BS/BScalculator":562,"./CorpFin/BS/BScalculator.js":562,"./CorpFin/BS/BlackScholes.css":992,"./CorpFin/BS/GBMviz":3808,"./CorpFin/BS/GBMviz.js":3808,"./CorpFin/BS/Volatility":2340,"./CorpFin/BS/Volatility.js":2340,"./CorpFin/BS/priceViz":5679,"./CorpFin/BS/priceViz.js":5679,"./CorpFin/CorpFin":5748,"./CorpFin/CorpFin.css":8563,"./CorpFin/CorpFin.js":5748,"./CorpFin/Risk/CapLine":5655,"./CorpFin/Risk/CapLine.js":5655,"./CorpFin/Risk/GambleGraph":8413,"./CorpFin/Risk/GambleGraph.js":8413,"./CorpFin/Risk/Risk.css":8941,"./CorpFin/Risk/Risk0":9136,"./CorpFin/Risk/Risk0.js":9136,"./CorpFin/Risk/Risk1":6007,"./CorpFin/Risk/Risk1.js":6007,"./CorpFin/Risk/Risk2":8986,"./CorpFin/Risk/Risk2.js":8986,"./CorpFin/Risk/Risk3":9497,"./CorpFin/Risk/Risk3.js":9497,"./CorpFin/Risk/Risk4":4860,"./CorpFin/Risk/Risk4.js":4860,"./CorpFin/Risk/Risk5":6499,"./CorpFin/Risk/Risk5.js":6499,"./CorpFin/Risk/Risk6":1094,"./CorpFin/Risk/Risk6.js":1094,"./CorpFin/Risk/Risk7":1813,"./CorpFin/Risk/Risk7.js":1813,"./CorpFin/Risk/RiskAversion":1059,"./CorpFin/Risk/RiskAversion.js":1059,"./CorpFin/Risk/ThreeStockCombinations":6335,"./CorpFin/Risk/ThreeStockCombinations.js":6335,"./CorpFin/Risk/TwoStockCombinations":5081,"./CorpFin/Risk/TwoStockCombinations.js":5081,"./CorpFin/Risk/VennDiagram":2535,"./CorpFin/Risk/VennDiagram.js":2535,"./CorpFin/TD/ContinuousCompounding":4116,"./CorpFin/TD/ContinuousCompounding.js":4116,"./CorpFin/TD/TD0":1270,"./CorpFin/TD/TD0.js":1270,"./CorpFin/TD/TD1":229,"./CorpFin/TD/TD1.js":229,"./CorpFin/TD/TD2":8652,"./CorpFin/TD/TD2.js":8652,"./CorpFin/TD/TD3":4739,"./CorpFin/TD/TD3.js":4739,"./CorpFin/TD/TD4":4698,"./CorpFin/TD/TD4.js":4698,"./CorpFin/TD/TD5":7481,"./CorpFin/TD/TD5.js":7481,"./CorpFin/TD/TD6":6432,"./CorpFin/TD/TD6.js":6432,"./CorpFin/TD/TimeDiscounting.css":7113,"./CorpFin/TD/YieldCurve":4,"./CorpFin/TD/YieldCurve.js":4,"./Home":1646,"./Home.css":4265,"./Home.js":1646,"./MA/Corp/Corp.css":1644,"./MA/Corp/Corp1":5504,"./MA/Corp/Corp1.js":5504,"./MA/Corp/CorpMap":9879,"./MA/Corp/CorpMap.js":9879,"./MA/Corp/IncorpTime":7781,"./MA/Corp/IncorpTime.js":7781,"./MA/Corp/ToggleSwitch":4447,"./MA/Corp/ToggleSwitch.js":4447,"./MA/Corp/YearSelector":9727,"./MA/Corp/YearSelector.js":9727,"./MA/Corp/incorporationData":4907,"./MA/Corp/incorporationData.json":4907,"./MA/Corp/incorporationDataYears":415,"./MA/Corp/incorporationDataYears.json":415,"./MA/MA":7018,"./MA/MA.css":8841,"./MA/MA.js":7018,"./Misc/Fourier/ComplexPlane":313,"./Misc/Fourier/ComplexPlane.js":313,"./Misc/Fourier/DFTGraph":1657,"./Misc/Fourier/DFTGraph.js":1657,"./Misc/Fourier/Fourier.css":7724,"./Misc/Fourier/Fourier0":3339,"./Misc/Fourier/Fourier0.js":3339,"./Misc/Fourier/Fourier1":9044,"./Misc/Fourier/Fourier1.js":9044,"./Misc/Fourier/Fourier2":7245,"./Misc/Fourier/Fourier2.js":7245,"./Misc/Fourier/Fourier3":974,"./Misc/Fourier/Fourier3.js":974,"./Misc/Fourier/Fourier4":3279,"./Misc/Fourier/Fourier4.js":3279,"./Misc/Fourier/Fourier5":1192,"./Misc/Fourier/Fourier5.js":1192,"./Misc/Fourier/FourierSeries":490,"./Misc/Fourier/FourierSeries.js":490,"./Misc/Misc":8206,"./Misc/Misc.css":4077,"./Misc/Misc.js":8206,"./Misc/Mortgages/Mortgages.css":5828,"./Misc/Mortgages/Mortgages0":835,"./Misc/Mortgages/Mortgages0.js":835,"./Misc/Mortgages/Mortgages1":5372,"./Misc/Mortgages/Mortgages1.js":5372,"./Misc/Mortgages/Mortgages2":1461,"./Misc/Mortgages/Mortgages2.js":1461,"./Misc/Mortgages/PointsCalculator":865,"./Misc/Mortgages/PointsCalculator.js":865,"./Misc/Stats/CatanBoard":3835,"./Misc/Stats/CatanBoard.js":3835,"./Misc/Stats/DiceGrid":6961,"./Misc/Stats/DiceGrid.js":6961,"./Misc/Stats/DicePMF":2378,"./Misc/Stats/DicePMF.js":2378,"./Misc/Stats/RegressionScatterPlot":9706,"./Misc/Stats/RegressionScatterPlot.js":9706,"./Misc/Stats/Stats.css":1204,"./Misc/Stats/Stats0":8483,"./Misc/Stats/Stats0.js":8483,"./Misc/Stats/Stats1":380,"./Misc/Stats/Stats1.js":380,"./Misc/Stats/Stats2":7077,"./Misc/Stats/Stats2.js":7077,"./Misc/Stats/Stats3":8838,"./Misc/Stats/Stats3.js":8838,"./Misc/Stats/Stats4":5351,"./Misc/Stats/Stats4.js":5351,"./Misc/Stats/Stats5":6576,"./Misc/Stats/Stats5.js":6576,"./Research":9938,"./Research.css":5755,"./Research.js":9938,"./Sec/Damages/Damage.css":4588,"./Sec/Damages/Damage0":8971,"./Sec/Damages/Damage0.js":8971,"./Sec/Damages/Damage1":5620,"./Sec/Damages/Damage1.js":5620,"./Sec/Damages/Damage2":7037,"./Sec/Damages/Damage2.js":7037,"./Sec/Damages/DamageViz":9830,"./Sec/Damages/DamageViz.js":9830,"./Sec/Damages/ToggleSwitch":7366,"./Sec/Damages/ToggleSwitch.js":7366,"./Sec/Sec":9944,"./Sec/Sec.css":3671,"./Sec/Sec.js":9944,"./Teaching":6900,"./Teaching.css":2273,"./Teaching.js":6900};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=8399},2555:(e,t,n)=>{"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function r(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{A:()=>l})},6980:(e,t,n)=>{"use strict";function a(e,t){let n,a;if(void 0===t)for(const i of e)null!=i&&(void 0===n?i>=i&&(n=a=i):(n>i&&(n=i),a<i&&(a=i)));else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(void 0===n?r>=r&&(n=a=r):(n>r&&(n=r),a<r&&(a=r)))}return[n,a]}function i(e,t){let n;if(void 0===t)for(const a of e)null!=a&&(n<a||void 0===n&&a>=a)&&(n=a);else{let a=-1;for(let i of e)null!=(i=t(i,++a,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function r(e,t){let n=0,a=0;if(void 0===t)for(let i of e)null!=i&&(i=+i)>=i&&(++n,a+=i);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(r=+r)>=r&&(++n,a+=r)}if(n)return a/n}function s(e,t){let n;if(void 0===t)for(const a of e)null!=a&&(n>a||void 0===n&&a>=a)&&(n=a);else{let a=-1;for(let i of e)null!=(i=t(i,++a,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function l(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var a=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),r=new Array(i);++a<i;)r[a]=e+a*n;return r}function o(e){return e}n.d(t,{l78:()=>v,V4s:()=>j,qrM:()=>Al,nVG:()=>Rl,UPb:()=>Fl,$Er:()=>Jn,yfw:()=>ea,Xxv:()=>a,GPZ:()=>pa,UtK:()=>Xr,zFW:()=>Ji,dM:()=>Ys,TEm:()=>Gs,Pq9:()=>na,n8j:()=>wl,T9B:()=>i,i2o:()=>r,jkA:()=>s,WnM:()=>Vn,CxN:()=>Kr,Ixc:()=>Zr,FE$:()=>$r,y17:()=>l,m4Y:()=>Ts,UMr:()=>Fs,M3p:()=>Hs,t55:()=>Ks,Ltv:()=>zn});var c=1,h=2,d=3,u=4,p=1e-6;function f(e){return"translate("+e+",0)"}function m(e){return"translate(0,"+e+")"}function x(e){return t=>+e(t)}function g(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function y(){return!this.__axis}function b(e,t){var n=[],a=null,i=null,r=6,s=6,l=3,b="undefined"!==typeof window&&window.devicePixelRatio>1?0:.5,v=e===c||e===u?-1:1,j=e===u||e===h?"x":"y",w=e===c||e===d?f:m;function _(f){var m=null==a?t.ticks?t.ticks.apply(t,n):t.domain():a,_=null==i?t.tickFormat?t.tickFormat.apply(t,n):o:i,k=Math.max(r,0)+l,A=t.range(),N=+A[0]+b,S=+A[A.length-1]+b,T=(t.bandwidth?g:x)(t.copy(),b),C=f.selection?f.selection():f,M=C.selectAll(".domain").data([null]),E=C.selectAll(".tick").data(m,t).order(),P=E.exit(),R=E.enter().append("g").attr("class","tick"),I=E.select("line"),F=E.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(R),I=I.merge(R.append("line").attr("stroke","currentColor").attr(j+"2",v*r)),F=F.merge(R.append("text").attr("fill","currentColor").attr(j,v*k).attr("dy",e===c?"0em":e===d?"0.71em":"0.32em")),f!==C&&(M=M.transition(f),E=E.transition(f),I=I.transition(f),F=F.transition(f),P=P.transition(f).attr("opacity",p).attr("transform",(function(e){return isFinite(e=T(e))?w(e+b):this.getAttribute("transform")})),R.attr("opacity",p).attr("transform",(function(e){var t=this.parentNode.__axis;return w((t&&isFinite(t=t(e))?t:T(e))+b)}))),P.remove(),M.attr("d",e===u||e===h?s?"M"+v*s+","+N+"H"+b+"V"+S+"H"+v*s:"M"+b+","+N+"V"+S:s?"M"+N+","+v*s+"V"+b+"H"+S+"V"+v*s:"M"+N+","+b+"H"+S),E.attr("opacity",1).attr("transform",(function(e){return w(T(e)+b)})),I.attr(j+"2",v*r),F.attr(j,v*k).text(_),C.filter(y).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===h?"start":e===u?"end":"middle"),C.each((function(){this.__axis=T}))}return _.scale=function(e){return arguments.length?(t=e,_):t},_.ticks=function(){return n=Array.from(arguments),_},_.tickArguments=function(e){return arguments.length?(n=null==e?[]:Array.from(e),_):n.slice()},_.tickValues=function(e){return arguments.length?(a=null==e?null:Array.from(e),_):a&&a.slice()},_.tickFormat=function(e){return arguments.length?(i=e,_):i},_.tickSize=function(e){return arguments.length?(r=s=+e,_):r},_.tickSizeInner=function(e){return arguments.length?(r=+e,_):r},_.tickSizeOuter=function(e){return arguments.length?(s=+e,_):s},_.tickPadding=function(e){return arguments.length?(l=+e,_):l},_.offset=function(e){return arguments.length?(b=+e,_):b},_}function v(e){return b(d,e)}function j(e){return b(u,e)}function w(){}function _(e){return null==e?w:function(){return this.querySelector(e)}}function k(){return[]}function A(e){return null==e?k:function(){return this.querySelectorAll(e)}}function N(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function S(e){return function(){return this.matches(e)}}function T(e){return function(t){return t.matches(e)}}var C=Array.prototype.find;function M(){return this.firstElementChild}var E=Array.prototype.filter;function P(){return Array.from(this.children)}function R(e){return new Array(e.length)}function I(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function F(e,t,n,a,i,r){for(var s,l=0,o=t.length,c=r.length;l<c;++l)(s=t[l])?(s.__data__=r[l],a[l]=s):n[l]=new I(e,r[l]);for(;l<o;++l)(s=t[l])&&(i[l]=s)}function D(e,t,n,a,i,r,s){var l,o,c,h=new Map,d=t.length,u=r.length,p=new Array(d);for(l=0;l<d;++l)(o=t[l])&&(p[l]=c=s.call(o,o.__data__,l,t)+"",h.has(c)?i[l]=o:h.set(c,o));for(l=0;l<u;++l)c=s.call(e,r[l],l,r)+"",(o=h.get(c))?(a[l]=o,o.__data__=r[l],h.delete(c)):n[l]=new I(e,r[l]);for(l=0;l<d;++l)(o=t[l])&&h.get(p[l])===o&&(i[l]=o)}function q(e){return e.__data__}function L(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function O(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}I.prototype={constructor:I,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var B="http://www.w3.org/1999/xhtml";const z={svg:"http://www.w3.org/2000/svg",xhtml:B,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function V(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),z.hasOwnProperty(t)?{space:z[t],local:e}:e}function W(e){return function(){this.removeAttribute(e)}}function X(e){return function(){this.removeAttributeNS(e.space,e.local)}}function H(e,t){return function(){this.setAttribute(e,t)}}function U(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function K(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function $(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Y(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function G(e){return function(){this.style.removeProperty(e)}}function Q(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Z(e,t,n){return function(){var a=t.apply(this,arguments);null==a?this.style.removeProperty(e):this.style.setProperty(e,a,n)}}function J(e,t){return e.style.getPropertyValue(t)||Y(e).getComputedStyle(e,null).getPropertyValue(t)}function ee(e){return function(){delete this[e]}}function te(e,t){return function(){this[e]=t}}function ne(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function ae(e){return e.trim().split(/^|\s+/)}function ie(e){return e.classList||new re(e)}function re(e){this._node=e,this._names=ae(e.getAttribute("class")||"")}function se(e,t){for(var n=ie(e),a=-1,i=t.length;++a<i;)n.add(t[a])}function le(e,t){for(var n=ie(e),a=-1,i=t.length;++a<i;)n.remove(t[a])}function oe(e){return function(){se(this,e)}}function ce(e){return function(){le(this,e)}}function he(e,t){return function(){(t.apply(this,arguments)?se:le)(this,e)}}function de(){this.textContent=""}function ue(e){return function(){this.textContent=e}}function pe(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function fe(){this.innerHTML=""}function me(e){return function(){this.innerHTML=e}}function xe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ge(){this.nextSibling&&this.parentNode.appendChild(this)}function ye(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function be(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===B&&t.documentElement.namespaceURI===B?t.createElement(e):t.createElementNS(n,e)}}function ve(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function je(e){var t=V(e);return(t.local?ve:be)(t)}function we(){return null}function _e(){var e=this.parentNode;e&&e.removeChild(this)}function ke(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ae(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ne(e){return function(){var t=this.__on;if(t){for(var n,a=0,i=-1,r=t.length;a<r;++a)n=t[a],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Se(e,t,n){return function(){var a,i=this.__on,r=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var s=0,l=i.length;s<l;++s)if((a=i[s]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=r,a.options=n),void(a.value=t);this.addEventListener(e.type,r,n),a={type:e.type,name:e.name,value:t,listener:r,options:n},i?i.push(a):this.__on=[a]}}function Te(e,t,n){var a=Y(e),i=a.CustomEvent;"function"===typeof i?i=new i(t,n):(i=a.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Ce(e,t){return function(){return Te(this,e,t)}}function Me(e,t){return function(){return Te(this,e,t.apply(this,arguments))}}re.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Ee=[null];function Pe(e,t){this._groups=e,this._parents=t}function Re(){return new Pe([[document.documentElement]],Ee)}Pe.prototype=Re.prototype={constructor:Pe,select:function(e){"function"!==typeof e&&(e=_(e));for(var t=this._groups,n=t.length,a=new Array(n),i=0;i<n;++i)for(var r,s,l=t[i],o=l.length,c=a[i]=new Array(o),h=0;h<o;++h)(r=l[h])&&(s=e.call(r,r.__data__,h,l))&&("__data__"in r&&(s.__data__=r.__data__),c[h]=s);return new Pe(a,this._parents)},selectAll:function(e){e="function"===typeof e?N(e):A(e);for(var t=this._groups,n=t.length,a=[],i=[],r=0;r<n;++r)for(var s,l=t[r],o=l.length,c=0;c<o;++c)(s=l[c])&&(a.push(e.call(s,s.__data__,c,l)),i.push(s));return new Pe(a,i)},selectChild:function(e){return this.select(null==e?M:function(e){return function(){return C.call(this.children,e)}}("function"===typeof e?e:T(e)))},selectChildren:function(e){return this.selectAll(null==e?P:function(e){return function(){return E.call(this.children,e)}}("function"===typeof e?e:T(e)))},filter:function(e){"function"!==typeof e&&(e=S(e));for(var t=this._groups,n=t.length,a=new Array(n),i=0;i<n;++i)for(var r,s=t[i],l=s.length,o=a[i]=[],c=0;c<l;++c)(r=s[c])&&e.call(r,r.__data__,c,s)&&o.push(r);return new Pe(a,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,q);var n,a=t?D:F,i=this._parents,r=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var s=r.length,l=new Array(s),o=new Array(s),c=new Array(s),h=0;h<s;++h){var d=i[h],u=r[h],p=u.length,f=L(e.call(d,d&&d.__data__,h,i)),m=f.length,x=o[h]=new Array(m),g=l[h]=new Array(m);a(d,u,x,g,c[h]=new Array(p),f,t);for(var y,b,v=0,j=0;v<m;++v)if(y=x[v]){for(v>=j&&(j=v+1);!(b=g[j])&&++j<m;);y._next=b||null}}return(l=new Pe(l,i))._enter=o,l._exit=c,l},enter:function(){return new Pe(this._enter||this._groups.map(R),this._parents)},exit:function(){return new Pe(this._exit||this._groups.map(R),this._parents)},join:function(e,t,n){var a=this.enter(),i=this,r=this.exit();return"function"===typeof e?(a=e(a))&&(a=a.selection()):a=a.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?r.remove():n(r),a&&i?a.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,a=t._groups,i=n.length,r=a.length,s=Math.min(i,r),l=new Array(i),o=0;o<s;++o)for(var c,h=n[o],d=a[o],u=h.length,p=l[o]=new Array(u),f=0;f<u;++f)(c=h[f]||d[f])&&(p[f]=c);for(;o<i;++o)l[o]=n[o];return new Pe(l,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var a,i=e[t],r=i.length-1,s=i[r];--r>=0;)(a=i[r])&&(s&&4^a.compareDocumentPosition(s)&&s.parentNode.insertBefore(a,s),s=a);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=O);for(var n=this._groups,a=n.length,i=new Array(a),r=0;r<a;++r){for(var s,l=n[r],o=l.length,c=i[r]=new Array(o),h=0;h<o;++h)(s=l[h])&&(c[h]=s);c.sort(t)}return new Pe(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var a=e[t],i=0,r=a.length;i<r;++i){var s=a[i];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,a=t.length;n<a;++n)for(var i,r=t[n],s=0,l=r.length;s<l;++s)(i=r[s])&&e.call(i,i.__data__,s,r);return this},attr:function(e,t){var n=V(e);if(arguments.length<2){var a=this.node();return n.local?a.getAttributeNS(n.space,n.local):a.getAttribute(n)}return this.each((null==t?n.local?X:W:"function"===typeof t?n.local?$:K:n.local?U:H)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?G:"function"===typeof t?Z:Q)(e,t,null==n?"":n)):J(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?ee:"function"===typeof t?ne:te)(e,t)):this.node()[e]},classed:function(e,t){var n=ae(e+"");if(arguments.length<2){for(var a=ie(this.node()),i=-1,r=n.length;++i<r;)if(!a.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?he:t?oe:ce)(n,t))},text:function(e){return arguments.length?this.each(null==e?de:("function"===typeof e?pe:ue)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?fe:("function"===typeof e?xe:me)(e)):this.node().innerHTML},raise:function(){return this.each(ge)},lower:function(){return this.each(ye)},append:function(e){var t="function"===typeof e?e:je(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:je(e),a=null==t?we:"function"===typeof t?t:_(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)}))},remove:function(){return this.each(_e)},clone:function(e){return this.select(e?Ae:ke)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var a,i,r=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),s=r.length;if(!(arguments.length<2)){for(l=t?Se:Ne,a=0;a<s;++a)this.each(l(r[a],t,n));return this}var l=this.node().__on;if(l)for(var o,c=0,h=l.length;c<h;++c)for(a=0,o=l[c];a<s;++a)if((i=r[a]).type===o.type&&i.name===o.name)return o.value},dispatch:function(e,t){return this.each(("function"===typeof t?Me:Ce)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var a,i=e[t],r=0,s=i.length;r<s;++r)(a=i[r])&&(yield a)}};const Ie=Re;var Fe={value:()=>{}};function De(){for(var e,t=0,n=arguments.length,a={};t<n;++t){if(!(e=arguments[t]+"")||e in a||/[\s.]/.test(e))throw new Error("illegal type: "+e);a[e]=[]}return new qe(a)}function qe(e){this._=e}function Le(e,t){for(var n,a=0,i=e.length;a<i;++a)if((n=e[a]).name===t)return n.value}function Oe(e,t,n){for(var a=0,i=e.length;a<i;++a)if(e[a].name===t){e[a]=Fe,e=e.slice(0,a).concat(e.slice(a+1));break}return null!=n&&e.push({name:t,value:n}),e}qe.prototype=De.prototype={constructor:qe,on:function(e,t){var n,a,i=this._,r=(a=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!a.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),s=-1,l=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++s<l;)if(n=(e=r[s]).type)i[n]=Oe(i[n],e.name,t);else if(null==t)for(n in i)i[n]=Oe(i[n],e.name,null);return this}for(;++s<l;)if((n=(e=r[s]).type)&&(n=Le(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new qe(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,a,i=new Array(n),r=0;r<n;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=0,n=(a=this._[e]).length;r<n;++r)a[r].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],i=0,r=a.length;i<r;++i)a[i].value.apply(t,n)}};const Be=De;var ze,Ve,We=0,Xe=0,He=0,Ue=0,Ke=0,$e=0,Ye="object"===typeof performance&&performance.now?performance:Date,Ge="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Qe(){return Ke||(Ge(Ze),Ke=Ye.now()+$e)}function Ze(){Ke=0}function Je(){this._call=this._time=this._next=null}function et(e,t,n){var a=new Je;return a.restart(e,t,n),a}function tt(){Ke=(Ue=Ye.now())+$e,We=Xe=0;try{!function(){Qe(),++We;for(var e,t=ze;t;)(e=Ke-t._time)>=0&&t._call.call(void 0,e),t=t._next;--We}()}finally{We=0,function(){var e,t,n=ze,a=1/0;for(;n;)n._call?(a>n._time&&(a=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:ze=t);Ve=e,at(a)}(),Ke=0}}function nt(){var e=Ye.now(),t=e-Ue;t>1e3&&($e-=t,Ue=e)}function at(e){We||(Xe&&(Xe=clearTimeout(Xe)),e-Ke>24?(e<1/0&&(Xe=setTimeout(tt,e-Ye.now()-$e)),He&&(He=clearInterval(He))):(He||(Ue=Ye.now(),He=setInterval(nt,1e3)),We=1,Ge(tt)))}function it(e,t,n){var a=new Je;return t=null==t?0:+t,a.restart((n=>{a.stop(),e(n+t)}),t,n),a}Je.prototype=et.prototype={constructor:Je,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?Qe():+n)+(null==t?0:+t),this._next||Ve===this||(Ve?Ve._next=this:ze=this,Ve=this),this._call=e,this._time=n,at()},stop:function(){this._call&&(this._call=null,this._time=1/0,at())}};var rt=Be("start","end","cancel","interrupt"),st=[];function lt(e,t,n,a,i,r){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var a,i=e.__transition;function r(e){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}function s(r){var c,h,d,u;if(1!==n.state)return o();for(c in i)if((u=i[c]).name===n.name){if(3===u.state)return it(s);4===u.state?(u.state=6,u.timer.stop(),u.on.call("interrupt",e,e.__data__,u.index,u.group),delete i[c]):+c<t&&(u.state=6,u.timer.stop(),u.on.call("cancel",e,e.__data__,u.index,u.group),delete i[c])}if(it((function(){3===n.state&&(n.state=4,n.timer.restart(l,n.delay,n.time),l(r))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,a=new Array(d=n.tween.length),c=0,h=-1;c<d;++c)(u=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(a[++h]=u);a.length=h+1}}function l(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(o),n.state=5,1),r=-1,s=a.length;++r<s;)a[r].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),o())}function o(){for(var a in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=et(r,0,n.time)}(e,n,{name:t,index:a,group:i,on:rt,tween:st,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:0})}function ot(e,t){var n=ht(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function ct(e,t){var n=ht(e,t);if(n.state>3)throw new Error("too late; already running");return n}function ht(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function dt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ut,pt=180/Math.PI,ft={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mt(e,t,n,a,i,r){var s,l,o;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(o=e*n+t*a)&&(n-=e*o,a-=t*o),(l=Math.sqrt(n*n+a*a))&&(n/=l,a/=l,o/=l),e*a<t*n&&(e=-e,t=-t,o=-o,s=-s),{translateX:i,translateY:r,rotate:Math.atan2(t,e)*pt,skewX:Math.atan(o)*pt,scaleX:s,scaleY:l}}function xt(e,t,n,a){function i(e){return e.length?e.pop()+" ":""}return function(r,s){var l=[],o=[];return r=e(r),s=e(s),function(e,a,i,r,s,l){if(e!==i||a!==r){var o=s.push("translate(",null,t,null,n);l.push({i:o-4,x:dt(e,i)},{i:o-2,x:dt(a,r)})}else(i||r)&&s.push("translate("+i+t+r+n)}(r.translateX,r.translateY,s.translateX,s.translateY,l,o),function(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(i(n)+"rotate(",null,a)-2,x:dt(e,t)})):t&&n.push(i(n)+"rotate("+t+a)}(r.rotate,s.rotate,l,o),function(e,t,n,r){e!==t?r.push({i:n.push(i(n)+"skewX(",null,a)-2,x:dt(e,t)}):t&&n.push(i(n)+"skewX("+t+a)}(r.skewX,s.skewX,l,o),function(e,t,n,a,r,s){if(e!==n||t!==a){var l=r.push(i(r)+"scale(",null,",",null,")");s.push({i:l-4,x:dt(e,n)},{i:l-2,x:dt(t,a)})}else 1===n&&1===a||r.push(i(r)+"scale("+n+","+a+")")}(r.scaleX,r.scaleY,s.scaleX,s.scaleY,l,o),r=s=null,function(e){for(var t,n=-1,a=o.length;++n<a;)l[(t=o[n]).i]=t.x(e);return l.join("")}}}var gt=xt((function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ft:mt(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),yt=xt((function(e){return null==e?ft:(ut||(ut=document.createElementNS("http://www.w3.org/2000/svg","g")),ut.setAttribute("transform",e),(e=ut.transform.baseVal.consolidate())?mt((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):ft)}),", ",")",")");function bt(e,t){var n,a;return function(){var i=ct(this,e),r=i.tween;if(r!==n)for(var s=0,l=(a=n=r).length;s<l;++s)if(a[s].name===t){(a=a.slice()).splice(s,1);break}i.tween=a}}function vt(e,t,n){var a,i;if("function"!==typeof n)throw new Error;return function(){var r=ct(this,e),s=r.tween;if(s!==a){i=(a=s).slice();for(var l={name:t,value:n},o=0,c=i.length;o<c;++o)if(i[o].name===t){i[o]=l;break}o===c&&i.push(l)}r.tween=i}}function jt(e,t,n){var a=e._id;return e.each((function(){var e=ct(this,a);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return ht(e,a).value[t]}}function wt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function _t(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function kt(){}var At=.7,Nt=1/At,St="\\s*([+-]?\\d+)\\s*",Tt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ct="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mt=/^#([0-9a-f]{3,8})$/,Et=new RegExp("^rgb\\(".concat(St,",").concat(St,",").concat(St,"\\)$")),Pt=new RegExp("^rgb\\(".concat(Ct,",").concat(Ct,",").concat(Ct,"\\)$")),Rt=new RegExp("^rgba\\(".concat(St,",").concat(St,",").concat(St,",").concat(Tt,"\\)$")),It=new RegExp("^rgba\\(".concat(Ct,",").concat(Ct,",").concat(Ct,",").concat(Tt,"\\)$")),Ft=new RegExp("^hsl\\(".concat(Tt,",").concat(Ct,",").concat(Ct,"\\)$")),Dt=new RegExp("^hsla\\(".concat(Tt,",").concat(Ct,",").concat(Ct,",").concat(Tt,"\\)$")),qt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Lt(){return this.rgb().formatHex()}function Ot(){return this.rgb().formatRgb()}function Bt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Mt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?zt(t):3===n?new Xt(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Vt(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Vt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Et.exec(e))?new Xt(t[1],t[2],t[3],1):(t=Pt.exec(e))?new Xt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Rt.exec(e))?Vt(t[1],t[2],t[3],t[4]):(t=It.exec(e))?Vt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ft.exec(e))?Gt(t[1],t[2]/100,t[3]/100,1):(t=Dt.exec(e))?Gt(t[1],t[2]/100,t[3]/100,t[4]):qt.hasOwnProperty(e)?zt(qt[e]):"transparent"===e?new Xt(NaN,NaN,NaN,0):null}function zt(e){return new Xt(e>>16&255,e>>8&255,255&e,1)}function Vt(e,t,n,a){return a<=0&&(e=t=n=NaN),new Xt(e,t,n,a)}function Wt(e,t,n,a){return 1===arguments.length?((i=e)instanceof kt||(i=Bt(i)),i?new Xt((i=i.rgb()).r,i.g,i.b,i.opacity):new Xt):new Xt(e,t,n,null==a?1:a);var i}function Xt(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}function Ht(){return"#".concat(Yt(this.r)).concat(Yt(this.g)).concat(Yt(this.b))}function Ut(){const e=Kt(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat($t(this.r),", ").concat($t(this.g),", ").concat($t(this.b)).concat(1===e?")":", ".concat(e,")"))}function Kt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $t(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yt(e){return((e=$t(e))<16?"0":"")+e.toString(16)}function Gt(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Zt(e,t,n,a)}function Qt(e){if(e instanceof Zt)return new Zt(e.h,e.s,e.l,e.opacity);if(e instanceof kt||(e=Bt(e)),!e)return new Zt;if(e instanceof Zt)return e;var t=(e=e.rgb()).r/255,n=e.g/255,a=e.b/255,i=Math.min(t,n,a),r=Math.max(t,n,a),s=NaN,l=r-i,o=(r+i)/2;return l?(s=t===r?(n-a)/l+6*(n<a):n===r?(a-t)/l+2:(t-n)/l+4,l/=o<.5?r+i:2-r-i,s*=60):l=o>0&&o<1?0:s,new Zt(s,l,o,e.opacity)}function Zt(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}function Jt(e){return(e=(e||0)%360)<0?e+360:e}function en(e){return Math.max(0,Math.min(1,e||0))}function tn(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function nn(e,t,n,a,i){var r=e*e,s=r*e;return((1-3*e+3*r-s)*t+(4-6*r+3*s)*n+(1+3*e+3*r-3*s)*a+s*i)/6}wt(kt,Bt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Lt,formatHex:Lt,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Qt(this).formatHsl()},formatRgb:Ot,toString:Ot}),wt(Xt,Wt,_t(kt,{brighter(e){return e=null==e?Nt:Math.pow(Nt,e),new Xt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?At:Math.pow(At,e),new Xt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xt($t(this.r),$t(this.g),$t(this.b),Kt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ht,formatHex:Ht,formatHex8:function(){return"#".concat(Yt(this.r)).concat(Yt(this.g)).concat(Yt(this.b)).concat(Yt(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Ut,toString:Ut})),wt(Zt,(function(e,t,n,a){return 1===arguments.length?Qt(e):new Zt(e,t,n,null==a?1:a)}),_t(kt,{brighter(e){return e=null==e?Nt:Math.pow(Nt,e),new Zt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?At:Math.pow(At,e),new Zt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,i=2*n-a;return new Xt(tn(e>=240?e-240:e+120,i,a),tn(e,i,a),tn(e<120?e+240:e-120,i,a),this.opacity)},clamp(){return new Zt(Jt(this.h),en(this.s),en(this.l),Kt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kt(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Jt(this.h),", ").concat(100*en(this.s),"%, ").concat(100*en(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const an=e=>()=>e;function rn(e,t){return function(n){return e+n*t}}function sn(e){return 1===(e=+e)?ln:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}(t,n,e):an(isNaN(t)?n:t)}}function ln(e,t){var n=t-e;return n?rn(e,n):an(isNaN(e)?t:e)}const on=function e(t){var n=sn(t);function a(e,t){var a=n((e=Wt(e)).r,(t=Wt(t)).r),i=n(e.g,t.g),r=n(e.b,t.b),s=ln(e.opacity,t.opacity);return function(t){return e.r=a(t),e.g=i(t),e.b=r(t),e.opacity=s(t),e+""}}return a.gamma=e,a}(1);function cn(e){return function(t){var n,a,i=t.length,r=new Array(i),s=new Array(i),l=new Array(i);for(n=0;n<i;++n)a=Wt(t[n]),r[n]=a.r||0,s[n]=a.g||0,l[n]=a.b||0;return r=e(r),s=e(s),l=e(l),a.opacity=1,function(e){return a.r=r(e),a.g=s(e),a.b=l(e),a+""}}}var hn=cn((function(e){var t=e.length-1;return function(n){var a=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[a],r=e[a+1],s=a>0?e[a-1]:2*i-r,l=a<t-1?e[a+2]:2*r-i;return nn((n-a/t)*t,s,i,r,l)}})),dn=(cn((function(e){var t=e.length;return function(n){var a=Math.floor(((n%=1)<0?++n:n)*t),i=e[(a+t-1)%t],r=e[a%t],s=e[(a+1)%t],l=e[(a+2)%t];return nn((n-a/t)*t,i,r,s,l)}})),/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g),un=new RegExp(dn.source,"g");function pn(e,t){var n,a,i,r=dn.lastIndex=un.lastIndex=0,s=-1,l=[],o=[];for(e+="",t+="";(n=dn.exec(e))&&(a=un.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,o.push({i:s,x:dt(n,a)})),r=un.lastIndex;return r<t.length&&(i=t.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?o[0]?function(e){return function(t){return e(t)+""}}(o[0].x):function(e){return function(){return e}}(t):(t=o.length,function(e){for(var n,a=0;a<t;++a)l[(n=o[a]).i]=n.x(e);return l.join("")})}function fn(e,t){var n;return("number"===typeof t?dt:t instanceof Bt?on:(n=Bt(t))?(t=n,on):pn)(e,t)}function mn(e){return function(){this.removeAttribute(e)}}function xn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gn(e,t,n){var a,i,r=n+"";return function(){var s=this.getAttribute(e);return s===r?null:s===a?i:i=t(a=s,n)}}function yn(e,t,n){var a,i,r=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===r?null:s===a?i:i=t(a=s,n)}}function bn(e,t,n){var a,i,r;return function(){var s,l,o=n(this);if(null!=o)return(s=this.getAttribute(e))===(l=o+"")?null:s===a&&l===i?r:(i=l,r=t(a=s,o));this.removeAttribute(e)}}function vn(e,t,n){var a,i,r;return function(){var s,l,o=n(this);if(null!=o)return(s=this.getAttributeNS(e.space,e.local))===(l=o+"")?null:s===a&&l===i?r:(i=l,r=t(a=s,o));this.removeAttributeNS(e.space,e.local)}}function jn(e,t){var n,a;function i(){var i=t.apply(this,arguments);return i!==a&&(n=(a=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function wn(e,t){var n,a;function i(){var i=t.apply(this,arguments);return i!==a&&(n=(a=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function _n(e,t){return function(){ot(this,e).delay=+t.apply(this,arguments)}}function kn(e,t){return t=+t,function(){ot(this,e).delay=t}}function An(e,t){return function(){ct(this,e).duration=+t.apply(this,arguments)}}function Nn(e,t){return t=+t,function(){ct(this,e).duration=t}}var Sn=Ie.prototype.constructor;function Tn(e){return function(){this.style.removeProperty(e)}}var Cn=0;function Mn(e,t,n,a){this._groups=e,this._parents=t,this._name=n,this._id=a}function En(){return++Cn}var Pn=Ie.prototype;Mn.prototype=function(e){return Ie().transition(e)}.prototype={constructor:Mn,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=_(e));for(var a=this._groups,i=a.length,r=new Array(i),s=0;s<i;++s)for(var l,o,c=a[s],h=c.length,d=r[s]=new Array(h),u=0;u<h;++u)(l=c[u])&&(o=e.call(l,l.__data__,u,c))&&("__data__"in l&&(o.__data__=l.__data__),d[u]=o,lt(d[u],t,n,u,d,ht(l,n)));return new Mn(r,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=A(e));for(var a=this._groups,i=a.length,r=[],s=[],l=0;l<i;++l)for(var o,c=a[l],h=c.length,d=0;d<h;++d)if(o=c[d]){for(var u,p=e.call(o,o.__data__,d,c),f=ht(o,n),m=0,x=p.length;m<x;++m)(u=p[m])&&lt(u,t,n,m,p,f);r.push(p),s.push(o)}return new Mn(r,s,t,n)},selectChild:Pn.selectChild,selectChildren:Pn.selectChildren,filter:function(e){"function"!==typeof e&&(e=S(e));for(var t=this._groups,n=t.length,a=new Array(n),i=0;i<n;++i)for(var r,s=t[i],l=s.length,o=a[i]=[],c=0;c<l;++c)(r=s[c])&&e.call(r,r.__data__,c,s)&&o.push(r);return new Mn(a,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,a=t.length,i=n.length,r=Math.min(a,i),s=new Array(a),l=0;l<r;++l)for(var o,c=t[l],h=n[l],d=c.length,u=s[l]=new Array(d),p=0;p<d;++p)(o=c[p]||h[p])&&(u[p]=o);for(;l<a;++l)s[l]=t[l];return new Mn(s,this._parents,this._name,this._id)},selection:function(){return new Sn(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=En(),a=this._groups,i=a.length,r=0;r<i;++r)for(var s,l=a[r],o=l.length,c=0;c<o;++c)if(s=l[c]){var h=ht(s,t);lt(s,e,n,c,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Mn(a,this._parents,e,n)},call:Pn.call,nodes:Pn.nodes,node:Pn.node,size:Pn.size,empty:Pn.empty,each:Pn.each,on:function(e,t){var n=this._id;return arguments.length<2?ht(this.node(),n).on.on(e):this.each(function(e,t,n){var a,i,r=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?ot:ct;return function(){var s=r(this,e),l=s.on;l!==a&&(i=(a=l).copy()).on(t,n),s.on=i}}(n,e,t))},attr:function(e,t){var n=V(e),a="transform"===n?yt:fn;return this.attrTween(e,"function"===typeof t?(n.local?vn:bn)(n,a,jt(this,"attr."+e,t)):null==t?(n.local?xn:mn)(n):(n.local?yn:gn)(n,a,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var a=V(e);return this.tween(n,(a.local?jn:wn)(a,t))},style:function(e,t,n){var a="transform"===(e+="")?gt:fn;return null==t?this.styleTween(e,function(e,t){var n,a,i;return function(){var r=J(this,e),s=(this.style.removeProperty(e),J(this,e));return r===s?null:r===n&&s===a?i:i=t(n=r,a=s)}}(e,a)).on("end.style."+e,Tn(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var a,i,r;return function(){var s=J(this,e),l=n(this),o=l+"";return null==l&&(this.style.removeProperty(e),o=l=J(this,e)),s===o?null:s===a&&o===i?r:(i=o,r=t(a=s,l))}}(e,a,jt(this,"style."+e,t))).each(function(e,t){var n,a,i,r,s="style."+t,l="end."+s;return function(){var o=ct(this,e),c=o.on,h=null==o.value[s]?r||(r=Tn(t)):void 0;c===n&&i===h||(a=(n=c).copy()).on(l,i=h),o.on=a}}(this._id,e)):this.styleTween(e,function(e,t,n){var a,i,r=n+"";return function(){var s=J(this,e);return s===r?null:s===a?i:i=t(a=s,n)}}(e,a,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==t)return this.tween(a,null);if("function"!==typeof t)throw new Error;return this.tween(a,function(e,t,n){var a,i;function r(){var r=t.apply(this,arguments);return r!==i&&(a=(i=r)&&function(e,t,n){return function(a){this.style.setProperty(e,t.call(this,a),n)}}(e,r,n)),a}return r._value=t,r}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(jt(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function a(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&function(e){return function(t){this.textContent=e.call(this,t)}}(a)),t}return a._value=e,a}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var a,i=ht(this.node(),n).tween,r=0,s=i.length;r<s;++r)if((a=i[r]).name===e)return a.value;return null}return this.each((null==t?bt:vt)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?_n:kn)(t,e)):ht(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?An:Nn)(t,e)):ht(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){ct(this,e).ease=t}}(t,e)):ht(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;ct(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,a=n._id,i=n.size();return new Promise((function(r,s){var l={value:s},o={value:function(){0===--i&&r()}};n.each((function(){var n=ct(this,a),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(o)),n.on=t})),0===i&&r()}))},[Symbol.iterator]:Pn[Symbol.iterator]};var Rn={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function In(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}Ie.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,a,i,r=e.__transition,s=!0;if(r){for(i in t=null==t?null:t+"",r)(n=r[i]).name===t?(a=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[i]):s=!1;s&&delete e.__transition}}(this,e)}))},Ie.prototype.transition=function(e){var t,n;e instanceof Mn?(t=e._id,e=e._name):(t=En(),(n=Rn).time=Qe(),e=null==e?null:e+"");for(var a=this._groups,i=a.length,r=0;r<i;++r)for(var s,l=a[r],o=l.length,c=0;c<o;++c)(s=l[c])&&lt(s,e,t,c,l,n||In(s,t));return new Mn(a,this._parents,e,t)};const{abs:Fn,max:Dn,min:qn}=Math;function Ln(e){return[+e[0],+e[1]]}function On(e){return[Ln(e[0]),Ln(e[1])]}["w","e"].map(Bn),["n","s"].map(Bn),["n","w","e","s","nw","ne","sw","se"].map(Bn);function Bn(e){return{type:e}}function zn(e){return"string"===typeof e?new Pe([[document.querySelector(e)]],[document.documentElement]):new Pe([[e]],Ee)}function Vn(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var a=n.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,[(a=a.matrixTransform(t.getScreenCTM().inverse())).x,a.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const Wn={passive:!1},Xn={capture:!0,passive:!1};function Hn(e){e.stopImmediatePropagation()}function Un(e){e.preventDefault(),e.stopImmediatePropagation()}const Kn=e=>()=>e;function $n(e,t){let{sourceEvent:n,subject:a,target:i,identifier:r,active:s,x:l,y:o,dx:c,dy:h,dispatch:d}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:a,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:d}})}function Yn(e){return!e.ctrlKey&&!e.button}function Gn(){return this.parentNode}function Qn(e,t){return null==t?{x:e.x,y:e.y}:t}function Zn(){return navigator.maxTouchPoints||"ontouchstart"in this}function Jn(){var e,t,n,a,i=Yn,r=Gn,s=Qn,l=Zn,o={},c=Be("start","drag","end"),h=0,d=0;function u(e){e.on("mousedown.drag",p).filter(l).on("touchstart.drag",x).on("touchmove.drag",g,Wn).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(s,l){if(!a&&i.call(this,s,l)){var o=b(this,r.call(this,s,l),s,l,"mouse");o&&(zn(s.view).on("mousemove.drag",f,Xn).on("mouseup.drag",m,Xn),function(e){var t=e.document.documentElement,n=zn(e).on("dragstart.drag",Un,Xn);"onselectstart"in t?n.on("selectstart.drag",Un,Xn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}(s.view),Hn(s),n=!1,e=s.clientX,t=s.clientY,o("start",s))}}function f(a){if(Un(a),!n){var i=a.clientX-e,r=a.clientY-t;n=i*i+r*r>d}o.mouse("drag",a)}function m(e){zn(e.view).on("mousemove.drag mouseup.drag",null),function(e,t){var n=e.document.documentElement,a=zn(e).on("dragstart.drag",null);t&&(a.on("click.drag",Un,Xn),setTimeout((function(){a.on("click.drag",null)}),0)),"onselectstart"in n?a.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(e.view,n),Un(e),o.mouse("end",e)}function x(e,t){if(i.call(this,e,t)){var n,a,s=e.changedTouches,l=r.call(this,e,t),o=s.length;for(n=0;n<o;++n)(a=b(this,l,e,t,s[n].identifier,s[n]))&&(Hn(e),a("start",e,s[n]))}}function g(e){var t,n,a=e.changedTouches,i=a.length;for(t=0;t<i;++t)(n=o[a[t].identifier])&&(Un(e),n("drag",e,a[t]))}function y(e){var t,n,i=e.changedTouches,r=i.length;for(a&&clearTimeout(a),a=setTimeout((function(){a=null}),500),t=0;t<r;++t)(n=o[i[t].identifier])&&(Hn(e),n("end",e,i[t]))}function b(e,t,n,a,i,r){var l,d,p,f=c.copy(),m=Vn(r||n,t);if(null!=(p=s.call(e,new $n("beforestart",{sourceEvent:n,target:u,identifier:i,active:h,x:m[0],y:m[1],dx:0,dy:0,dispatch:f}),a)))return l=p.x-m[0]||0,d=p.y-m[1]||0,function n(r,s,c){var x,g=m;switch(r){case"start":o[i]=n,x=h++;break;case"end":delete o[i],--h;case"drag":m=Vn(c||s,t),x=h}f.call(r,e,new $n(r,{sourceEvent:s,subject:p,target:u,identifier:i,active:x,x:m[0]+l,y:m[1]+d,dx:m[0]-g[0],dy:m[1]-g[1],dispatch:f}),a)}}return u.filter=function(e){return arguments.length?(i="function"===typeof e?e:Kn(!!e),u):i},u.container=function(e){return arguments.length?(r="function"===typeof e?e:Kn(e),u):r},u.subject=function(e){return arguments.length?(s="function"===typeof e?e:Kn(e),u):s},u.touchable=function(e){return arguments.length?(l="function"===typeof e?e:Kn(!!e),u):l},u.on=function(){var e=c.on.apply(c,arguments);return e===c?u:e},u.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,u):Math.sqrt(d)},u}$n.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};const ea=e=>+e;function ta(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function na(e,t){return fetch(e,t).then(ta)}function aa(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function ia(e){return(e=aa(Math.abs(e)))?e[1]:NaN}var ra,sa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function la(e){if(!(t=sa.exec(e)))throw new Error("invalid format: "+e);var t;return new oa({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function oa(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function ca(e,t){var n=aa(e,t);if(!n)return e+"";var a=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+new Array(i-a.length+2).join("0")}la.prototype=oa.prototype,oa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ha={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ca(100*e,t),r:ca,s:function(e,t){var n=aa(e,t);if(!n)return e+"";var a=n[0],i=n[1],r=i-(ra=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=a.length;return r===s?a:r>s?a+new Array(r-s+1).join("0"):r>0?a.slice(0,r)+"."+a.slice(r):"0."+new Array(1-r).join("0")+aa(e,Math.max(0,t+r-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function da(e){return e}var ua,pa,fa,ma=Array.prototype.map,xa=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function ga(e){var t,n,a=void 0===e.grouping||void 0===e.thousands?da:(t=ma.call(e.grouping,Number),n=e.thousands+"",function(e,a){for(var i=e.length,r=[],s=0,l=t[0],o=0;i>0&&l>0&&(o+l+1>a&&(l=Math.max(1,a-o)),r.push(e.substring(i-=l,i+l)),!((o+=l+1)>a));)l=t[s=(s+1)%t.length];return r.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",r=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",l=void 0===e.numerals?da:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(ma.call(e.numerals,String)),o=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",h=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=la(e)).fill,n=e.align,d=e.sign,u=e.symbol,p=e.zero,f=e.width,m=e.comma,x=e.precision,g=e.trim,y=e.type;"n"===y?(m=!0,y="g"):ha[y]||(void 0===x&&(x=12),g=!0,y="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var b="$"===u?i:"#"===u&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",v="$"===u?r:/[%p]/.test(y)?o:"",j=ha[y],w=/[defgprs%]/.test(y);function _(e){var i,r,o,u=b,_=v;if("c"===y)_=j(e)+_,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?h:j(Math.abs(e),x),g&&(e=function(e){e:for(var t,n=e.length,a=1,i=-1;a<n;++a)switch(e[a]){case".":i=t=a;break;case"0":0===i&&(i=a),t=a;break;default:if(!+e[a])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==d&&(k=!1),u=(k?"("===d?d:c:"-"===d||"("===d?"":d)+u,_=("s"===y?xa[8+ra/3]:"")+_+(k&&"("===d?")":""),w)for(i=-1,r=e.length;++i<r;)if(48>(o=e.charCodeAt(i))||o>57){_=(46===o?s+e.slice(i+1):e.slice(i))+_,e=e.slice(0,i);break}}m&&!p&&(e=a(e,1/0));var A=u.length+e.length+_.length,N=A<f?new Array(f-A+1).join(t):"";switch(m&&p&&(e=a(N+e,N.length?f-_.length:1/0),N=""),n){case"<":e=u+e+_+N;break;case"=":e=u+N+e+_;break;case"^":e=N.slice(0,A=N.length>>1)+u+e+_+N.slice(A);break;default:e=N+u+e+_}return l(e)}return x=void 0===x?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),_.toString=function(){return e+""},_}return{format:d,formatPrefix:function(e,t){var n=d(((e=la(e)).type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor(ia(t)/3))),i=Math.pow(10,-a),r=xa[8+a/3];return function(e){return n(i*e)+r}}}}ua=ga({thousands:",",grouping:[3],currency:["$",""]}),pa=ua.format,fa=ua.formatPrefix;const ya=e=>e;function ba(e,t){e&&ja.hasOwnProperty(e.type)&&ja[e.type](e,t)}var va={Feature:function(e,t){ba(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,a=-1,i=n.length;++a<i;)ba(n[a].geometry,t)}},ja={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,a=-1,i=n.length;++a<i;)e=n[a],t.point(e[0],e[1],e[2])},LineString:function(e,t){wa(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,a=-1,i=n.length;++a<i;)wa(n[a],t,0)},Polygon:function(e,t){_a(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,a=-1,i=n.length;++a<i;)_a(n[a],t)},GeometryCollection:function(e,t){for(var n=e.geometries,a=-1,i=n.length;++a<i;)ba(n[a],t)}};function wa(e,t,n){var a,i=-1,r=e.length-n;for(t.lineStart();++i<r;)a=e[i],t.point(a[0],a[1],a[2]);t.lineEnd()}function _a(e,t){var n=-1,a=e.length;for(t.polygonStart();++n<a;)wa(e[n],t,1);t.polygonEnd()}function ka(e,t){e&&va.hasOwnProperty(e.type)?va[e.type](e,t):ba(e,t)}class Aa{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let a=0;a<this._n&&a<32;a++){const i=t[a],r=e+i,s=Math.abs(e)<Math.abs(i)?e-(r-i):i-(r-e);s&&(t[n++]=s),e=r}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,a,i=this._n,r=0;if(i>0){for(r=e[--i];i>0&&(t=r,n=e[--i],r=t+n,a=n-(r-t),!a););i>0&&(a<0&&e[i-1]<0||a>0&&e[i-1]>0)&&(n=2*a,t=r+n,n==t-r&&(r=t))}return r}}var Na=1e-6,Sa=1e-12,Ta=Math.PI,Ca=Ta/2,Ma=Ta/4,Ea=2*Ta,Pa=180/Ta,Ra=Ta/180,Ia=Math.abs,Fa=Math.atan,Da=Math.atan2,qa=Math.cos,La=(Math.ceil,Math.exp,Math.floor,Math.hypot,Math.log,Math.pow,Math.sin),Oa=Math.sign||function(e){return e>0?1:e<0?-1:0},Ba=Math.sqrt;Math.tan;function za(e){return e>1?Ca:e<-1?-Ca:Math.asin(e)}function Va(){}var Wa,Xa,Ha,Ua,Ka=new Aa,$a=new Aa,Ya={point:Va,lineStart:Va,lineEnd:Va,polygonStart:function(){Ya.lineStart=Ga,Ya.lineEnd=Ja},polygonEnd:function(){Ya.lineStart=Ya.lineEnd=Ya.point=Va,Ka.add(Ia($a)),$a=new Aa},result:function(){var e=Ka/2;return Ka=new Aa,e}};function Ga(){Ya.point=Qa}function Qa(e,t){Ya.point=Za,Wa=Ha=e,Xa=Ua=t}function Za(e,t){$a.add(Ua*e-Ha*t),Ha=e,Ua=t}function Ja(){Za(Wa,Xa)}const ei=Ya;var ti=1/0,ni=ti,ai=-ti,ii=ai,ri={point:function(e,t){e<ti&&(ti=e);e>ai&&(ai=e);t<ni&&(ni=t);t>ii&&(ii=t)},lineStart:Va,lineEnd:Va,polygonStart:Va,polygonEnd:Va,result:function(){var e=[[ti,ni],[ai,ii]];return ai=ii=-(ni=ti=1/0),e}};const si=ri;var li,oi,ci,hi,di=0,ui=0,pi=0,fi=0,mi=0,xi=0,gi=0,yi=0,bi=0,vi={point:ji,lineStart:wi,lineEnd:Ai,polygonStart:function(){vi.lineStart=Ni,vi.lineEnd=Si},polygonEnd:function(){vi.point=ji,vi.lineStart=wi,vi.lineEnd=Ai},result:function(){var e=bi?[gi/bi,yi/bi]:xi?[fi/xi,mi/xi]:pi?[di/pi,ui/pi]:[NaN,NaN];return di=ui=pi=fi=mi=xi=gi=yi=bi=0,e}};function ji(e,t){di+=e,ui+=t,++pi}function wi(){vi.point=_i}function _i(e,t){vi.point=ki,ji(ci=e,hi=t)}function ki(e,t){var n=e-ci,a=t-hi,i=Ba(n*n+a*a);fi+=i*(ci+e)/2,mi+=i*(hi+t)/2,xi+=i,ji(ci=e,hi=t)}function Ai(){vi.point=ji}function Ni(){vi.point=Ti}function Si(){Ci(li,oi)}function Ti(e,t){vi.point=Ci,ji(li=ci=e,oi=hi=t)}function Ci(e,t){var n=e-ci,a=t-hi,i=Ba(n*n+a*a);fi+=i*(ci+e)/2,mi+=i*(hi+t)/2,xi+=i,gi+=(i=hi*e-ci*t)*(ci+e),yi+=i*(hi+t),bi+=3*i,ji(ci=e,hi=t)}const Mi=vi;function Ei(e){this._context=e}Ei.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Ea)}},result:Va};var Pi,Ri,Ii,Fi,Di,qi=new Aa,Li={point:Va,lineStart:function(){Li.point=Oi},lineEnd:function(){Pi&&Bi(Ri,Ii),Li.point=Va},polygonStart:function(){Pi=!0},polygonEnd:function(){Pi=null},result:function(){var e=+qi;return qi=new Aa,e}};function Oi(e,t){Li.point=Bi,Ri=Fi=e,Ii=Di=t}function Bi(e,t){Fi-=e,Di-=t,qi.add(Ba(Fi*Fi+Di*Di)),Fi=e,Di=t}const zi=Li;function Vi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Wi,Xi,Hi,Ui;let Ki,$i,Yi,Gi;class Qi{constructor(e){this._append=null==e?Zi:function(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError("invalid digits: ".concat(e));if(t>15)return Zi;if(t!==Ki){const e=10**t;Ki=t,$i=function(t){let n=1;this._+=t[0];for(const a=t.length;n<a;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}return $i}(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(e,t){switch(this._point){case 0:this._append(Wi||(Wi=Vi(["M",",",""])),e,t),this._point=1;break;case 1:this._append(Xi||(Xi=Vi(["L",",",""])),e,t);break;default:if(this._append(Hi||(Hi=Vi(["M",",",""])),e,t),this._radius!==Yi||this._append!==$i){const e=this._radius,t=this._;this._="",this._append(Ui||(Ui=Vi(["m0,","a",","," 0 1,1 0,","a",","," 0 1,1 0,","z"])),e,e,e,-2*e,e,e,2*e),Yi=e,$i=this._append,Gi=this._,this._=t}this._+=Gi}}result(){const e=this._;return this._="",e.length?e:null}}function Zi(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Ji(e,t){let n,a,i=3,r=4.5;function s(e){return e&&("function"===typeof r&&a.pointRadius(+r.apply(this,arguments)),ka(e,n(a))),a.result()}return s.area=function(e){return ka(e,n(ei)),ei.result()},s.measure=function(e){return ka(e,n(zi)),zi.result()},s.bounds=function(e){return ka(e,n(si)),si.result()},s.centroid=function(e){return ka(e,n(Mi)),Mi.result()},s.projection=function(t){return arguments.length?(n=null==t?(e=null,ya):(e=t).stream,s):e},s.context=function(e){return arguments.length?(a=null==e?(t=null,new Qi(i)):new Ei(t=e),"function"!==typeof r&&a.pointRadius(r),s):t},s.pointRadius=function(e){return arguments.length?(r="function"===typeof e?e:(a.pointRadius(+e),+e),s):r},s.digits=function(e){if(!arguments.length)return i;if(null==e)i=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError("invalid digits: ".concat(e));i=t}return null===t&&(a=new Qi(i)),s},s.projection(e).digits(i).context(t)}function er(){var e,t=[];return{point:function(t,n,a){e.push([t,n,a])},lineStart:function(){t.push(e=[])},lineEnd:Va,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function tr(e,t){return Ia(e[0]-t[0])<Na&&Ia(e[1]-t[1])<Na}function nr(e,t,n,a){this.x=e,this.z=t,this.o=n,this.e=a,this.v=!1,this.n=this.p=null}function ar(e,t,n,a,i){var r,s,l=[],o=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,a=e[0],s=e[t];if(tr(a,s)){if(!a[2]&&!s[2]){for(i.lineStart(),r=0;r<t;++r)i.point((a=e[r])[0],a[1]);return void i.lineEnd()}s[0]+=2*Na}l.push(n=new nr(a,e,null,!0)),o.push(n.o=new nr(a,null,n,!1)),l.push(n=new nr(s,e,null,!1)),o.push(n.o=new nr(s,null,n,!0))}})),l.length){for(o.sort(t),ir(l),ir(o),r=0,s=o.length;r<s;++r)o[r].e=n=!n;for(var c,h,d=l[0];;){for(var u=d,p=!0;u.v;)if((u=u.n)===d)return;c=u.z,i.lineStart();do{if(u.v=u.o.v=!0,u.e){if(p)for(r=0,s=c.length;r<s;++r)i.point((h=c[r])[0],h[1]);else a(u.x,u.n.x,1,i);u=u.n}else{if(p)for(c=u.p.z,r=c.length-1;r>=0;--r)i.point((h=c[r])[0],h[1]);else a(u.x,u.p.x,-1,i);u=u.p}c=(u=u.o).z,p=!p}while(!u.v);i.lineEnd()}}}function ir(e){if(t=e.length){for(var t,n,a=0,i=e[0];++a<t;)i.n=n=e[a],n.p=i,i=n;i.n=n=e[0],n.p=i}}function rr(e){return[Da(e[1],e[0]),za(e[2])]}function sr(e){var t=e[0],n=e[1],a=qa(n);return[a*qa(t),a*La(t),La(n)]}function lr(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function or(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function cr(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function hr(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function dr(e){var t=Ba(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function ur(e){return Ia(e[0])<=Ta?e[0]:Oa(e[0])*((Ia(e[0])+Ta)%Ea-Ta)}function pr(e){return Array.from(function*(e){for(const t of e)yield*t}(e))}function fr(e,t,n,a){return function(i){var r,s,l,o=t(i),c=er(),h=t(c),d=!1,u={point:p,lineStart:m,lineEnd:x,polygonStart:function(){u.point=g,u.lineStart=y,u.lineEnd=b,s=[],r=[]},polygonEnd:function(){u.point=p,u.lineStart=m,u.lineEnd=x,s=pr(s);var e=function(e,t){var n=ur(t),a=t[1],i=La(a),r=[La(n),-qa(n),0],s=0,l=0,o=new Aa;1===i?a=Ca+Na:-1===i&&(a=-Ca-Na);for(var c=0,h=e.length;c<h;++c)if(u=(d=e[c]).length)for(var d,u,p=d[u-1],f=ur(p),m=p[1]/2+Ma,x=La(m),g=qa(m),y=0;y<u;++y,f=v,x=w,g=_,p=b){var b=d[y],v=ur(b),j=b[1]/2+Ma,w=La(j),_=qa(j),k=v-f,A=k>=0?1:-1,N=A*k,S=N>Ta,T=x*w;if(o.add(Da(T*A*La(N),g*_+T*qa(N))),s+=S?k+A*Ea:k,S^f>=n^v>=n){var C=or(sr(p),sr(b));dr(C);var M=or(r,C);dr(M);var E=(S^k>=0?-1:1)*za(M[2]);(a>E||a===E&&(C[0]||C[1]))&&(l+=S^k>=0?1:-1)}}return(s<-Na||s<Na&&o<-Sa)^1&l}(r,a);s.length?(d||(i.polygonStart(),d=!0),ar(s,xr,e,n,i)):e&&(d||(i.polygonStart(),d=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),d&&(i.polygonEnd(),d=!1),s=r=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(t,n){e(t,n)&&i.point(t,n)}function f(e,t){o.point(e,t)}function m(){u.point=f,o.lineStart()}function x(){u.point=p,o.lineEnd()}function g(e,t){l.push([e,t]),h.point(e,t)}function y(){h.lineStart(),l=[]}function b(){g(l[0][0],l[0][1]),h.lineEnd();var e,t,n,a,o=h.clean(),u=c.result(),p=u.length;if(l.pop(),r.push(l),l=null,p)if(1&o){if((t=(n=u[0]).length-1)>0){for(d||(i.polygonStart(),d=!0),i.lineStart(),e=0;e<t;++e)i.point((a=n[e])[0],a[1]);i.lineEnd()}}else p>1&&2&o&&u.push(u.pop().concat(u.shift())),s.push(u.filter(mr))}return u}}function mr(e){return e.length>1}function xr(e,t){return((e=e.x)[0]<0?e[1]-Ca-Na:Ca-e[1])-((t=t.x)[0]<0?t[1]-Ca-Na:Ca-t[1])}const gr=fr((function(){return!0}),(function(e){var t,n=NaN,a=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(r,s){var l=r>0?Ta:-Ta,o=Ia(r-n);Ia(o-Ta)<Na?(e.point(n,a=(a+s)/2>0?Ca:-Ca),e.point(i,a),e.lineEnd(),e.lineStart(),e.point(l,a),e.point(r,a),t=0):i!==l&&o>=Ta&&(Ia(n-i)<Na&&(n-=i*Na),Ia(r-l)<Na&&(r-=l*Na),a=function(e,t,n,a){var i,r,s=La(e-n);return Ia(s)>Na?Fa((La(t)*(r=qa(a))*La(n)-La(a)*(i=qa(t))*La(e))/(i*r*s)):(t+a)/2}(n,a,r,s),e.point(i,a),e.lineEnd(),e.lineStart(),e.point(l,a),t=0),e.point(n=r,a=s),i=l},lineEnd:function(){e.lineEnd(),n=a=NaN},clean:function(){return 2-t}}}),(function(e,t,n,a){var i;if(null==e)i=n*Ca,a.point(-Ta,i),a.point(0,i),a.point(Ta,i),a.point(Ta,0),a.point(Ta,-i),a.point(0,-i),a.point(-Ta,-i),a.point(-Ta,0),a.point(-Ta,i);else if(Ia(e[0]-t[0])>Na){var r=e[0]<t[0]?Ta:-Ta;i=n*r/2,a.point(-r,i),a.point(0,i),a.point(r,i)}else a.point(t[0],t[1])}),[-Ta,-Ca]);function yr(e,t,n,a,i,r){if(n){var s=qa(t),l=La(t),o=a*n;null==i?(i=t+a*Ea,r=t-o/2):(i=br(s,i),r=br(s,r),(a>0?i<r:i>r)&&(i+=a*Ea));for(var c,h=i;a>0?h>r:h<r;h-=o)c=rr([s,-l*qa(h),-l*La(h)]),e.point(c[0],c[1])}}function br(e,t){(t=sr(t))[0]-=e,dr(t);var n,a=(n=-t[1])>1?0:n<-1?Ta:Math.acos(n);return((-t[2]<0?-a:a)+Ea-Na)%Ea}var vr=1e9,jr=-vr;function wr(e,t,n,a){function i(i,r){return e<=i&&i<=n&&t<=r&&r<=a}function r(i,r,l,c){var h=0,d=0;if(null==i||(h=s(i,l))!==(d=s(r,l))||o(i,r)<0^l>0)do{c.point(0===h||3===h?e:n,h>1?a:t)}while((h=(h+l+4)%4)!==d);else c.point(r[0],r[1])}function s(a,i){return Ia(a[0]-e)<Na?i>0?0:3:Ia(a[0]-n)<Na?i>0?2:1:Ia(a[1]-t)<Na?i>0?1:0:i>0?3:2}function l(e,t){return o(e.x,t.x)}function o(e,t){var n=s(e,1),a=s(t,1);return n!==a?n-a:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(s){var o,c,h,d,u,p,f,m,x,g,y,b=s,v=er(),j={point:w,lineStart:function(){j.point=_,c&&c.push(h=[]);g=!0,x=!1,f=m=NaN},lineEnd:function(){o&&(_(d,u),p&&x&&v.rejoin(),o.push(v.result()));j.point=w,x&&b.lineEnd()},polygonStart:function(){b=v,o=[],c=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=c.length;n<i;++n)for(var r,s,l=c[n],o=1,h=l.length,d=l[0],u=d[0],p=d[1];o<h;++o)r=u,s=p,u=(d=l[o])[0],p=d[1],s<=a?p>a&&(u-r)*(a-s)>(p-s)*(e-r)&&++t:p<=a&&(u-r)*(a-s)<(p-s)*(e-r)&&--t;return t}(),n=y&&t,i=(o=pr(o)).length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),r(null,null,1,s),s.lineEnd()),i&&ar(o,l,t,r,s),s.polygonEnd());b=s,o=c=h=null}};function w(e,t){i(e,t)&&b.point(e,t)}function _(r,s){var l=i(r,s);if(c&&h.push([r,s]),g)d=r,u=s,p=l,g=!1,l&&(b.lineStart(),b.point(r,s));else if(l&&x)b.point(r,s);else{var o=[f=Math.max(jr,Math.min(vr,f)),m=Math.max(jr,Math.min(vr,m))],v=[r=Math.max(jr,Math.min(vr,r)),s=Math.max(jr,Math.min(vr,s))];!function(e,t,n,a,i,r){var s,l=e[0],o=e[1],c=0,h=1,d=t[0]-l,u=t[1]-o;if(s=n-l,d||!(s>0)){if(s/=d,d<0){if(s<c)return;s<h&&(h=s)}else if(d>0){if(s>h)return;s>c&&(c=s)}if(s=i-l,d||!(s<0)){if(s/=d,d<0){if(s>h)return;s>c&&(c=s)}else if(d>0){if(s<c)return;s<h&&(h=s)}if(s=a-o,u||!(s>0)){if(s/=u,u<0){if(s<c)return;s<h&&(h=s)}else if(u>0){if(s>h)return;s>c&&(c=s)}if(s=r-o,u||!(s<0)){if(s/=u,u<0){if(s>h)return;s>c&&(c=s)}else if(u>0){if(s<c)return;s<h&&(h=s)}return c>0&&(e[0]=l+c*d,e[1]=o+c*u),h<1&&(t[0]=l+h*d,t[1]=o+h*u),!0}}}}}(o,v,e,t,n,a)?l&&(b.lineStart(),b.point(r,s),y=!1):(x||(b.lineStart(),b.point(o[0],o[1])),b.point(v[0],v[1]),l||b.lineEnd(),y=!1)}f=r,m=s,x=l}return j}}function _r(e,t){function n(n,a){return n=e(n,a),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,a){return(n=t.invert(n,a))&&e.invert(n[0],n[1])}),n}function kr(e,t){return Ia(e)>Ta&&(e-=Math.round(e/Ea)*Ea),[e,t]}function Ar(e,t,n){return(e%=Ea)?t||n?_r(Sr(e),Tr(t,n)):Sr(e):t||n?Tr(t,n):kr}function Nr(e){return function(t,n){return Ia(t+=e)>Ta&&(t-=Math.round(t/Ea)*Ea),[t,n]}}function Sr(e){var t=Nr(e);return t.invert=Nr(-e),t}function Tr(e,t){var n=qa(e),a=La(e),i=qa(t),r=La(t);function s(e,t){var s=qa(t),l=qa(e)*s,o=La(e)*s,c=La(t),h=c*n+l*a;return[Da(o*i-h*r,l*n-c*a),za(h*i+o*r)]}return s.invert=function(e,t){var s=qa(t),l=qa(e)*s,o=La(e)*s,c=La(t),h=c*i-o*r;return[Da(o*i+c*r,l*n+h*a),za(h*n-l*a)]},s}function Cr(e){return function(t){var n=new Mr;for(var a in e)n[a]=e[a];return n.stream=t,n}}function Mr(){}function Er(e,t,n){var a=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=a&&e.clipExtent(null),ka(n,e.stream(si)),t(si.result()),null!=a&&e.clipExtent(a),e}function Pr(e,t,n){return Er(e,(function(n){var a=t[1][0]-t[0][0],i=t[1][1]-t[0][1],r=Math.min(a/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),s=+t[0][0]+(a-r*(n[1][0]+n[0][0]))/2,l=+t[0][1]+(i-r*(n[1][1]+n[0][1]))/2;e.scale(150*r).translate([s,l])}),n)}function Rr(e,t,n){return Pr(e,[[0,0],t],n)}function Ir(e,t,n){return Er(e,(function(n){var a=+t,i=a/(n[1][0]-n[0][0]),r=(a-i*(n[1][0]+n[0][0]))/2,s=-i*n[0][1];e.scale(150*i).translate([r,s])}),n)}function Fr(e,t,n){return Er(e,(function(n){var a=+t,i=a/(n[1][1]-n[0][1]),r=-i*n[0][0],s=(a-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([r,s])}),n)}kr.invert=kr,Mr.prototype={constructor:Mr,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Dr=16,qr=qa(30*Ra);function Lr(e,t){return+t?function(e,t){function n(a,i,r,s,l,o,c,h,d,u,p,f,m,x){var g=c-a,y=h-i,b=g*g+y*y;if(b>4*t&&m--){var v=s+u,j=l+p,w=o+f,_=Ba(v*v+j*j+w*w),k=za(w/=_),A=Ia(Ia(w)-1)<Na||Ia(r-d)<Na?(r+d)/2:Da(j,v),N=e(A,k),S=N[0],T=N[1],C=S-a,M=T-i,E=y*C-g*M;(E*E/b>t||Ia((g*C+y*M)/b-.5)>.3||s*u+l*p+o*f<qr)&&(n(a,i,r,s,l,o,S,T,A,v/=_,j/=_,w,m,x),x.point(S,T),n(S,T,A,v,j,w,c,h,d,u,p,f,m,x))}}return function(t){var a,i,r,s,l,o,c,h,d,u,p,f,m={point:x,lineStart:g,lineEnd:b,polygonStart:function(){t.polygonStart(),m.lineStart=v},polygonEnd:function(){t.polygonEnd(),m.lineStart=g}};function x(n,a){n=e(n,a),t.point(n[0],n[1])}function g(){h=NaN,m.point=y,t.lineStart()}function y(a,i){var r=sr([a,i]),s=e(a,i);n(h,d,c,u,p,f,h=s[0],d=s[1],c=a,u=r[0],p=r[1],f=r[2],Dr,t),t.point(h,d)}function b(){m.point=x,t.lineEnd()}function v(){g(),m.point=j,m.lineEnd=w}function j(e,t){y(a=e,t),i=h,r=d,s=u,l=p,o=f,m.point=y}function w(){n(h,d,c,u,p,f,i,r,a,s,l,o,Dr,t),m.lineEnd=b,b()}return m}}(e,t):function(e){return Cr({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var Or=Cr({point:function(e,t){this.stream.point(e*Ra,t*Ra)}});function Br(e,t,n,a,i,r){if(!r)return function(e,t,n,a,i){function r(r,s){return[t+e*(r*=a),n-e*(s*=i)]}return r.invert=function(r,s){return[(r-t)/e*a,(n-s)/e*i]},r}(e,t,n,a,i);var s=qa(r),l=La(r),o=s*e,c=l*e,h=s/e,d=l/e,u=(l*n-s*t)/e,p=(l*t+s*n)/e;function f(e,r){return[o*(e*=a)-c*(r*=i)+t,n-c*e-o*r]}return f.invert=function(e,t){return[a*(h*e-d*t+u),i*(p-d*e-h*t)]},f}function zr(e){var t,n,a,i,r,s,l,o,c,h,d=150,u=480,p=250,f=0,m=0,x=0,g=0,y=0,b=0,v=1,j=1,w=null,_=gr,k=null,A=ya,N=.5;function S(e){return o(e[0]*Ra,e[1]*Ra)}function T(e){return(e=o.invert(e[0],e[1]))&&[e[0]*Pa,e[1]*Pa]}function C(){var e=Br(d,0,0,v,j,b).apply(null,t(f,m)),a=Br(d,u-e[0],p-e[1],v,j,b);return n=Ar(x,g,y),l=_r(t,a),o=_r(n,l),s=Lr(l,N),M()}function M(){return c=h=null,S}return S.stream=function(e){return c&&h===e?c:c=Or(function(e){return Cr({point:function(t,n){var a=e(t,n);return this.stream.point(a[0],a[1])}})}(n)(_(s(A(h=e)))))},S.preclip=function(e){return arguments.length?(_=e,w=void 0,M()):_},S.postclip=function(e){return arguments.length?(A=e,k=a=i=r=null,M()):A},S.clipAngle=function(e){return arguments.length?(_=+e?function(e){var t=qa(e),n=2*Ra,a=t>0,i=Ia(t)>Na;function r(e,n){return qa(e)*qa(n)>t}function s(e,n,a){var i=[1,0,0],r=or(sr(e),sr(n)),s=lr(r,r),l=r[0],o=s-l*l;if(!o)return!a&&e;var c=t*s/o,h=-t*l/o,d=or(i,r),u=hr(i,c);cr(u,hr(r,h));var p=d,f=lr(u,p),m=lr(p,p),x=f*f-m*(lr(u,u)-1);if(!(x<0)){var g=Ba(x),y=hr(p,(-f-g)/m);if(cr(y,u),y=rr(y),!a)return y;var b,v=e[0],j=n[0],w=e[1],_=n[1];j<v&&(b=v,v=j,j=b);var k=j-v,A=Ia(k-Ta)<Na;if(!A&&_<w&&(b=w,w=_,_=b),A||k<Na?A?w+_>0^y[1]<(Ia(y[0]-v)<Na?w:_):w<=y[1]&&y[1]<=_:k>Ta^(v<=y[0]&&y[0]<=j)){var N=hr(p,(-f+g)/m);return cr(N,u),[y,rr(N)]}}}function l(t,n){var i=a?e:Ta-e,r=0;return t<-i?r|=1:t>i&&(r|=2),n<-i?r|=4:n>i&&(r|=8),r}return fr(r,(function(e){var t,n,o,c,h;return{lineStart:function(){c=o=!1,h=1},point:function(d,u){var p,f=[d,u],m=r(d,u),x=a?m?0:l(d,u):m?l(d+(d<0?Ta:-Ta),u):0;if(!t&&(c=o=m)&&e.lineStart(),m!==o&&(!(p=s(t,f))||tr(t,p)||tr(f,p))&&(f[2]=1),m!==o)h=0,m?(e.lineStart(),p=s(f,t),e.point(p[0],p[1])):(p=s(t,f),e.point(p[0],p[1],2),e.lineEnd()),t=p;else if(i&&t&&a^m){var g;x&n||!(g=s(f,t,!0))||(h=0,a?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1],3)))}!m||t&&tr(t,f)||e.point(f[0],f[1]),t=f,o=m,n=x},lineEnd:function(){o&&e.lineEnd(),t=null},clean:function(){return h|(c&&o)<<1}}}),(function(t,a,i,r){yr(r,e,n,i,t,a)}),a?[0,-e]:[-Ta,e-Ta])}(w=e*Ra):(w=null,gr),M()):w*Pa},S.clipExtent=function(e){return arguments.length?(A=null==e?(k=a=i=r=null,ya):wr(k=+e[0][0],a=+e[0][1],i=+e[1][0],r=+e[1][1]),M()):null==k?null:[[k,a],[i,r]]},S.scale=function(e){return arguments.length?(d=+e,C()):d},S.translate=function(e){return arguments.length?(u=+e[0],p=+e[1],C()):[u,p]},S.center=function(e){return arguments.length?(f=e[0]%360*Ra,m=e[1]%360*Ra,C()):[f*Pa,m*Pa]},S.rotate=function(e){return arguments.length?(x=e[0]%360*Ra,g=e[1]%360*Ra,y=e.length>2?e[2]%360*Ra:0,C()):[x*Pa,g*Pa,y*Pa]},S.angle=function(e){return arguments.length?(b=e%360*Ra,C()):b*Pa},S.reflectX=function(e){return arguments.length?(v=e?-1:1,C()):v<0},S.reflectY=function(e){return arguments.length?(j=e?-1:1,C()):j<0},S.precision=function(e){return arguments.length?(s=Lr(l,N=e*e),M()):Ba(N)},S.fitExtent=function(e,t){return Pr(S,e,t)},S.fitSize=function(e,t){return Rr(S,e,t)},S.fitWidth=function(e,t){return Ir(S,e,t)},S.fitHeight=function(e,t){return Fr(S,e,t)},function(){return t=e.apply(this,arguments),S.invert=t.invert&&T,C()}}function Vr(e,t){var n=La(e),a=(n+La(t))/2;if(Ia(a)<Na)return function(e){var t=qa(e);function n(e,n){return[e*t,La(n)/t]}return n.invert=function(e,n){return[e/t,za(n*t)]},n}(e);var i=1+n*(2*a-n),r=Ba(i)/a;function s(e,t){var n=Ba(i-2*a*La(t))/a;return[n*La(e*=a),r-n*qa(e)]}return s.invert=function(e,t){var n=r-t,s=Da(e,Ia(n))*Oa(n);return n*a<0&&(s-=Ta*Oa(e)*Oa(n)),[s/a,za((i-(e*e+n*n)*a*a)/(2*a))]},s}function Wr(){return function(e){var t=0,n=Ta/3,a=zr(e),i=a(t,n);return i.parallels=function(e){return arguments.length?a(t=e[0]*Ra,n=e[1]*Ra):[t*Pa,n*Pa]},i}(Vr).scale(155.424).center([0,33.6442])}function Xr(){var e,t,n,a,i,r,s=Wr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7]),l=Wr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=Wr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){r=[e,t]}};function h(e){var t=e[0],s=e[1];return r=null,n.point(t,s),r||(a.point(t,s),r)||(i.point(t,s),r)}function d(){return e=t=null,h}return h.invert=function(e){var t=s.scale(),n=s.translate(),a=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&a>=-.425&&a<-.214?l:i>=.166&&i<.234&&a>=-.214&&a<-.115?o:s).invert(e)},h.stream=function(n){return e&&t===n?e:e=function(e){var t=e.length;return{point:function(n,a){for(var i=-1;++i<t;)e[i].point(n,a)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}([s.stream(t=n),l.stream(n),o.stream(n)])},h.precision=function(e){return arguments.length?(s.precision(e),l.precision(e),o.precision(e),d()):s.precision()},h.scale=function(e){return arguments.length?(s.scale(e),l.scale(.35*e),o.scale(e),h.translate(s.translate())):s.scale()},h.translate=function(e){if(!arguments.length)return s.translate();var t=s.scale(),r=+e[0],h=+e[1];return n=s.translate(e).clipExtent([[r-.455*t,h-.238*t],[r+.455*t,h+.238*t]]).stream(c),a=l.translate([r-.307*t,h+.201*t]).clipExtent([[r-.425*t+Na,h+.12*t+Na],[r-.214*t-Na,h+.234*t-Na]]).stream(c),i=o.translate([r-.205*t,h+.212*t]).clipExtent([[r-.214*t+Na,h+.166*t+Na],[r-.115*t-Na,h+.234*t-Na]]).stream(c),d()},h.fitExtent=function(e,t){return Pr(h,e,t)},h.fitSize=function(e,t){return Rr(h,e,t)},h.fitWidth=function(e,t){return Ir(h,e,t)},h.fitHeight=function(e,t){return Fr(h,e,t)},h.scale(1070)}function Hr(e,t){return e[0]-t[0]||e[1]-t[1]}function Ur(e){const t=e.length,n=[0,1];let a,i=2;for(a=2;a<t;++a){for(;i>1&&(r=e[n[i-2]],s=e[n[i-1]],l=e[a],(s[0]-r[0])*(l[1]-r[1])-(s[1]-r[1])*(l[0]-r[0])<=0);)--i;n[i++]=a}var r,s,l;return n.slice(0,i)}function Kr(e){if((n=e.length)<3)return null;var t,n,a=new Array(n),i=new Array(n);for(t=0;t<n;++t)a[t]=[+e[t][0],+e[t][1],t];for(a.sort(Hr),t=0;t<n;++t)i[t]=[a[t][0],-a[t][1]];var r=Ur(a),s=Ur(i),l=s[0]===r[0],o=s[s.length-1]===r[r.length-1],c=[];for(t=r.length-1;t>=0;--t)c.push(e[a[r[t]][2]]);for(t=+l;t<s.length-o;++t)c.push(e[a[s[t]][2]]);return c}const $r=function e(t){function n(e,n){var a,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var r;if(null!=a)r=a,a=null;else do{a=2*t()-1,r=2*t()-1,i=a*a+r*r}while(!i||i>1);return e+n*r*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(Math.random),Yr=1664525,Gr=1013904223,Qr=1/4294967296;function Zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.random(),t=0|(0<=e&&e<1?e/Qr:Math.abs(e));return()=>(t=Yr*t+Gr|0,Qr*(t>>>0))}const Jr=Math.sqrt(50),es=Math.sqrt(10),ts=Math.sqrt(2);function ns(e,t,n){const a=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(a)),r=a/Math.pow(10,i),s=r>=Jr?10:r>=es?5:r>=ts?2:1;let l,o,c;return i<0?(c=Math.pow(10,-i)/s,l=Math.round(e*c),o=Math.round(t*c),l/c<e&&++l,o/c>t&&--o,c=-c):(c=Math.pow(10,i)*s,l=Math.round(e/c),o=Math.round(t/c),l*c<e&&++l,o*c>t&&--o),o<l&&.5<=n&&n<2?ns(e,t,2*n):[l,o,c]}function as(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const a=t<e,[i,r,s]=a?ns(t,e,n):ns(e,t,n);if(!(r>=i))return[];const l=r-i+1,o=new Array(l);if(a)if(s<0)for(let c=0;c<l;++c)o[c]=(r-c)/-s;else for(let c=0;c<l;++c)o[c]=(r-c)*s;else if(s<0)for(let c=0;c<l;++c)o[c]=(i+c)/-s;else for(let c=0;c<l;++c)o[c]=(i+c)*s;return o}function is(e,t,n){return ns(e=+e,t=+t,n=+n)[2]}function rs(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ss(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ls(e){let t,n,a;function i(e,a){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<r){if(0!==t(a,a))return r;do{const t=i+r>>>1;n(e[t],a)<0?i=t+1:r=t}while(i<r)}return i}return 2!==e.length?(t=rs,n=(t,n)=>rs(e(t),n),a=(t,n)=>e(t)-n):(t=e===rs||e===ss?e:os,n=e,a=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return r>n&&a(e[r-1],t)>-a(e[r],t)?r-1:r},right:function(e,a){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<r){if(0!==t(a,a))return r;do{const t=i+r>>>1;n(e[t],a)<=0?i=t+1:r=t}while(i<r)}return i}}}function os(){return 0}const cs=ls(rs),hs=cs.right,ds=(cs.left,ls((function(e){return null===e?NaN:+e})).center,hs);function us(e,t){var n,a=t?t.length:0,i=e?Math.min(a,e.length):0,r=new Array(i),s=new Array(a);for(n=0;n<i;++n)r[n]=xs(e[n],t[n]);for(;n<a;++n)s[n]=t[n];return function(e){for(n=0;n<i;++n)s[n]=r[n](e);return s}}function ps(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function fs(e,t){var n,a={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?a[n]=xs(e[n],t[n]):i[n]=t[n];return function(e){for(n in a)i[n]=a[n](e);return i}}function ms(e,t){t||(t=[]);var n,a=e?Math.min(t.length,e.length):0,i=t.slice();return function(r){for(n=0;n<a;++n)i[n]=e[n]*(1-r)+t[n]*r;return i}}function xs(e,t){var n,a,i=typeof t;return null==t||"boolean"===i?an(t):("number"===i?dt:"string"===i?(n=Bt(t))?(t=n,on):pn:t instanceof Bt?on:t instanceof Date?ps:(a=t,!ArrayBuffer.isView(a)||a instanceof DataView?Array.isArray(t)?us:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?fs:dt:ms))(e,t)}function gs(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function ys(e){return+e}var bs=[0,1];function vs(e){return e}function js(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function ws(e,t,n){var a=e[0],i=e[1],r=t[0],s=t[1];return i<a?(a=js(i,a),r=n(s,r)):(a=js(a,i),r=n(r,s)),function(e){return r(a(e))}}function _s(e,t,n){var a=Math.min(e.length,t.length)-1,i=new Array(a),r=new Array(a),s=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<a;)i[s]=js(e[s],e[s+1]),r[s]=n(t[s],t[s+1]);return function(t){var n=ds(e,t,1,a)-1;return r[n](i[n](t))}}function ks(){var e,t,n,a,i,r,s=bs,l=bs,o=xs,c=vs;function h(){var e=Math.min(s.length,l.length);return c!==vs&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(s[0],s[e-1])),a=e>2?_s:ws,i=r=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=a(s.map(e),l,o)))(e(c(t)))}return d.invert=function(n){return c(t((r||(r=a(l,s.map(e),dt)))(n)))},d.domain=function(e){return arguments.length?(s=Array.from(e,ys),h()):s.slice()},d.range=function(e){return arguments.length?(l=Array.from(e),h()):l.slice()},d.rangeRound=function(e){return l=Array.from(e),o=gs,h()},d.clamp=function(e){return arguments.length?(c=!!e||vs,h()):c!==vs},d.interpolate=function(e){return arguments.length?(o=e,h()):o},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,a){return e=n,t=a,h()}}function As(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Ns(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}function Ss(e,t,n,a){var i,r=function(e,t,n){n=+n;const a=(t=+t)<(e=+e),i=a?is(t,e,n):is(e,t,n);return(a?-1:1)*(i<0?1/-i:i)}(e,t,n);switch((a=la(null==a?",f":a)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=a.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ia(t)/3)))-ia(Math.abs(e)))}(r,s))||(a.precision=i),fa(a,s);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ia(t)-ia(e))+1}(r,Math.max(Math.abs(e),Math.abs(t))))||(a.precision=i-("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(i=function(e){return Math.max(0,-ia(Math.abs(e)))}(r))||(a.precision=i-2*("%"===a.type))}return pa(a)}function Ts(){var e=ks()(vs,vs);return e.copy=function(){return t=e,Ts().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown());var t},As.apply(e,arguments),function(e){var t=e.domain;return e.ticks=function(e){var n=t();return as(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var a=t();return Ss(a[0],a[a.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var a,i,r=t(),s=0,l=r.length-1,o=r[s],c=r[l],h=10;for(c<o&&(i=o,o=c,c=i,i=s,s=l,l=i);h-- >0;){if((i=is(o,c,n))===a)return r[s]=o,r[l]=c,t(r);if(i>0)o=Math.floor(o/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;o=Math.ceil(o*i)/i,c=Math.floor(c*i)/i}a=i}return e},e}(e)}class Cs extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rs;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(Ms(this,e))}has(e){return super.has(Ms(this,e))}set(e,t){return super.set(Es(this,e),t)}delete(e){return super.delete(Ps(this,e))}}Set;function Ms(e,t){let{_intern:n,_key:a}=e;const i=a(t);return n.has(i)?n.get(i):t}function Es(e,t){let{_intern:n,_key:a}=e;const i=a(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function Ps(e,t){let{_intern:n,_key:a}=e;const i=a(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function Rs(e){return null!==e&&"object"===typeof e?e.valueOf():e}const Is=Symbol("implicit");function Fs(){var e=new Cs,t=[],n=[],a=Is;function i(i){let r=e.get(i);if(void 0===r){if(a!==Is)return a;e.set(i,r=t.push(i)-1)}return n[r%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Cs;for(const a of n)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(a=e,i):a},i.copy=function(){return Fs(t,n).unknown(a)},As.apply(i,arguments),i}function Ds(e){return Math.log(e)}function qs(e){return Math.exp(e)}function Ls(e){return-Math.log(-e)}function Os(e){return-Math.exp(-e)}function Bs(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zs(e){return(t,n)=>-e(-t,n)}function Vs(e){const t=e(Ds,qs),n=t.domain;let a,i,r=10;function s(){return a=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(r),i=function(e){return 10===e?Bs:e===Math.E?Math.exp:t=>Math.pow(e,t)}(r),n()[0]<0?(a=zs(a),i=zs(i),e(Ls,Os)):e(Ds,qs),t}return t.base=function(e){return arguments.length?(r=+e,s()):r},t.domain=function(e){return arguments.length?(n(e),s()):n()},t.ticks=e=>{const t=n();let s=t[0],l=t[t.length-1];const o=l<s;o&&([s,l]=[l,s]);let c,h,d=a(s),u=a(l);const p=null==e?10:+e;let f=[];if(!(r%1)&&u-d<p){if(d=Math.floor(d),u=Math.ceil(u),s>0){for(;d<=u;++d)for(c=1;c<r;++c)if(h=d<0?c/i(-d):c*i(d),!(h<s)){if(h>l)break;f.push(h)}}else for(;d<=u;++d)for(c=r-1;c>=1;--c)if(h=d>0?c/i(-d):c*i(d),!(h<s)){if(h>l)break;f.push(h)}2*f.length<p&&(f=as(s,l,p))}else f=as(d,u,Math.min(u-d,p)).map(i);return o?f.reverse():f},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===r?"s":","),"function"!==typeof n&&(r%1||null!=(n=la(n)).precision||(n.trim=!0),n=pa(n)),e===1/0)return n;const s=Math.max(1,r*e/t.ticks().length);return e=>{let t=e/i(Math.round(a(e)));return t*r<r-.5&&(t*=r),t<=s?n(e):""}},t.nice=()=>n(function(e,t){var n,a=0,i=(e=e.slice()).length-1,r=e[a],s=e[i];return s<r&&(n=a,a=i,i=n,n=r,r=s,s=n),e[a]=t.floor(r),e[i]=t.ceil(s),e}(n(),{floor:e=>i(Math.floor(a(e))),ceil:e=>i(Math.ceil(a(e)))})),t}function Ws(){var e,t,n,a,i,r=0,s=1,l=vs,o=!1;function c(t){return null==t||isNaN(t=+t)?i:l(0===n?.5:(t=(a(t)-e)*n,o?Math.max(0,Math.min(1,t)):t))}function h(e){return function(t){var n,a;return arguments.length?([n,a]=t,l=e(n,a),c):[l(0),l(1)]}}return c.domain=function(i){return arguments.length?([r,s]=i,e=a(r=+r),t=a(s=+s),n=e===t?0:1/(t-e),c):[r,s]},c.clamp=function(e){return arguments.length?(o=!!e,c):o},c.interpolator=function(e){return arguments.length?(l=e,c):l},c.range=h(xs),c.rangeRound=h(gs),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return a=i,e=i(r),t=i(s),n=e===t?0:1/(t-e),c}}function Xs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Hs(){var e=Vs(Ws()).domain([1,10]);return e.copy=function(){return Xs(e,Hs()).base(e.base())},Ns.apply(e,arguments)}function Us(e){for(var t=e.length/6|0,n=new Array(t),a=0;a<t;)n[a]="#"+e.slice(6*a,6*++a);return n}const Ks=Us("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),$s=e=>hn(e[e.length-1]);const Ys=$s(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Us));const Gs=$s(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Us));var Qs,Zs,Js,el,tl,nl,al,il,rl,sl,ll,ol,cl,hl;Array.prototype.slice;function dl(e){return function(){return e}}function ul(e){this._context=e}function pl(e){return new ul(e)}ul.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};const fl=Math.PI,ml=2*fl,xl=1e-6,gl=ml-xl;function yl(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class bl{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?yl:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return yl;const n=10**t;return function(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(Qs||(Qs=Vi(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(Zs||(Zs=Vi(["Z"]))))}lineTo(e,t){this._append(Js||(Js=Vi(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,a){this._append(el||(el=Vi(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+a)}bezierCurveTo(e,t,n,a,i,r){this._append(tl||(tl=Vi(["C",",",",",",",",",",",""])),+e,+t,+n,+a,this._x1=+i,this._y1=+r)}arcTo(e,t,n,a,i){if(e=+e,t=+t,n=+n,a=+a,(i=+i)<0)throw new Error("negative radius: ".concat(i));let r=this._x1,s=this._y1,l=n-e,o=a-t,c=r-e,h=s-t,d=c*c+h*h;if(null===this._x1)this._append(nl||(nl=Vi(["M",",",""])),this._x1=e,this._y1=t);else if(d>xl)if(Math.abs(h*l-o*c)>xl&&i){let u=n-r,p=a-s,f=l*l+o*o,m=u*u+p*p,x=Math.sqrt(f),g=Math.sqrt(d),y=i*Math.tan((fl-Math.acos((f+d-m)/(2*x*g)))/2),b=y/g,v=y/x;Math.abs(b-1)>xl&&this._append(il||(il=Vi(["L",",",""])),e+b*c,t+b*h),this._append(rl||(rl=Vi(["A",",",",0,0,",",",",",""])),i,i,+(h*u>c*p),this._x1=e+v*l,this._y1=t+v*o)}else this._append(al||(al=Vi(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,a,i,r){if(e=+e,t=+t,r=!!r,(n=+n)<0)throw new Error("negative radius: ".concat(n));let s=n*Math.cos(a),l=n*Math.sin(a),o=e+s,c=t+l,h=1^r,d=r?a-i:i-a;null===this._x1?this._append(sl||(sl=Vi(["M",",",""])),o,c):(Math.abs(this._x1-o)>xl||Math.abs(this._y1-c)>xl)&&this._append(ll||(ll=Vi(["L",",",""])),o,c),n&&(d<0&&(d=d%ml+ml),d>gl?this._append(ol||(ol=Vi(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,h,e-s,t-l,n,n,h,this._x1=o,this._y1=c):d>xl&&this._append(cl||(cl=Vi(["A",",",",0,",",",",",",",""])),n,n,+(d>=fl),h,this._x1=e+n*Math.cos(i),this._y1=t+n*Math.sin(i)))}rect(e,t,n,a){this._append(hl||(hl=Vi(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+a,-n)}toString(){return this._}}function vl(e){return e[0]}function jl(e){return e[1]}function wl(e,t){var n=dl(!0),a=null,i=pl,r=null,s=function(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new bl(t)}(l);function l(l){var o,c,h,d=(l=function(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}(l)).length,u=!1;for(null==a&&(r=i(h=s())),o=0;o<=d;++o)!(o<d&&n(c=l[o],o,l))===u&&((u=!u)?r.lineStart():r.lineEnd()),u&&r.point(+e(c,o,l),+t(c,o,l));if(h)return r=null,h+""||null}return e="function"===typeof e?e:void 0===e?vl:dl(e),t="function"===typeof t?t:void 0===t?jl:dl(t),l.x=function(t){return arguments.length?(e="function"===typeof t?t:dl(+t),l):e},l.y=function(e){return arguments.length?(t="function"===typeof e?e:dl(+e),l):t},l.defined=function(e){return arguments.length?(n="function"===typeof e?e:dl(!!e),l):n},l.curve=function(e){return arguments.length?(i=e,null!=a&&(r=i(a)),l):i},l.context=function(e){return arguments.length?(null==e?a=r=null:r=i(a=e),l):a},l}function _l(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function kl(e){this._context=e}function Al(e){return new kl(e)}function Nl(e){return e<0?-1:1}function Sl(e,t,n){var a=e._x1-e._x0,i=t-e._x1,r=(e._y1-e._y0)/(a||i<0&&-0),s=(n-e._y1)/(i||a<0&&-0),l=(r*i+s*a)/(a+i);return(Nl(r)+Nl(s))*Math.min(Math.abs(r),Math.abs(s),.5*Math.abs(l))||0}function Tl(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Cl(e,t,n){var a=e._x0,i=e._y0,r=e._x1,s=e._y1,l=(r-a)/3;e._context.bezierCurveTo(a+l,i+l*t,r-l,s-l*n,r,s)}function Ml(e){this._context=e}function El(e){this._context=new Pl(e)}function Pl(e){this._context=e}function Rl(e){return new Ml(e)}function Il(e,t){this._context=e,this._t=t}function Fl(e){return new Il(e,1)}function Dl(e,t,n){this.k=e,this.x=t,this.y=n}bl.prototype,kl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_l(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_l(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ml.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Cl(this,this._t0,Tl(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Cl(this,Tl(this,n=Sl(this,e,t)),n);break;default:Cl(this,this._t0,n=Sl(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(El.prototype=Object.create(Ml.prototype)).point=function(e,t){Ml.prototype.point.call(this,t,e)},Pl.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,a,i,r){this._context.bezierCurveTo(t,e,a,n,r,i)}},Il.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}},Dl.prototype={constructor:Dl,scale:function(e){return 1===e?this:new Dl(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Dl(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Dl(1,0,0);Dl.prototype},4907:e=>{"use strict";e.exports=JSON.parse('{"1998":{"AK":{"count":3,"percent":"0.03","mkt_cap":"0.002"},"AL":{"count":13,"percent":"0.13","mkt_cap":"0.026"},"AR":{"count":11,"percent":"0.11","mkt_cap":"0.018"},"AZ":{"count":28,"percent":"0.28","mkt_cap":"0.068"},"CA":{"count":309,"percent":"3.11","mkt_cap":"0.681"},"CO":{"count":129,"percent":"1.30","mkt_cap":"0.037"},"CT":{"count":37,"percent":"0.37","mkt_cap":"0.152"},"DC":{"count":10,"percent":"0.10","mkt_cap":"0.403"},"DE":{"count":5446,"percent":"54.79","mkt_cap":"61.148"},"FL":{"count":242,"percent":"2.43","mkt_cap":"0.748"},"GA":{"count":135,"percent":"1.36","mkt_cap":"1.638"},"HI":{"count":10,"percent":"0.10","mkt_cap":"0.025"},"IA":{"count":29,"percent":"0.29","mkt_cap":"0.154"},"ID":{"count":3,"percent":"0.03","mkt_cap":"0.012"},"IL":{"count":45,"percent":"0.45","mkt_cap":"0.847"},"IN":{"count":104,"percent":"1.05","mkt_cap":"1.427"},"KS":{"count":21,"percent":"0.21","mkt_cap":"0.018"},"KY":{"count":24,"percent":"0.24","mkt_cap":"0.076"},"LA":{"count":35,"percent":"0.35","mkt_cap":"0.146"},"MA":{"count":296,"percent":"2.98","mkt_cap":"1.103"},"MD":{"count":450,"percent":"4.53","mkt_cap":"1.890"},"ME":{"count":17,"percent":"0.17","mkt_cap":"0.028"},"MI":{"count":95,"percent":"0.96","mkt_cap":"0.464"},"MN":{"count":264,"percent":"2.66","mkt_cap":"0.657"},"MO":{"count":57,"percent":"0.57","mkt_cap":"0.658"},"MS":{"count":15,"percent":"0.15","mkt_cap":"0.037"},"MT":{"count":7,"percent":"0.07","mkt_cap":"0.029"},"NC":{"count":80,"percent":"0.80","mkt_cap":"1.382"},"ND":{"count":1,"percent":"0.01","mkt_cap":"0.001"},"NE":{"count":11,"percent":"0.11","mkt_cap":"0.051"},"NH":{"count":6,"percent":"0.06","mkt_cap":"0.004"},"NJ":{"count":179,"percent":"1.80","mkt_cap":"5.148"},"NM":{"count":10,"percent":"0.10","mkt_cap":"0.010"},"NV":{"count":321,"percent":"3.23","mkt_cap":"0.486"},"NY":{"count":271,"percent":"2.73","mkt_cap":"8.461"},"OH":{"count":186,"percent":"1.87","mkt_cap":"2.557"},"OK":{"count":38,"percent":"0.38","mkt_cap":"0.068"},"OR":{"count":68,"percent":"0.68","mkt_cap":"0.823"},"PA":{"count":212,"percent":"2.13","mkt_cap":"1.703"},"RI":{"count":16,"percent":"0.16","mkt_cap":"0.264"},"SC":{"count":28,"percent":"0.28","mkt_cap":"0.098"},"SD":{"count":3,"percent":"0.03","mkt_cap":"0.007"},"TN":{"count":58,"percent":"0.58","mkt_cap":"0.346"},"TX":{"count":211,"percent":"2.12","mkt_cap":"0.792"},"UT":{"count":69,"percent":"0.69","mkt_cap":"0.158"},"VA":{"count":114,"percent":"1.15","mkt_cap":"1.787"},"VT":{"count":8,"percent":"0.08","mkt_cap":"0.018"},"WA":{"count":110,"percent":"1.11","mkt_cap":"2.763"},"WI":{"count":80,"percent":"0.80","mkt_cap":"0.550"},"WV":{"count":9,"percent":"0.09","mkt_cap":"0.031"},"WY":{"count":15,"percent":"0.15","mkt_cap":"0.002"}},"1999":{"AK":{"count":3,"percent":"0.03","mkt_cap":"0.002"},"AL":{"count":12,"percent":"0.12","mkt_cap":"0.018"},"AR":{"count":11,"percent":"0.11","mkt_cap":"0.011"},"AZ":{"count":27,"percent":"0.28","mkt_cap":"0.042"},"CA":{"count":282,"percent":"2.88","mkt_cap":"0.879"},"CO":{"count":133,"percent":"1.36","mkt_cap":"0.038"},"CT":{"count":33,"percent":"0.34","mkt_cap":"0.108"},"DC":{"count":10,"percent":"0.10","mkt_cap":"0.663"},"DE":{"count":5268,"percent":"53.85","mkt_cap":"65.788"},"FL":{"count":242,"percent":"2.47","mkt_cap":"0.577"},"GA":{"count":132,"percent":"1.35","mkt_cap":"1.194"},"HI":{"count":10,"percent":"0.10","mkt_cap":"0.017"},"IA":{"count":27,"percent":"0.28","mkt_cap":"0.055"},"ID":{"count":4,"percent":"0.04","mkt_cap":"0.007"},"IL":{"count":39,"percent":"0.40","mkt_cap":"0.511"},"IN":{"count":108,"percent":"1.10","mkt_cap":"0.893"},"KS":{"count":20,"percent":"0.20","mkt_cap":"0.014"},"KY":{"count":23,"percent":"0.24","mkt_cap":"0.034"},"LA":{"count":35,"percent":"0.36","mkt_cap":"0.095"},"MA":{"count":287,"percent":"2.93","mkt_cap":"1.427"},"MD":{"count":452,"percent":"4.62","mkt_cap":"1.246"},"ME":{"count":14,"percent":"0.14","mkt_cap":"0.023"},"MI":{"count":91,"percent":"0.93","mkt_cap":"0.322"},"MN":{"count":255,"percent":"2.61","mkt_cap":"0.680"},"MO":{"count":56,"percent":"0.57","mkt_cap":"0.434"},"MS":{"count":19,"percent":"0.19","mkt_cap":"0.029"},"MT":{"count":8,"percent":"0.08","mkt_cap":"0.029"},"NC":{"count":78,"percent":"0.80","mkt_cap":"0.886"},"ND":{"count":2,"percent":"0.02","mkt_cap":"0.001"},"NE":{"count":10,"percent":"0.10","mkt_cap":"0.024"},"NH":{"count":8,"percent":"0.08","mkt_cap":"0.004"},"NJ":{"count":175,"percent":"1.79","mkt_cap":"4.662"},"NM":{"count":9,"percent":"0.09","mkt_cap":"0.006"},"NV":{"count":421,"percent":"4.30","mkt_cap":"0.713"},"NY":{"count":267,"percent":"2.73","mkt_cap":"8.481"},"OH":{"count":178,"percent":"1.82","mkt_cap":"1.887"},"OK":{"count":39,"percent":"0.40","mkt_cap":"0.045"},"OR":{"count":66,"percent":"0.67","mkt_cap":"0.433"},"PA":{"count":212,"percent":"2.17","mkt_cap":"1.509"},"RI":{"count":15,"percent":"0.15","mkt_cap":"0.245"},"SC":{"count":29,"percent":"0.30","mkt_cap":"0.068"},"SD":{"count":3,"percent":"0.03","mkt_cap":"0.004"},"TN":{"count":54,"percent":"0.55","mkt_cap":"0.217"},"TX":{"count":202,"percent":"2.06","mkt_cap":"0.547"},"UT":{"count":73,"percent":"0.75","mkt_cap":"0.129"},"VA":{"count":127,"percent":"1.30","mkt_cap":"0.794"},"VT":{"count":8,"percent":"0.08","mkt_cap":"0.014"},"WA":{"count":106,"percent":"1.08","mkt_cap":"3.704"},"WI":{"count":75,"percent":"0.77","mkt_cap":"0.470"},"WV":{"count":9,"percent":"0.09","mkt_cap":"0.019"},"WY":{"count":16,"percent":"0.16","mkt_cap":"0.003"}},"2000":{"AK":{"count":3,"percent":"0.03","mkt_cap":"0.003"},"AL":{"count":10,"percent":"0.11","mkt_cap":"0.015"},"AR":{"count":8,"percent":"0.09","mkt_cap":"0.006"},"AZ":{"count":27,"percent":"0.29","mkt_cap":"0.058"},"CA":{"count":250,"percent":"2.69","mkt_cap":"0.663"},"CO":{"count":130,"percent":"1.40","mkt_cap":"0.020"},"CT":{"count":27,"percent":"0.29","mkt_cap":"0.098"},"DC":{"count":9,"percent":"0.10","mkt_cap":"0.921"},"DE":{"count":4971,"percent":"53.50","mkt_cap":"66.190"},"FL":{"count":238,"percent":"2.56","mkt_cap":"0.451"},"GA":{"count":126,"percent":"1.36","mkt_cap":"1.189"},"HI":{"count":8,"percent":"0.09","mkt_cap":"0.018"},"IA":{"count":26,"percent":"0.28","mkt_cap":"0.044"},"ID":{"count":4,"percent":"0.04","mkt_cap":"0.013"},"IL":{"count":38,"percent":"0.41","mkt_cap":"0.584"},"IN":{"count":97,"percent":"1.04","mkt_cap":"1.114"},"KS":{"count":21,"percent":"0.23","mkt_cap":"0.015"},"KY":{"count":21,"percent":"0.23","mkt_cap":"0.018"},"LA":{"count":33,"percent":"0.36","mkt_cap":"0.087"},"MA":{"count":263,"percent":"2.83","mkt_cap":"1.771"},"MD":{"count":419,"percent":"4.51","mkt_cap":"1.453"},"ME":{"count":12,"percent":"0.13","mkt_cap":"0.003"},"MI":{"count":86,"percent":"0.93","mkt_cap":"0.298"},"MN":{"count":241,"percent":"2.59","mkt_cap":"0.708"},"MO":{"count":51,"percent":"0.55","mkt_cap":"0.481"},"MS":{"count":19,"percent":"0.20","mkt_cap":"0.026"},"MT":{"count":8,"percent":"0.09","mkt_cap":"0.019"},"NC":{"count":77,"percent":"0.83","mkt_cap":"1.151"},"ND":{"count":2,"percent":"0.02","mkt_cap":"0.001"},"NE":{"count":9,"percent":"0.10","mkt_cap":"0.021"},"NH":{"count":7,"percent":"0.08","mkt_cap":"0.002"},"NJ":{"count":157,"percent":"1.69","mkt_cap":"5.312"},"NM":{"count":11,"percent":"0.12","mkt_cap":"0.010"},"NV":{"count":492,"percent":"5.29","mkt_cap":"0.507"},"NY":{"count":241,"percent":"2.59","mkt_cap":"6.939"},"OH":{"count":168,"percent":"1.81","mkt_cap":"1.664"},"OK":{"count":36,"percent":"0.39","mkt_cap":"0.077"},"OR":{"count":66,"percent":"0.71","mkt_cap":"0.403"},"PA":{"count":201,"percent":"2.16","mkt_cap":"1.311"},"RI":{"count":12,"percent":"0.13","mkt_cap":"0.248"},"SC":{"count":28,"percent":"0.30","mkt_cap":"0.056"},"SD":{"count":3,"percent":"0.03","mkt_cap":"0.007"},"TN":{"count":54,"percent":"0.58","mkt_cap":"0.267"},"TX":{"count":193,"percent":"2.08","mkt_cap":"0.666"},"UT":{"count":71,"percent":"0.76","mkt_cap":"0.121"},"VA":{"count":117,"percent":"1.26","mkt_cap":"1.044"},"VT":{"count":7,"percent":"0.08","mkt_cap":"0.012"},"WA":{"count":97,"percent":"1.04","mkt_cap":"3.346"},"WI":{"count":73,"percent":"0.79","mkt_cap":"0.557"},"WV":{"count":9,"percent":"0.10","mkt_cap":"0.010"},"WY":{"count":15,"percent":"0.16","mkt_cap":"0.002"}},"2001":{"AK":{"count":5,"percent":"0.06","mkt_cap":"0.005"},"AL":{"count":10,"percent":"0.11","mkt_cap":"0.017"},"AR":{"count":7,"percent":"0.08","mkt_cap":"0.010"},"AZ":{"count":23,"percent":"0.26","mkt_cap":"0.078"},"CA":{"count":238,"percent":"2.69","mkt_cap":"0.655"},"CO":{"count":120,"percent":"1.36","mkt_cap":"0.021"},"CT":{"count":25,"percent":"0.28","mkt_cap":"0.070"},"DC":{"count":9,"percent":"0.10","mkt_cap":"1.011"},"DE":{"count":4703,"percent":"53.24","mkt_cap":"62.737"},"FL":{"count":223,"percent":"2.52","mkt_cap":"0.587"},"GA":{"count":111,"percent":"1.26","mkt_cap":"1.260"},"HI":{"count":7,"percent":"0.08","mkt_cap":"0.023"},"IA":{"count":23,"percent":"0.26","mkt_cap":"0.042"},"ID":{"count":4,"percent":"0.05","mkt_cap":"0.012"},"IL":{"count":38,"percent":"0.43","mkt_cap":"0.797"},"IN":{"count":94,"percent":"1.06","mkt_cap":"1.159"},"KS":{"count":20,"percent":"0.23","mkt_cap":"0.020"},"KY":{"count":20,"percent":"0.23","mkt_cap":"0.018"},"LA":{"count":31,"percent":"0.35","mkt_cap":"0.111"},"MA":{"count":252,"percent":"2.85","mkt_cap":"1.017"},"MD":{"count":413,"percent":"4.68","mkt_cap":"1.664"},"ME":{"count":12,"percent":"0.14","mkt_cap":"0.003"},"MI":{"count":84,"percent":"0.95","mkt_cap":"0.420"},"MN":{"count":231,"percent":"2.61","mkt_cap":"0.854"},"MO":{"count":45,"percent":"0.51","mkt_cap":"0.457"},"MS":{"count":18,"percent":"0.20","mkt_cap":"0.038"},"MT":{"count":6,"percent":"0.07","mkt_cap":"0.005"},"NC":{"count":72,"percent":"0.82","mkt_cap":"1.414"},"ND":{"count":2,"percent":"0.02","mkt_cap":"0.002"},"NE":{"count":9,"percent":"0.10","mkt_cap":"0.028"},"NH":{"count":7,"percent":"0.08","mkt_cap":"0.003"},"NJ":{"count":154,"percent":"1.74","mkt_cap":"5.494"},"NM":{"count":11,"percent":"0.12","mkt_cap":"0.012"},"NV":{"count":505,"percent":"5.72","mkt_cap":"0.673"},"NY":{"count":220,"percent":"2.49","mkt_cap":"7.351"},"OH":{"count":163,"percent":"1.85","mkt_cap":"2.175"},"OK":{"count":32,"percent":"0.36","mkt_cap":"0.065"},"OR":{"count":61,"percent":"0.69","mkt_cap":"0.639"},"PA":{"count":202,"percent":"2.29","mkt_cap":"1.320"},"RI":{"count":10,"percent":"0.11","mkt_cap":"0.335"},"SC":{"count":27,"percent":"0.31","mkt_cap":"0.063"},"SD":{"count":3,"percent":"0.03","mkt_cap":"0.008"},"TN":{"count":50,"percent":"0.57","mkt_cap":"0.339"},"TX":{"count":167,"percent":"1.89","mkt_cap":"0.548"},"UT":{"count":64,"percent":"0.72","mkt_cap":"0.155"},"VA":{"count":107,"percent":"1.21","mkt_cap":"1.826"},"VT":{"count":7,"percent":"0.08","mkt_cap":"0.014"},"WA":{"count":94,"percent":"1.06","mkt_cap":"3.722"},"WI":{"count":73,"percent":"0.83","mkt_cap":"0.706"},"WV":{"count":8,"percent":"0.09","mkt_cap":"0.015"},"WY":{"count":14,"percent":"0.16","mkt_cap":"0.004"}},"2002":{"AK":{"count":5,"percent":"0.06","mkt_cap":"0.005"},"AL":{"count":10,"percent":"0.12","mkt_cap":"0.019"},"AR":{"count":7,"percent":"0.08","mkt_cap":"0.017"},"AZ":{"count":20,"percent":"0.23","mkt_cap":"0.134"},"CA":{"count":213,"percent":"2.50","mkt_cap":"0.629"},"CO":{"count":111,"percent":"1.30","mkt_cap":"0.018"},"CT":{"count":26,"percent":"0.31","mkt_cap":"0.079"},"DC":{"count":9,"percent":"0.11","mkt_cap":"0.425"},"DE":{"count":4571,"percent":"53.71","mkt_cap":"60.869"},"FL":{"count":203,"percent":"2.39","mkt_cap":"0.629"},"GA":{"count":101,"percent":"1.19","mkt_cap":"1.280"},"HI":{"count":5,"percent":"0.06","mkt_cap":"0.034"},"IA":{"count":24,"percent":"0.28","mkt_cap":"0.060"},"ID":{"count":3,"percent":"0.04","mkt_cap":"0.010"},"IL":{"count":38,"percent":"0.45","mkt_cap":"0.767"},"IN":{"count":88,"percent":"1.03","mkt_cap":"1.215"},"KS":{"count":17,"percent":"0.20","mkt_cap":"0.024"},"KY":{"count":19,"percent":"0.22","mkt_cap":"0.024"},"LA":{"count":28,"percent":"0.33","mkt_cap":"0.122"},"MA":{"count":258,"percent":"3.03","mkt_cap":"0.804"},"MD":{"count":427,"percent":"5.02","mkt_cap":"1.980"},"ME":{"count":10,"percent":"0.12","mkt_cap":"0.005"},"MI":{"count":79,"percent":"0.93","mkt_cap":"0.483"},"MN":{"count":219,"percent":"2.57","mkt_cap":"0.940"},"MO":{"count":47,"percent":"0.55","mkt_cap":"0.592"},"MS":{"count":17,"percent":"0.20","mkt_cap":"0.049"},"MT":{"count":6,"percent":"0.07","mkt_cap":"0.006"},"NC":{"count":72,"percent":"0.85","mkt_cap":"1.560"},"ND":{"count":2,"percent":"0.02","mkt_cap":"0.004"},"NE":{"count":8,"percent":"0.09","mkt_cap":"0.030"},"NH":{"count":5,"percent":"0.06","mkt_cap":"0.002"},"NJ":{"count":141,"percent":"1.66","mkt_cap":"6.357"},"NM":{"count":12,"percent":"0.14","mkt_cap":"0.015"},"NV":{"count":475,"percent":"5.58","mkt_cap":"0.669"},"NY":{"count":206,"percent":"2.42","mkt_cap":"6.326"},"OH":{"count":155,"percent":"1.82","mkt_cap":"2.906"},"OK":{"count":30,"percent":"0.35","mkt_cap":"0.071"},"OR":{"count":54,"percent":"0.63","mkt_cap":"0.797"},"PA":{"count":195,"percent":"2.29","mkt_cap":"1.804"},"RI":{"count":9,"percent":"0.11","mkt_cap":"0.293"},"SC":{"count":25,"percent":"0.29","mkt_cap":"0.084"},"SD":{"count":4,"percent":"0.05","mkt_cap":"0.009"},"TN":{"count":44,"percent":"0.52","mkt_cap":"0.341"},"TX":{"count":156,"percent":"1.83","mkt_cap":"0.526"},"UT":{"count":56,"percent":"0.66","mkt_cap":"0.203"},"VA":{"count":103,"percent":"1.21","mkt_cap":"2.259"},"VT":{"count":6,"percent":"0.07","mkt_cap":"0.018"},"WA":{"count":98,"percent":"1.15","mkt_cap":"3.705"},"WI":{"count":74,"percent":"0.87","mkt_cap":"0.776"},"WV":{"count":8,"percent":"0.09","mkt_cap":"0.023"},"WY":{"count":12,"percent":"0.14","mkt_cap":"0.005"}},"2003":{"AK":{"count":5,"percent":"0.06","mkt_cap":"0.005"},"AL":{"count":11,"percent":"0.13","mkt_cap":"0.021"},"AR":{"count":7,"percent":"0.08","mkt_cap":"0.025"},"AZ":{"count":18,"percent":"0.22","mkt_cap":"0.150"},"CA":{"count":201,"percent":"2.44","mkt_cap":"0.828"},"CO":{"count":101,"percent":"1.22","mkt_cap":"0.020"},"CT":{"count":25,"percent":"0.30","mkt_cap":"0.076"},"DC":{"count":8,"percent":"0.10","mkt_cap":"0.335"},"DE":{"count":4416,"percent":"53.50","mkt_cap":"62.861"},"FL":{"count":199,"percent":"2.41","mkt_cap":"0.727"},"GA":{"count":97,"percent":"1.18","mkt_cap":"1.246"},"HI":{"count":5,"percent":"0.06","mkt_cap":"0.033"},"IA":{"count":23,"percent":"0.28","mkt_cap":"0.064"},"ID":{"count":3,"percent":"0.04","mkt_cap":"0.010"},"IL":{"count":36,"percent":"0.44","mkt_cap":"0.720"},"IN":{"count":86,"percent":"1.04","mkt_cap":"1.200"},"KS":{"count":15,"percent":"0.18","mkt_cap":"0.022"},"KY":{"count":19,"percent":"0.23","mkt_cap":"0.022"},"LA":{"count":27,"percent":"0.33","mkt_cap":"0.110"},"MA":{"count":278,"percent":"3.37","mkt_cap":"0.992"},"MD":{"count":453,"percent":"5.49","mkt_cap":"1.924"},"ME":{"count":9,"percent":"0.11","mkt_cap":"0.005"},"MI":{"count":76,"percent":"0.92","mkt_cap":"0.497"},"MN":{"count":212,"percent":"2.57","mkt_cap":"0.912"},"MO":{"count":45,"percent":"0.55","mkt_cap":"0.579"},"MS":{"count":16,"percent":"0.19","mkt_cap":"0.048"},"MT":{"count":5,"percent":"0.06","mkt_cap":"0.007"},"NC":{"count":70,"percent":"0.85","mkt_cap":"1.520"},"ND":{"count":3,"percent":"0.04","mkt_cap":"0.003"},"NE":{"count":8,"percent":"0.10","mkt_cap":"0.037"},"NH":{"count":5,"percent":"0.06","mkt_cap":"0.002"},"NJ":{"count":130,"percent":"1.57","mkt_cap":"5.133"},"NM":{"count":10,"percent":"0.12","mkt_cap":"0.013"},"NV":{"count":466,"percent":"5.65","mkt_cap":"0.769"},"NY":{"count":198,"percent":"2.40","mkt_cap":"6.395"},"OH":{"count":142,"percent":"1.72","mkt_cap":"2.480"},"OK":{"count":28,"percent":"0.34","mkt_cap":"0.098"},"OR":{"count":51,"percent":"0.62","mkt_cap":"0.789"},"PA":{"count":179,"percent":"2.17","mkt_cap":"1.899"},"RI":{"count":9,"percent":"0.11","mkt_cap":"0.423"},"SC":{"count":28,"percent":"0.34","mkt_cap":"0.083"},"SD":{"count":4,"percent":"0.05","mkt_cap":"0.010"},"TN":{"count":43,"percent":"0.52","mkt_cap":"0.343"},"TX":{"count":148,"percent":"1.79","mkt_cap":"0.549"},"UT":{"count":52,"percent":"0.63","mkt_cap":"0.201"},"VA":{"count":99,"percent":"1.20","mkt_cap":"2.104"},"VT":{"count":6,"percent":"0.07","mkt_cap":"0.022"},"WA":{"count":89,"percent":"1.08","mkt_cap":"2.949"},"WI":{"count":72,"percent":"0.87","mkt_cap":"0.712"},"WV":{"count":9,"percent":"0.11","mkt_cap":"0.022"},"WY":{"count":9,"percent":"0.11","mkt_cap":"0.004"}},"2004":{"AK":{"count":5,"percent":"0.06","mkt_cap":"0.006"},"AL":{"count":10,"percent":"0.13","mkt_cap":"0.033"},"AR":{"count":8,"percent":"0.10","mkt_cap":"0.035"},"AZ":{"count":17,"percent":"0.21","mkt_cap":"0.152"},"CA":{"count":190,"percent":"2.38","mkt_cap":"0.839"},"CO":{"count":88,"percent":"1.10","mkt_cap":"0.024"},"CT":{"count":24,"percent":"0.30","mkt_cap":"0.078"},"DC":{"count":8,"percent":"0.10","mkt_cap":"0.883"},"DE":{"count":4270,"percent":"53.50","mkt_cap":"61.713"},"FL":{"count":185,"percent":"2.32","mkt_cap":"0.757"},"GA":{"count":96,"percent":"1.20","mkt_cap":"1.234"},"HI":{"count":4,"percent":"0.05","mkt_cap":"0.038"},"IA":{"count":22,"percent":"0.28","mkt_cap":"0.068"},"ID":{"count":3,"percent":"0.04","mkt_cap":"0.010"},"IL":{"count":36,"percent":"0.45","mkt_cap":"0.640"},"IN":{"count":80,"percent":"1.00","mkt_cap":"1.278"},"KS":{"count":14,"percent":"0.18","mkt_cap":"0.025"},"KY":{"count":20,"percent":"0.25","mkt_cap":"0.029"},"LA":{"count":23,"percent":"0.29","mkt_cap":"0.115"},"MA":{"count":287,"percent":"3.60","mkt_cap":"0.901"},"MD":{"count":463,"percent":"5.80","mkt_cap":"2.311"},"ME":{"count":9,"percent":"0.11","mkt_cap":"0.005"},"MI":{"count":71,"percent":"0.89","mkt_cap":"0.504"},"MN":{"count":203,"percent":"2.54","mkt_cap":"0.970"},"MO":{"count":44,"percent":"0.55","mkt_cap":"0.592"},"MS":{"count":16,"percent":"0.20","mkt_cap":"0.047"},"MT":{"count":5,"percent":"0.06","mkt_cap":"0.008"},"NC":{"count":68,"percent":"0.85","mkt_cap":"1.593"},"ND":{"count":3,"percent":"0.04","mkt_cap":"0.000"},"NE":{"count":6,"percent":"0.08","mkt_cap":"0.037"},"NH":{"count":5,"percent":"0.06","mkt_cap":"0.002"},"NJ":{"count":129,"percent":"1.62","mkt_cap":"5.145"},"NM":{"count":9,"percent":"0.11","mkt_cap":"0.015"},"NV":{"count":453,"percent":"5.68","mkt_cap":"0.913"},"NY":{"count":192,"percent":"2.41","mkt_cap":"6.487"},"OH":{"count":132,"percent":"1.65","mkt_cap":"2.406"},"OK":{"count":26,"percent":"0.33","mkt_cap":"0.114"},"OR":{"count":46,"percent":"0.58","mkt_cap":"0.908"},"PA":{"count":171,"percent":"2.14","mkt_cap":"1.948"},"RI":{"count":8,"percent":"0.10","mkt_cap":"0.031"},"SC":{"count":29,"percent":"0.36","mkt_cap":"0.092"},"SD":{"count":5,"percent":"0.06","mkt_cap":"0.010"},"TN":{"count":39,"percent":"0.49","mkt_cap":"0.221"},"TX":{"count":136,"percent":"1.70","mkt_cap":"0.711"},"UT":{"count":48,"percent":"0.60","mkt_cap":"0.187"},"VA":{"count":96,"percent":"1.20","mkt_cap":"2.121"},"VT":{"count":6,"percent":"0.08","mkt_cap":"0.022"},"WA":{"count":88,"percent":"1.10","mkt_cap":"3.001"},"WI":{"count":69,"percent":"0.86","mkt_cap":"0.714"},"WV":{"count":9,"percent":"0.11","mkt_cap":"0.024"},"WY":{"count":7,"percent":"0.09","mkt_cap":"0.006"}},"2005":{"AK":{"count":5,"percent":"0.06","mkt_cap":"0.005"},"AL":{"count":10,"percent":"0.13","mkt_cap":"0.040"},"AR":{"count":8,"percent":"0.10","mkt_cap":"0.033"},"AZ":{"count":17,"percent":"0.22","mkt_cap":"0.144"},"CA":{"count":180,"percent":"2.32","mkt_cap":"1.132"},"CO":{"count":83,"percent":"1.07","mkt_cap":"0.038"},"CT":{"count":23,"percent":"0.30","mkt_cap":"0.134"},"DC":{"count":7,"percent":"0.09","mkt_cap":"0.667"},"DE":{"count":4179,"percent":"53.85","mkt_cap":"62.131"},"FL":{"count":176,"percent":"2.27","mkt_cap":"0.754"},"GA":{"count":93,"percent":"1.20","mkt_cap":"1.143"},"HI":{"count":4,"percent":"0.05","mkt_cap":"0.040"},"IA":{"count":19,"percent":"0.24","mkt_cap":"0.068"},"ID":{"count":3,"percent":"0.04","mkt_cap":"0.010"},"IL":{"count":33,"percent":"0.43","mkt_cap":"0.551"},"IN":{"count":73,"percent":"0.94","mkt_cap":"1.418"},"KS":{"count":15,"percent":"0.19","mkt_cap":"0.021"},"KY":{"count":20,"percent":"0.26","mkt_cap":"0.030"},"LA":{"count":19,"percent":"0.24","mkt_cap":"0.086"},"MA":{"count":282,"percent":"3.63","mkt_cap":"0.927"},"MD":{"count":466,"percent":"6.00","mkt_cap":"2.200"},"ME":{"count":9,"percent":"0.12","mkt_cap":"0.005"},"MI":{"count":68,"percent":"0.88","mkt_cap":"0.503"},"MN":{"count":195,"percent":"2.51","mkt_cap":"1.286"},"MO":{"count":42,"percent":"0.54","mkt_cap":"0.617"},"MS":{"count":15,"percent":"0.19","mkt_cap":"0.044"},"MT":{"count":4,"percent":"0.05","mkt_cap":"0.009"},"NC":{"count":64,"percent":"0.82","mkt_cap":"1.662"},"ND":{"count":3,"percent":"0.04","mkt_cap":"0.000"},"NE":{"count":5,"percent":"0.06","mkt_cap":"0.032"},"NH":{"count":5,"percent":"0.06","mkt_cap":"0.002"},"NJ":{"count":127,"percent":"1.64","mkt_cap":"5.226"},"NM":{"count":9,"percent":"0.12","mkt_cap":"0.016"},"NV":{"count":444,"percent":"5.72","mkt_cap":"0.858"},"NY":{"count":178,"percent":"2.29","mkt_cap":"5.825"},"OH":{"count":128,"percent":"1.65","mkt_cap":"2.239"},"OK":{"count":26,"percent":"0.34","mkt_cap":"0.165"},"OR":{"count":45,"percent":"0.58","mkt_cap":"0.867"},"PA":{"count":164,"percent":"2.11","mkt_cap":"1.953"},"RI":{"count":8,"percent":"0.10","mkt_cap":"0.031"},"SC":{"count":26,"percent":"0.34","mkt_cap":"0.092"},"SD":{"count":5,"percent":"0.06","mkt_cap":"0.012"},"TN":{"count":35,"percent":"0.45","mkt_cap":"0.233"},"TX":{"count":129,"percent":"1.66","mkt_cap":"0.785"},"UT":{"count":48,"percent":"0.62","mkt_cap":"0.232"},"VA":{"count":93,"percent":"1.20","mkt_cap":"2.258"},"VT":{"count":5,"percent":"0.06","mkt_cap":"0.013"},"WA":{"count":88,"percent":"1.13","mkt_cap":"2.755"},"WI":{"count":61,"percent":"0.79","mkt_cap":"0.670"},"WV":{"count":9,"percent":"0.12","mkt_cap":"0.023"},"WY":{"count":8,"percent":"0.10","mkt_cap":"0.016"}},"2006":{"AK":{"count":5,"percent":"0.07","mkt_cap":"0.007"},"AL":{"count":8,"percent":"0.11","mkt_cap":"0.026"},"AR":{"count":8,"percent":"0.11","mkt_cap":"0.030"},"AZ":{"count":15,"percent":"0.20","mkt_cap":"0.103"},"CA":{"count":166,"percent":"2.22","mkt_cap":"1.111"},"CO":{"count":82,"percent":"1.09","mkt_cap":"0.039"},"CT":{"count":23,"percent":"0.31","mkt_cap":"0.074"},"DC":{"count":7,"percent":"0.09","mkt_cap":"0.297"},"DE":{"count":4045,"percent":"54.01","mkt_cap":"62.847"},"FL":{"count":168,"percent":"2.24","mkt_cap":"0.940"},"GA":{"count":81,"percent":"1.08","mkt_cap":"0.778"},"HI":{"count":4,"percent":"0.05","mkt_cap":"0.035"},"IA":{"count":21,"percent":"0.28","mkt_cap":"0.069"},"ID":{"count":3,"percent":"0.04","mkt_cap":"0.012"},"IL":{"count":33,"percent":"0.44","mkt_cap":"0.610"},"IN":{"count":72,"percent":"0.96","mkt_cap":"0.776"},"KS":{"count":13,"percent":"0.17","mkt_cap":"0.019"},"KY":{"count":19,"percent":"0.25","mkt_cap":"0.025"},"LA":{"count":20,"percent":"0.27","mkt_cap":"0.098"},"MA":{"count":272,"percent":"3.63","mkt_cap":"0.799"},"MD":{"count":447,"percent":"5.97","mkt_cap":"2.288"},"ME":{"count":9,"percent":"0.12","mkt_cap":"0.005"},"MI":{"count":66,"percent":"0.88","mkt_cap":"0.489"},"MN":{"count":180,"percent":"2.40","mkt_cap":"0.953"},"MO":{"count":41,"percent":"0.55","mkt_cap":"0.600"},"MS":{"count":13,"percent":"0.17","mkt_cap":"0.050"},"MT":{"count":4,"percent":"0.05","mkt_cap":"0.011"},"NC":{"count":62,"percent":"0.83","mkt_cap":"1.651"},"ND":{"count":3,"percent":"0.04","mkt_cap":"0.005"},"NE":{"count":5,"percent":"0.07","mkt_cap":"0.025"},"NH":{"count":5,"percent":"0.07","mkt_cap":"0.002"},"NJ":{"count":122,"percent":"1.63","mkt_cap":"5.747"},"NM":{"count":8,"percent":"0.11","mkt_cap":"0.019"},"NV":{"count":443,"percent":"5.92","mkt_cap":"0.996"},"NY":{"count":174,"percent":"2.32","mkt_cap":"5.765"},"OH":{"count":127,"percent":"1.70","mkt_cap":"2.468"},"OK":{"count":26,"percent":"0.35","mkt_cap":"0.189"},"OR":{"count":43,"percent":"0.57","mkt_cap":"1.024"},"PA":{"count":159,"percent":"2.12","mkt_cap":"2.089"},"RI":{"count":7,"percent":"0.09","mkt_cap":"0.035"},"SC":{"count":23,"percent":"0.31","mkt_cap":"0.086"},"SD":{"count":5,"percent":"0.07","mkt_cap":"0.029"},"TN":{"count":34,"percent":"0.45","mkt_cap":"0.200"},"TX":{"count":121,"percent":"1.62","mkt_cap":"0.774"},"UT":{"count":43,"percent":"0.57","mkt_cap":"0.242"},"VA":{"count":91,"percent":"1.22","mkt_cap":"2.415"},"VT":{"count":5,"percent":"0.07","mkt_cap":"0.013"},"WA":{"count":83,"percent":"1.11","mkt_cap":"2.369"},"WI":{"count":59,"percent":"0.79","mkt_cap":"0.722"},"WV":{"count":9,"percent":"0.12","mkt_cap":"0.022"},"WY":{"count":7,"percent":"0.09","mkt_cap":"0.021"}},"2007":{"AK":{"count":5,"percent":"0.07","mkt_cap":"0.004"},"AL":{"count":7,"percent":"0.10","mkt_cap":"0.033"},"AR":{"count":8,"percent":"0.11","mkt_cap":"0.030"},"AZ":{"count":14,"percent":"0.19","mkt_cap":"0.098"},"CA":{"count":154,"percent":"2.14","mkt_cap":"1.463"},"CO":{"count":77,"percent":"1.07","mkt_cap":"0.041"},"CT":{"count":21,"percent":"0.29","mkt_cap":"0.067"},"DC":{"count":7,"percent":"0.10","mkt_cap":"0.142"},"DE":{"count":3896,"percent":"54.11","mkt_cap":"64.222"},"FL":{"count":161,"percent":"2.24","mkt_cap":"1.151"},"GA":{"count":73,"percent":"1.01","mkt_cap":"0.702"},"HI":{"count":4,"percent":"0.06","mkt_cap":"0.030"},"IA":{"count":19,"percent":"0.26","mkt_cap":"0.052"},"ID":{"count":3,"percent":"0.04","mkt_cap":"0.011"},"IL":{"count":34,"percent":"0.47","mkt_cap":"0.673"},"IN":{"count":69,"percent":"0.96","mkt_cap":"0.718"},"KS":{"count":13,"percent":"0.18","mkt_cap":"0.014"},"KY":{"count":17,"percent":"0.24","mkt_cap":"0.022"},"LA":{"count":19,"percent":"0.26","mkt_cap":"0.112"},"MA":{"count":262,"percent":"3.64","mkt_cap":"0.911"},"MD":{"count":443,"percent":"6.15","mkt_cap":"1.748"},"ME":{"count":8,"percent":"0.11","mkt_cap":"0.003"},"MI":{"count":61,"percent":"0.85","mkt_cap":"0.439"},"MN":{"count":174,"percent":"2.42","mkt_cap":"0.844"},"MO":{"count":40,"percent":"0.56","mkt_cap":"0.639"},"MS":{"count":13,"percent":"0.18","mkt_cap":"0.041"},"MT":{"count":4,"percent":"0.06","mkt_cap":"0.009"},"NC":{"count":56,"percent":"0.78","mkt_cap":"1.625"},"ND":{"count":3,"percent":"0.04","mkt_cap":"0.003"},"NE":{"count":5,"percent":"0.07","mkt_cap":"0.016"},"NH":{"count":4,"percent":"0.06","mkt_cap":"0.002"},"NJ":{"count":112,"percent":"1.56","mkt_cap":"6.302"},"NM":{"count":7,"percent":"0.10","mkt_cap":"0.012"},"NV":{"count":457,"percent":"6.35","mkt_cap":"0.993"},"NY":{"count":170,"percent":"2.36","mkt_cap":"5.304"},"OH":{"count":120,"percent":"1.67","mkt_cap":"2.398"},"OK":{"count":25,"percent":"0.35","mkt_cap":"0.242"},"OR":{"count":41,"percent":"0.57","mkt_cap":"0.803"},"PA":{"count":142,"percent":"1.97","mkt_cap":"1.816"},"RI":{"count":7,"percent":"0.10","mkt_cap":"0.029"},"SC":{"count":21,"percent":"0.29","mkt_cap":"0.075"},"SD":{"count":5,"percent":"0.07","mkt_cap":"0.029"},"TN":{"count":32,"percent":"0.44","mkt_cap":"0.115"},"TX":{"count":113,"percent":"1.57","mkt_cap":"0.498"},"UT":{"count":35,"percent":"0.49","mkt_cap":"0.297"},"VA":{"count":85,"percent":"1.18","mkt_cap":"2.068"},"VT":{"count":3,"percent":"0.04","mkt_cap":"0.003"},"WA":{"count":76,"percent":"1.06","mkt_cap":"2.494"},"WI":{"count":57,"percent":"0.79","mkt_cap":"0.613"},"WV":{"count":10,"percent":"0.14","mkt_cap":"0.017"},"WY":{"count":8,"percent":"0.11","mkt_cap":"0.028"}},"2008":{"AK":{"count":5,"percent":"0.07","mkt_cap":"0.005"},"AL":{"count":6,"percent":"0.09","mkt_cap":"0.027"},"AR":{"count":8,"percent":"0.12","mkt_cap":"0.047"},"AZ":{"count":14,"percent":"0.20","mkt_cap":"0.143"},"CA":{"count":136,"percent":"1.97","mkt_cap":"1.616"},"CO":{"count":66,"percent":"0.96","mkt_cap":"0.027"},"CT":{"count":21,"percent":"0.30","mkt_cap":"0.066"},"DC":{"count":7,"percent":"0.10","mkt_cap":"0.023"},"DE":{"count":3728,"percent":"54.11","mkt_cap":"62.070"},"FL":{"count":144,"percent":"2.09","mkt_cap":"1.470"},"GA":{"count":68,"percent":"0.99","mkt_cap":"0.636"},"HI":{"count":4,"percent":"0.06","mkt_cap":"0.033"},"IA":{"count":20,"percent":"0.29","mkt_cap":"0.047"},"ID":{"count":3,"percent":"0.04","mkt_cap":"0.014"},"IL":{"count":33,"percent":"0.48","mkt_cap":"0.914"},"IN":{"count":67,"percent":"0.97","mkt_cap":"0.776"},"KS":{"count":10,"percent":"0.15","mkt_cap":"0.014"},"KY":{"count":17,"percent":"0.25","mkt_cap":"0.031"},"LA":{"count":19,"percent":"0.28","mkt_cap":"0.116"},"MA":{"count":257,"percent":"3.73","mkt_cap":"0.945"},"MD":{"count":453,"percent":"6.57","mkt_cap":"1.915"},"ME":{"count":8,"percent":"0.12","mkt_cap":"0.006"},"MI":{"count":61,"percent":"0.89","mkt_cap":"0.405"},"MN":{"count":163,"percent":"2.37","mkt_cap":"0.800"},"MO":{"count":40,"percent":"0.58","mkt_cap":"0.801"},"MS":{"count":13,"percent":"0.19","mkt_cap":"0.059"},"MT":{"count":4,"percent":"0.06","mkt_cap":"0.014"},"NC":{"count":49,"percent":"0.71","mkt_cap":"1.821"},"ND":{"count":3,"percent":"0.04","mkt_cap":"0.002"},"NE":{"count":6,"percent":"0.09","mkt_cap":"0.025"},"NH":{"count":4,"percent":"0.06","mkt_cap":"0.002"},"NJ":{"count":105,"percent":"1.52","mkt_cap":"7.111"},"NM":{"count":6,"percent":"0.09","mkt_cap":"0.009"},"NV":{"count":441,"percent":"6.40","mkt_cap":"0.638"},"NY":{"count":161,"percent":"2.34","mkt_cap":"4.368"},"OH":{"count":113,"percent":"1.64","mkt_cap":"3.023"},"OK":{"count":22,"percent":"0.32","mkt_cap":"0.228"},"OR":{"count":40,"percent":"0.58","mkt_cap":"0.426"},"PA":{"count":139,"percent":"2.02","mkt_cap":"1.996"},"RI":{"count":7,"percent":"0.10","mkt_cap":"0.046"},"SC":{"count":20,"percent":"0.29","mkt_cap":"0.084"},"SD":{"count":3,"percent":"0.04","mkt_cap":"0.014"},"TN":{"count":32,"percent":"0.46","mkt_cap":"0.130"},"TX":{"count":108,"percent":"1.57","mkt_cap":"0.498"},"UT":{"count":31,"percent":"0.45","mkt_cap":"0.322"},"VA":{"count":80,"percent":"1.16","mkt_cap":"2.390"},"VT":{"count":3,"percent":"0.04","mkt_cap":"0.004"},"WA":{"count":66,"percent":"0.96","mkt_cap":"3.228"},"WI":{"count":57,"percent":"0.83","mkt_cap":"0.572"},"WV":{"count":10,"percent":"0.15","mkt_cap":"0.029"},"WY":{"count":9,"percent":"0.13","mkt_cap":"0.013"}},"2009":{"AK":{"count":5,"percent":"0.07","mkt_cap":"0.004"},"AL":{"count":6,"percent":"0.09","mkt_cap":"0.028"},"AR":{"count":8,"percent":"0.12","mkt_cap":"0.047"},"AZ":{"count":13,"percent":"0.19","mkt_cap":"0.124"},"CA":{"count":128,"percent":"1.89","mkt_cap":"2.055"},"CO":{"count":63,"percent":"0.93","mkt_cap":"0.043"},"CT":{"count":21,"percent":"0.31","mkt_cap":"0.079"},"DC":{"count":7,"percent":"0.10","mkt_cap":"0.040"},"DE":{"count":3628,"percent":"53.60","mkt_cap":"64.518"},"FL":{"count":135,"percent":"1.99","mkt_cap":"1.268"},"GA":{"count":63,"percent":"0.93","mkt_cap":"0.593"},"HI":{"count":4,"percent":"0.06","mkt_cap":"0.028"},"IA":{"count":20,"percent":"0.30","mkt_cap":"0.052"},"ID":{"count":4,"percent":"0.06","mkt_cap":"0.013"},"IL":{"count":34,"percent":"0.50","mkt_cap":"0.802"},"IN":{"count":65,"percent":"0.96","mkt_cap":"0.658"},"KS":{"count":10,"percent":"0.15","mkt_cap":"0.014"},"KY":{"count":17,"percent":"0.25","mkt_cap":"0.020"},"LA":{"count":21,"percent":"0.31","mkt_cap":"0.158"},"MA":{"count":249,"percent":"3.68","mkt_cap":"0.984"},"MD":{"count":461,"percent":"6.81","mkt_cap":"1.660"},"ME":{"count":8,"percent":"0.12","mkt_cap":"0.005"},"MI":{"count":61,"percent":"0.90","mkt_cap":"0.450"},"MN":{"count":160,"percent":"2.36","mkt_cap":"1.093"},"MO":{"count":41,"percent":"0.61","mkt_cap":"0.692"},"MS":{"count":13,"percent":"0.19","mkt_cap":"0.053"},"MT":{"count":4,"percent":"0.06","mkt_cap":"0.010"},"NC":{"count":47,"percent":"0.69","mkt_cap":"1.689"},"ND":{"count":3,"percent":"0.04","mkt_cap":"0.002"},"NE":{"count":6,"percent":"0.09","mkt_cap":"0.025"},"NH":{"count":4,"percent":"0.06","mkt_cap":"0.003"},"NJ":{"count":98,"percent":"1.45","mkt_cap":"5.902"},"NM":{"count":6,"percent":"0.09","mkt_cap":"0.009"},"NV":{"count":469,"percent":"6.93","mkt_cap":"0.761"},"NY":{"count":154,"percent":"2.28","mkt_cap":"4.752"},"OH":{"count":112,"percent":"1.65","mkt_cap":"2.430"},"OK":{"count":22,"percent":"0.33","mkt_cap":"0.306"},"OR":{"count":39,"percent":"0.58","mkt_cap":"0.429"},"PA":{"count":134,"percent":"1.98","mkt_cap":"1.694"},"RI":{"count":7,"percent":"0.10","mkt_cap":"0.041"},"SC":{"count":22,"percent":"0.33","mkt_cap":"0.078"},"SD":{"count":3,"percent":"0.04","mkt_cap":"0.013"},"TN":{"count":31,"percent":"0.46","mkt_cap":"0.192"},"TX":{"count":108,"percent":"1.60","mkt_cap":"0.536"},"UT":{"count":30,"percent":"0.44","mkt_cap":"0.358"},"VA":{"count":83,"percent":"1.23","mkt_cap":"2.271"},"VT":{"count":3,"percent":"0.04","mkt_cap":"0.003"},"WA":{"count":63,"percent":"0.93","mkt_cap":"2.432"},"WI":{"count":57,"percent":"0.84","mkt_cap":"0.558"},"WV":{"count":10,"percent":"0.15","mkt_cap":"0.016"},"WY":{"count":9,"percent":"0.13","mkt_cap":"0.011"}},"2010":{"AK":{"count":4,"percent":"0.06","mkt_cap":"0.005"},"AL":{"count":6,"percent":"0.09","mkt_cap":"0.035"},"AR":{"count":8,"percent":"0.12","mkt_cap":"0.049"},"AZ":{"count":12,"percent":"0.18","mkt_cap":"0.088"},"CA":{"count":121,"percent":"1.82","mkt_cap":"2.595"},"CO":{"count":60,"percent":"0.90","mkt_cap":"0.045"},"CT":{"count":21,"percent":"0.32","mkt_cap":"0.150"},"DC":{"count":7,"percent":"0.11","mkt_cap":"0.007"},"DE":{"count":3538,"percent":"53.15","mkt_cap":"64.187"},"FL":{"count":129,"percent":"1.94","mkt_cap":"0.692"},"GA":{"count":57,"percent":"0.86","mkt_cap":"0.638"},"HI":{"count":4,"percent":"0.06","mkt_cap":"0.028"},"IA":{"count":19,"percent":"0.29","mkt_cap":"0.044"},"ID":{"count":5,"percent":"0.08","mkt_cap":"0.014"},"IL":{"count":34,"percent":"0.51","mkt_cap":"0.652"},"IN":{"count":64,"percent":"0.96","mkt_cap":"0.939"},"KS":{"count":10,"percent":"0.15","mkt_cap":"0.015"},"KY":{"count":17,"percent":"0.26","mkt_cap":"0.018"},"LA":{"count":20,"percent":"0.30","mkt_cap":"0.175"},"MA":{"count":242,"percent":"3.64","mkt_cap":"1.024"},"MD":{"count":461,"percent":"6.93","mkt_cap":"2.437"},"ME":{"count":8,"percent":"0.12","mkt_cap":"0.005"},"MI":{"count":58,"percent":"0.87","mkt_cap":"0.446"},"MN":{"count":154,"percent":"2.31","mkt_cap":"0.989"},"MO":{"count":41,"percent":"0.62","mkt_cap":"0.670"},"MS":{"count":12,"percent":"0.18","mkt_cap":"0.042"},"MT":{"count":3,"percent":"0.05","mkt_cap":"0.008"},"NC":{"count":47,"percent":"0.71","mkt_cap":"1.685"},"ND":{"count":3,"percent":"0.05","mkt_cap":"0.009"},"NE":{"count":5,"percent":"0.08","mkt_cap":"0.025"},"NH":{"count":4,"percent":"0.06","mkt_cap":"0.003"},"NJ":{"count":90,"percent":"1.35","mkt_cap":"5.398"},"NM":{"count":4,"percent":"0.06","mkt_cap":"0.008"},"NV":{"count":525,"percent":"7.89","mkt_cap":"0.869"},"NY":{"count":150,"percent":"2.25","mkt_cap":"4.665"},"OH":{"count":112,"percent":"1.68","mkt_cap":"2.391"},"OK":{"count":22,"percent":"0.33","mkt_cap":"0.308"},"OR":{"count":37,"percent":"0.56","mkt_cap":"0.419"},"PA":{"count":132,"percent":"1.98","mkt_cap":"1.759"},"RI":{"count":7,"percent":"0.11","mkt_cap":"0.053"},"SC":{"count":19,"percent":"0.29","mkt_cap":"0.076"},"SD":{"count":3,"percent":"0.05","mkt_cap":"0.015"},"TN":{"count":30,"percent":"0.45","mkt_cap":"0.184"},"TX":{"count":104,"percent":"1.56","mkt_cap":"0.568"},"UT":{"count":29,"percent":"0.44","mkt_cap":"0.375"},"VA":{"count":86,"percent":"1.29","mkt_cap":"2.412"},"VT":{"count":3,"percent":"0.05","mkt_cap":"0.003"},"WA":{"count":57,"percent":"0.86","mkt_cap":"2.168"},"WI":{"count":57,"percent":"0.86","mkt_cap":"0.577"},"WV":{"count":8,"percent":"0.12","mkt_cap":"0.018"},"WY":{"count":8,"percent":"0.12","mkt_cap":"0.014"}},"2011":{"AK":{"count":4,"percent":"0.06","mkt_cap":"0.004"},"AL":{"count":6,"percent":"0.09","mkt_cap":"0.026"},"AR":{"count":8,"percent":"0.12","mkt_cap":"0.054"},"AZ":{"count":13,"percent":"0.20","mkt_cap":"0.091"},"CA":{"count":113,"percent":"1.70","mkt_cap":"3.168"},"CO":{"count":58,"percent":"0.87","mkt_cap":"0.038"},"CT":{"count":20,"percent":"0.30","mkt_cap":"0.152"},"DC":{"count":7,"percent":"0.11","mkt_cap":"0.005"},"DE":{"count":3506,"percent":"52.82","mkt_cap":"62.538"},"FL":{"count":123,"percent":"1.85","mkt_cap":"0.712"},"GA":{"count":54,"percent":"0.81","mkt_cap":"0.541"},"HI":{"count":5,"percent":"0.08","mkt_cap":"0.034"},"IA":{"count":20,"percent":"0.30","mkt_cap":"0.045"},"ID":{"count":5,"percent":"0.08","mkt_cap":"0.016"},"IL":{"count":30,"percent":"0.45","mkt_cap":"0.754"},"IN":{"count":64,"percent":"0.96","mkt_cap":"0.814"},"KS":{"count":10,"percent":"0.15","mkt_cap":"0.013"},"KY":{"count":17,"percent":"0.26","mkt_cap":"0.018"},"LA":{"count":20,"percent":"0.30","mkt_cap":"0.220"},"MA":{"count":242,"percent":"3.65","mkt_cap":"0.853"},"MD":{"count":484,"percent":"7.29","mkt_cap":"2.602"},"ME":{"count":8,"percent":"0.12","mkt_cap":"0.004"},"MI":{"count":59,"percent":"0.89","mkt_cap":"0.412"},"MN":{"count":150,"percent":"2.26","mkt_cap":"0.940"},"MO":{"count":41,"percent":"0.62","mkt_cap":"0.617"},"MS":{"count":12,"percent":"0.18","mkt_cap":"0.049"},"MT":{"count":3,"percent":"0.05","mkt_cap":"0.007"},"NC":{"count":46,"percent":"0.69","mkt_cap":"1.753"},"ND":{"count":3,"percent":"0.05","mkt_cap":"0.008"},"NE":{"count":6,"percent":"0.09","mkt_cap":"0.027"},"NH":{"count":3,"percent":"0.05","mkt_cap":"0.002"},"NJ":{"count":89,"percent":"1.34","mkt_cap":"5.626"},"NM":{"count":4,"percent":"0.06","mkt_cap":"0.010"},"NV":{"count":577,"percent":"8.69","mkt_cap":"0.897"},"NY":{"count":145,"percent":"2.18","mkt_cap":"4.825"},"OH":{"count":108,"percent":"1.63","mkt_cap":"2.498"},"OK":{"count":19,"percent":"0.29","mkt_cap":"0.326"},"OR":{"count":34,"percent":"0.51","mkt_cap":"0.472"},"PA":{"count":124,"percent":"1.87","mkt_cap":"1.835"},"RI":{"count":6,"percent":"0.09","mkt_cap":"0.034"},"SC":{"count":19,"percent":"0.29","mkt_cap":"0.081"},"SD":{"count":3,"percent":"0.05","mkt_cap":"0.019"},"TN":{"count":29,"percent":"0.44","mkt_cap":"0.218"},"TX":{"count":102,"percent":"1.54","mkt_cap":"0.558"},"UT":{"count":29,"percent":"0.44","mkt_cap":"0.405"},"VA":{"count":85,"percent":"1.28","mkt_cap":"2.794"},"VT":{"count":3,"percent":"0.05","mkt_cap":"0.004"},"WA":{"count":51,"percent":"0.77","mkt_cap":"2.376"},"WI":{"count":53,"percent":"0.80","mkt_cap":"0.484"},"WV":{"count":8,"percent":"0.12","mkt_cap":"0.018"},"WY":{"count":10,"percent":"0.15","mkt_cap":"0.001"}},"2012":{"AK":{"count":5,"percent":"0.07","mkt_cap":"0.007"},"AL":{"count":5,"percent":"0.07","mkt_cap":"0.032"},"AR":{"count":8,"percent":"0.12","mkt_cap":"0.061"},"AZ":{"count":11,"percent":"0.16","mkt_cap":"0.065"},"CA":{"count":111,"percent":"1.66","mkt_cap":"4.545"},"CO":{"count":57,"percent":"0.85","mkt_cap":"0.032"},"CT":{"count":21,"percent":"0.31","mkt_cap":"0.132"},"DC":{"count":7,"percent":"0.10","mkt_cap":"0.002"},"DE":{"count":3561,"percent":"53.40","mkt_cap":"63.014"},"FL":{"count":117,"percent":"1.75","mkt_cap":"0.682"},"GA":{"count":50,"percent":"0.75","mkt_cap":"0.597"},"HI":{"count":5,"percent":"0.07","mkt_cap":"0.034"},"IA":{"count":17,"percent":"0.25","mkt_cap":"0.039"},"ID":{"count":6,"percent":"0.09","mkt_cap":"0.015"},"IL":{"count":31,"percent":"0.46","mkt_cap":"0.770"},"IN":{"count":61,"percent":"0.91","mkt_cap":"0.728"},"KS":{"count":10,"percent":"0.15","mkt_cap":"0.010"},"KY":{"count":17,"percent":"0.25","mkt_cap":"0.019"},"LA":{"count":23,"percent":"0.34","mkt_cap":"0.215"},"MA":{"count":220,"percent":"3.30","mkt_cap":"0.874"},"MD":{"count":505,"percent":"7.57","mkt_cap":"2.436"},"ME":{"count":7,"percent":"0.10","mkt_cap":"0.004"},"MI":{"count":54,"percent":"0.81","mkt_cap":"0.451"},"MN":{"count":140,"percent":"2.10","mkt_cap":"0.729"},"MO":{"count":39,"percent":"0.58","mkt_cap":"0.611"},"MS":{"count":12,"percent":"0.18","mkt_cap":"0.046"},"MT":{"count":3,"percent":"0.04","mkt_cap":"0.007"},"NC":{"count":42,"percent":"0.63","mkt_cap":"1.559"},"ND":{"count":3,"percent":"0.04","mkt_cap":"0.004"},"NE":{"count":5,"percent":"0.07","mkt_cap":"0.024"},"NH":{"count":3,"percent":"0.04","mkt_cap":"0.002"},"NJ":{"count":83,"percent":"1.24","mkt_cap":"5.081"},"NM":{"count":4,"percent":"0.06","mkt_cap":"0.010"},"NV":{"count":620,"percent":"9.30","mkt_cap":"0.925"},"NY":{"count":132,"percent":"1.98","mkt_cap":"4.532"},"OH":{"count":108,"percent":"1.62","mkt_cap":"2.254"},"OK":{"count":17,"percent":"0.25","mkt_cap":"0.275"},"OR":{"count":33,"percent":"0.49","mkt_cap":"0.457"},"PA":{"count":120,"percent":"1.80","mkt_cap":"1.906"},"RI":{"count":6,"percent":"0.09","mkt_cap":"0.034"},"SC":{"count":18,"percent":"0.27","mkt_cap":"0.072"},"SD":{"count":3,"percent":"0.04","mkt_cap":"0.016"},"TN":{"count":27,"percent":"0.40","mkt_cap":"0.185"},"TX":{"count":100,"percent":"1.50","mkt_cap":"0.552"},"UT":{"count":28,"percent":"0.42","mkt_cap":"0.411"},"VA":{"count":85,"percent":"1.27","mkt_cap":"2.518"},"VT":{"count":2,"percent":"0.03","mkt_cap":"0.001"},"WA":{"count":50,"percent":"0.75","mkt_cap":"2.521"},"WI":{"count":54,"percent":"0.81","mkt_cap":"0.480"},"WV":{"count":8,"percent":"0.12","mkt_cap":"0.016"},"WY":{"count":14,"percent":"0.21","mkt_cap":"0.004"}},"2013":{"AK":{"count":5,"percent":"0.08","mkt_cap":"0.006"},"AL":{"count":3,"percent":"0.05","mkt_cap":"0.025"},"AR":{"count":8,"percent":"0.12","mkt_cap":"0.071"},"AZ":{"count":11,"percent":"0.17","mkt_cap":"0.052"},"CA":{"count":111,"percent":"1.67","mkt_cap":"2.655"},"CO":{"count":59,"percent":"0.89","mkt_cap":"0.027"},"CT":{"count":20,"percent":"0.30","mkt_cap":"0.118"},"DC":{"count":7,"percent":"0.11","mkt_cap":"0.000"},"DE":{"count":3568,"percent":"53.68","mkt_cap":"66.917"},"FL":{"count":117,"percent":"1.76","mkt_cap":"0.611"},"GA":{"count":49,"percent":"0.74","mkt_cap":"0.642"},"HI":{"count":6,"percent":"0.09","mkt_cap":"0.033"},"IA":{"count":17,"percent":"0.26","mkt_cap":"0.044"},"ID":{"count":6,"percent":"0.09","mkt_cap":"0.014"},"IL":{"count":32,"percent":"0.48","mkt_cap":"0.413"},"IN":{"count":61,"percent":"0.92","mkt_cap":"0.672"},"KS":{"count":12,"percent":"0.18","mkt_cap":"0.010"},"KY":{"count":17,"percent":"0.26","mkt_cap":"0.021"},"LA":{"count":21,"percent":"0.32","mkt_cap":"0.136"},"MA":{"count":215,"percent":"3.23","mkt_cap":"0.835"},"MD":{"count":516,"percent":"7.76","mkt_cap":"2.143"},"ME":{"count":7,"percent":"0.11","mkt_cap":"0.004"},"MI":{"count":53,"percent":"0.80","mkt_cap":"0.448"},"MN":{"count":125,"percent":"1.88","mkt_cap":"0.655"},"MO":{"count":38,"percent":"0.57","mkt_cap":"0.581"},"MS":{"count":10,"percent":"0.15","mkt_cap":"0.049"},"MT":{"count":2,"percent":"0.03","mkt_cap":"0.012"},"NC":{"count":45,"percent":"0.68","mkt_cap":"1.412"},"ND":{"count":3,"percent":"0.05","mkt_cap":"0.005"},"NE":{"count":5,"percent":"0.08","mkt_cap":"0.029"},"NH":{"count":3,"percent":"0.05","mkt_cap":"0.002"},"NJ":{"count":80,"percent":"1.20","mkt_cap":"4.831"},"NM":{"count":4,"percent":"0.06","mkt_cap":"0.009"},"NV":{"count":627,"percent":"9.43","mkt_cap":"1.058"},"NY":{"count":127,"percent":"1.91","mkt_cap":"4.293"},"OH":{"count":105,"percent":"1.58","mkt_cap":"2.076"},"OK":{"count":17,"percent":"0.26","mkt_cap":"0.318"},"OR":{"count":30,"percent":"0.45","mkt_cap":"0.442"},"PA":{"count":120,"percent":"1.81","mkt_cap":"1.815"},"RI":{"count":5,"percent":"0.08","mkt_cap":"0.040"},"SC":{"count":17,"percent":"0.26","mkt_cap":"0.076"},"SD":{"count":3,"percent":"0.05","mkt_cap":"0.018"},"TN":{"count":27,"percent":"0.41","mkt_cap":"0.155"},"TX":{"count":95,"percent":"1.43","mkt_cap":"0.605"},"UT":{"count":27,"percent":"0.41","mkt_cap":"0.416"},"VA":{"count":85,"percent":"1.28","mkt_cap":"2.380"},"VT":{"count":2,"percent":"0.03","mkt_cap":"0.001"},"WA":{"count":48,"percent":"0.72","mkt_cap":"2.317"},"WI":{"count":55,"percent":"0.83","mkt_cap":"0.488"},"WV":{"count":8,"percent":"0.12","mkt_cap":"0.017"},"WY":{"count":13,"percent":"0.20","mkt_cap":"0.005"}},"2014":{"AK":{"count":4,"percent":"0.06","mkt_cap":"0.006"},"AL":{"count":3,"percent":"0.05","mkt_cap":"0.021"},"AR":{"count":8,"percent":"0.12","mkt_cap":"0.074"},"AZ":{"count":11,"percent":"0.17","mkt_cap":"0.049"},"CA":{"count":103,"percent":"1.60","mkt_cap":"3.345"},"CO":{"count":57,"percent":"0.89","mkt_cap":"0.024"},"CT":{"count":21,"percent":"0.33","mkt_cap":"0.125"},"DC":{"count":7,"percent":"0.11","mkt_cap":"0.055"},"DE":{"count":3465,"percent":"53.96","mkt_cap":"65.457"},"FL":{"count":114,"percent":"1.78","mkt_cap":"0.679"},"GA":{"count":47,"percent":"0.73","mkt_cap":"0.627"},"HI":{"count":6,"percent":"0.09","mkt_cap":"0.035"},"IA":{"count":18,"percent":"0.28","mkt_cap":"0.055"},"ID":{"count":5,"percent":"0.08","mkt_cap":"0.016"},"IL":{"count":33,"percent":"0.51","mkt_cap":"0.418"},"IN":{"count":57,"percent":"0.89","mkt_cap":"0.887"},"KS":{"count":9,"percent":"0.14","mkt_cap":"0.008"},"KY":{"count":17,"percent":"0.26","mkt_cap":"0.020"},"LA":{"count":20,"percent":"0.31","mkt_cap":"0.155"},"MA":{"count":210,"percent":"3.27","mkt_cap":"0.902"},"MD":{"count":508,"percent":"7.91","mkt_cap":"2.477"},"ME":{"count":7,"percent":"0.11","mkt_cap":"0.004"},"MI":{"count":51,"percent":"0.79","mkt_cap":"0.511"},"MN":{"count":114,"percent":"1.78","mkt_cap":"0.719"},"MO":{"count":36,"percent":"0.56","mkt_cap":"0.598"},"MS":{"count":10,"percent":"0.16","mkt_cap":"0.043"},"MT":{"count":2,"percent":"0.03","mkt_cap":"0.010"},"NC":{"count":43,"percent":"0.67","mkt_cap":"1.488"},"ND":{"count":5,"percent":"0.08","mkt_cap":"0.009"},"NE":{"count":5,"percent":"0.08","mkt_cap":"0.022"},"NH":{"count":4,"percent":"0.06","mkt_cap":"0.003"},"NJ":{"count":75,"percent":"1.17","mkt_cap":"4.608"},"NM":{"count":4,"percent":"0.06","mkt_cap":"0.011"},"NV":{"count":568,"percent":"8.84","mkt_cap":"0.908"},"NY":{"count":126,"percent":"1.96","mkt_cap":"3.829"},"OH":{"count":101,"percent":"1.57","mkt_cap":"2.201"},"OK":{"count":18,"percent":"0.28","mkt_cap":"0.241"},"OR":{"count":31,"percent":"0.48","mkt_cap":"0.521"},"PA":{"count":121,"percent":"1.88","mkt_cap":"2.024"},"RI":{"count":5,"percent":"0.08","mkt_cap":"0.036"},"SC":{"count":16,"percent":"0.25","mkt_cap":"0.076"},"SD":{"count":3,"percent":"0.05","mkt_cap":"0.015"},"TN":{"count":25,"percent":"0.39","mkt_cap":"0.157"},"TX":{"count":93,"percent":"1.45","mkt_cap":"0.638"},"UT":{"count":24,"percent":"0.37","mkt_cap":"0.522"},"VA":{"count":88,"percent":"1.37","mkt_cap":"2.409"},"VT":{"count":2,"percent":"0.03","mkt_cap":"0.001"},"WA":{"count":46,"percent":"0.72","mkt_cap":"2.461"},"WI":{"count":55,"percent":"0.86","mkt_cap":"0.478"},"WV":{"count":8,"percent":"0.12","mkt_cap":"0.021"},"WY":{"count":13,"percent":"0.20","mkt_cap":"0.004"}},"2015":{"AK":{"count":4,"percent":"0.06","mkt_cap":"0.007"},"AL":{"count":3,"percent":"0.05","mkt_cap":"0.015"},"AR":{"count":8,"percent":"0.13","mkt_cap":"0.084"},"AZ":{"count":11,"percent":"0.18","mkt_cap":"0.040"},"CA":{"count":95,"percent":"1.53","mkt_cap":"3.417"},"CO":{"count":55,"percent":"0.88","mkt_cap":"0.023"},"CT":{"count":19,"percent":"0.31","mkt_cap":"0.126"},"DC":{"count":7,"percent":"0.11","mkt_cap":"0.002"},"DE":{"count":3408,"percent":"54.76","mkt_cap":"65.754"},"FL":{"count":107,"percent":"1.72","mkt_cap":"0.675"},"GA":{"count":45,"percent":"0.72","mkt_cap":"0.718"},"HI":{"count":5,"percent":"0.08","mkt_cap":"0.035"},"IA":{"count":17,"percent":"0.27","mkt_cap":"0.060"},"ID":{"count":5,"percent":"0.08","mkt_cap":"0.017"},"IL":{"count":33,"percent":"0.53","mkt_cap":"0.405"},"IN":{"count":55,"percent":"0.88","mkt_cap":"0.906"},"KS":{"count":9,"percent":"0.14","mkt_cap":"0.009"},"KY":{"count":16,"percent":"0.26","mkt_cap":"0.022"},"LA":{"count":17,"percent":"0.27","mkt_cap":"0.120"},"MA":{"count":207,"percent":"3.33","mkt_cap":"0.874"},"MD":{"count":500,"percent":"8.03","mkt_cap":"2.523"},"ME":{"count":7,"percent":"0.11","mkt_cap":"0.005"},"MI":{"count":50,"percent":"0.80","mkt_cap":"0.499"},"MN":{"count":100,"percent":"1.61","mkt_cap":"0.655"},"MO":{"count":35,"percent":"0.56","mkt_cap":"0.557"},"MS":{"count":10,"percent":"0.16","mkt_cap":"0.043"},"MT":{"count":2,"percent":"0.03","mkt_cap":"0.010"},"NC":{"count":40,"percent":"0.64","mkt_cap":"1.726"},"ND":{"count":5,"percent":"0.08","mkt_cap":"0.004"},"NE":{"count":4,"percent":"0.06","mkt_cap":"0.015"},"NH":{"count":4,"percent":"0.06","mkt_cap":"0.003"},"NJ":{"count":70,"percent":"1.12","mkt_cap":"4.263"},"NM":{"count":4,"percent":"0.06","mkt_cap":"0.012"},"NV":{"count":508,"percent":"8.16","mkt_cap":"0.818"},"NY":{"count":125,"percent":"2.01","mkt_cap":"3.819"},"OH":{"count":97,"percent":"1.56","mkt_cap":"2.145"},"OK":{"count":18,"percent":"0.29","mkt_cap":"0.142"},"OR":{"count":29,"percent":"0.47","mkt_cap":"0.576"},"PA":{"count":118,"percent":"1.90","mkt_cap":"1.977"},"RI":{"count":5,"percent":"0.08","mkt_cap":"0.044"},"SC":{"count":16,"percent":"0.26","mkt_cap":"0.078"},"SD":{"count":3,"percent":"0.05","mkt_cap":"0.014"},"TN":{"count":26,"percent":"0.42","mkt_cap":"0.178"},"TX":{"count":89,"percent":"1.43","mkt_cap":"0.614"},"UT":{"count":25,"percent":"0.40","mkt_cap":"0.353"},"VA":{"count":83,"percent":"1.33","mkt_cap":"2.435"},"VT":{"count":2,"percent":"0.03","mkt_cap":"0.001"},"WA":{"count":47,"percent":"0.76","mkt_cap":"2.713"},"WI":{"count":53,"percent":"0.85","mkt_cap":"0.443"},"WV":{"count":8,"percent":"0.13","mkt_cap":"0.022"},"WY":{"count":14,"percent":"0.22","mkt_cap":"0.009"}},"2016":{"AK":{"count":4,"percent":"0.07","mkt_cap":"0.006"},"AL":{"count":3,"percent":"0.05","mkt_cap":"0.024"},"AR":{"count":8,"percent":"0.13","mkt_cap":"0.102"},"AZ":{"count":10,"percent":"0.17","mkt_cap":"0.042"},"CA":{"count":84,"percent":"1.40","mkt_cap":"3.151"},"CO":{"count":55,"percent":"0.92","mkt_cap":"0.029"},"CT":{"count":18,"percent":"0.30","mkt_cap":"0.123"},"DC":{"count":7,"percent":"0.12","mkt_cap":"0.003"},"DE":{"count":3322,"percent":"55.41","mkt_cap":"66.595"},"FL":{"count":99,"percent":"1.65","mkt_cap":"0.611"},"GA":{"count":42,"percent":"0.70","mkt_cap":"0.685"},"HI":{"count":5,"percent":"0.08","mkt_cap":"0.036"},"IA":{"count":17,"percent":"0.28","mkt_cap":"0.060"},"ID":{"count":4,"percent":"0.07","mkt_cap":"0.018"},"IL":{"count":31,"percent":"0.52","mkt_cap":"0.344"},"IN":{"count":54,"percent":"0.90","mkt_cap":"0.682"},"KS":{"count":8,"percent":"0.13","mkt_cap":"0.006"},"KY":{"count":16,"percent":"0.27","mkt_cap":"0.048"},"LA":{"count":17,"percent":"0.28","mkt_cap":"0.090"},"MA":{"count":202,"percent":"3.37","mkt_cap":"0.602"},"MD":{"count":491,"percent":"8.19","mkt_cap":"2.587"},"ME":{"count":7,"percent":"0.12","mkt_cap":"0.006"},"MI":{"count":50,"percent":"0.83","mkt_cap":"0.510"},"MN":{"count":84,"percent":"1.40","mkt_cap":"0.552"},"MO":{"count":33,"percent":"0.55","mkt_cap":"0.611"},"MS":{"count":10,"percent":"0.17","mkt_cap":"0.058"},"MT":{"count":2,"percent":"0.03","mkt_cap":"0.012"},"NC":{"count":39,"percent":"0.65","mkt_cap":"1.674"},"ND":{"count":5,"percent":"0.08","mkt_cap":"0.004"},"NE":{"count":4,"percent":"0.07","mkt_cap":"0.013"},"NH":{"count":4,"percent":"0.07","mkt_cap":"0.003"},"NJ":{"count":69,"percent":"1.15","mkt_cap":"4.498"},"NM":{"count":3,"percent":"0.05","mkt_cap":"0.012"},"NV":{"count":464,"percent":"7.74","mkt_cap":"0.794"},"NY":{"count":120,"percent":"2.00","mkt_cap":"3.272"},"OH":{"count":92,"percent":"1.53","mkt_cap":"2.159"},"OK":{"count":19,"percent":"0.32","mkt_cap":"0.241"},"OR":{"count":26,"percent":"0.43","mkt_cap":"0.491"},"PA":{"count":117,"percent":"1.95","mkt_cap":"2.080"},"RI":{"count":4,"percent":"0.07","mkt_cap":"0.047"},"SC":{"count":14,"percent":"0.23","mkt_cap":"0.088"},"SD":{"count":3,"percent":"0.05","mkt_cap":"0.018"},"TN":{"count":25,"percent":"0.42","mkt_cap":"0.177"},"TX":{"count":81,"percent":"1.35","mkt_cap":"0.664"},"UT":{"count":23,"percent":"0.38","mkt_cap":"0.396"},"VA":{"count":79,"percent":"1.32","mkt_cap":"2.479"},"VT":{"count":2,"percent":"0.03","mkt_cap":"0.001"},"WA":{"count":48,"percent":"0.80","mkt_cap":"2.788"},"WI":{"count":50,"percent":"0.83","mkt_cap":"0.472"},"WV":{"count":6,"percent":"0.10","mkt_cap":"0.031"},"WY":{"count":15,"percent":"0.25","mkt_cap":"0.001"}},"2017":{"AK":{"count":4,"percent":"0.07","mkt_cap":"0.009"},"AL":{"count":3,"percent":"0.05","mkt_cap":"0.021"},"AR":{"count":8,"percent":"0.14","mkt_cap":"0.096"},"AZ":{"count":8,"percent":"0.14","mkt_cap":"0.036"},"CA":{"count":77,"percent":"1.33","mkt_cap":"3.348"},"CO":{"count":53,"percent":"0.91","mkt_cap":"0.027"},"CT":{"count":18,"percent":"0.31","mkt_cap":"0.144"},"DC":{"count":7,"percent":"0.12","mkt_cap":"0.003"},"DE":{"count":3242,"percent":"55.91","mkt_cap":"66.756"},"FL":{"count":94,"percent":"1.62","mkt_cap":"0.674"},"GA":{"count":41,"percent":"0.71","mkt_cap":"0.694"},"HI":{"count":5,"percent":"0.09","mkt_cap":"0.028"},"IA":{"count":17,"percent":"0.29","mkt_cap":"0.047"},"ID":{"count":4,"percent":"0.07","mkt_cap":"0.018"},"IL":{"count":30,"percent":"0.52","mkt_cap":"0.457"},"IN":{"count":55,"percent":"0.95","mkt_cap":"0.709"},"KS":{"count":9,"percent":"0.16","mkt_cap":"0.008"},"KY":{"count":15,"percent":"0.26","mkt_cap":"0.044"},"LA":{"count":17,"percent":"0.29","mkt_cap":"0.102"},"MA":{"count":201,"percent":"3.47","mkt_cap":"0.750"},"MD":{"count":474,"percent":"8.17","mkt_cap":"2.884"},"ME":{"count":7,"percent":"0.12","mkt_cap":"0.006"},"MI":{"count":47,"percent":"0.81","mkt_cap":"0.531"},"MN":{"count":74,"percent":"1.28","mkt_cap":"0.536"},"MO":{"count":32,"percent":"0.55","mkt_cap":"0.503"},"MS":{"count":10,"percent":"0.17","mkt_cap":"0.057"},"MT":{"count":2,"percent":"0.03","mkt_cap":"0.012"},"NC":{"count":31,"percent":"0.53","mkt_cap":"1.329"},"ND":{"count":5,"percent":"0.09","mkt_cap":"0.005"},"NE":{"count":4,"percent":"0.07","mkt_cap":"0.014"},"NH":{"count":4,"percent":"0.07","mkt_cap":"0.003"},"NJ":{"count":66,"percent":"1.14","mkt_cap":"3.938"},"NM":{"count":3,"percent":"0.05","mkt_cap":"0.012"},"NV":{"count":432,"percent":"7.45","mkt_cap":"1.757"},"NY":{"count":117,"percent":"2.02","mkt_cap":"2.378"},"OH":{"count":89,"percent":"1.53","mkt_cap":"2.021"},"OK":{"count":18,"percent":"0.31","mkt_cap":"0.232"},"OR":{"count":23,"percent":"0.40","mkt_cap":"0.518"},"PA":{"count":112,"percent":"1.93","mkt_cap":"2.103"},"RI":{"count":4,"percent":"0.07","mkt_cap":"0.046"},"SC":{"count":13,"percent":"0.22","mkt_cap":"0.060"},"SD":{"count":4,"percent":"0.07","mkt_cap":"0.017"},"TN":{"count":25,"percent":"0.43","mkt_cap":"0.234"},"TX":{"count":78,"percent":"1.35","mkt_cap":"0.651"},"UT":{"count":22,"percent":"0.38","mkt_cap":"0.420"},"VA":{"count":74,"percent":"1.28","mkt_cap":"2.357"},"VT":{"count":2,"percent":"0.03","mkt_cap":"0.001"},"WA":{"count":49,"percent":"0.84","mkt_cap":"2.907"},"WI":{"count":50,"percent":"0.86","mkt_cap":"0.470"},"WV":{"count":6,"percent":"0.10","mkt_cap":"0.026"},"WY":{"count":14,"percent":"0.24","mkt_cap":"0.002"}},"2018":{"AK":{"count":3,"percent":"0.05","mkt_cap":"0.004"},"AL":{"count":2,"percent":"0.04","mkt_cap":"0.000"},"AR":{"count":6,"percent":"0.11","mkt_cap":"0.069"},"AZ":{"count":8,"percent":"0.14","mkt_cap":"0.037"},"CA":{"count":72,"percent":"1.26","mkt_cap":"4.464"},"CO":{"count":48,"percent":"0.84","mkt_cap":"0.022"},"CT":{"count":18,"percent":"0.32","mkt_cap":"0.106"},"DC":{"count":6,"percent":"0.11","mkt_cap":"0.000"},"DE":{"count":3265,"percent":"57.29","mkt_cap":"67.536"},"FL":{"count":92,"percent":"1.61","mkt_cap":"0.696"},"GA":{"count":40,"percent":"0.70","mkt_cap":"0.657"},"HI":{"count":5,"percent":"0.09","mkt_cap":"0.028"},"IA":{"count":17,"percent":"0.30","mkt_cap":"0.043"},"ID":{"count":3,"percent":"0.05","mkt_cap":"0.018"},"IL":{"count":27,"percent":"0.47","mkt_cap":"0.580"},"IN":{"count":52,"percent":"0.91","mkt_cap":"0.779"},"KS":{"count":9,"percent":"0.16","mkt_cap":"0.007"},"KY":{"count":13,"percent":"0.23","mkt_cap":"0.038"},"LA":{"count":17,"percent":"0.30","mkt_cap":"0.086"},"MA":{"count":197,"percent":"3.46","mkt_cap":"0.698"},"MD":{"count":434,"percent":"7.62","mkt_cap":"2.758"},"ME":{"count":6,"percent":"0.11","mkt_cap":"0.005"},"MI":{"count":45,"percent":"0.79","mkt_cap":"0.521"},"MN":{"count":72,"percent":"1.26","mkt_cap":"0.506"},"MO":{"count":31,"percent":"0.54","mkt_cap":"0.567"},"MS":{"count":10,"percent":"0.18","mkt_cap":"0.046"},"MT":{"count":2,"percent":"0.04","mkt_cap":"0.013"},"NC":{"count":32,"percent":"0.56","mkt_cap":"1.213"},"ND":{"count":4,"percent":"0.07","mkt_cap":"0.002"},"NE":{"count":4,"percent":"0.07","mkt_cap":"0.019"},"NH":{"count":4,"percent":"0.07","mkt_cap":"0.003"},"NJ":{"count":66,"percent":"1.16","mkt_cap":"3.841"},"NM":{"count":3,"percent":"0.05","mkt_cap":"0.012"},"NV":{"count":411,"percent":"7.21","mkt_cap":"0.753"},"NY":{"count":112,"percent":"1.97","mkt_cap":"1.854"},"OH":{"count":82,"percent":"1.44","mkt_cap":"1.742"},"OK":{"count":18,"percent":"0.32","mkt_cap":"0.222"},"OR":{"count":21,"percent":"0.37","mkt_cap":"0.546"},"PA":{"count":111,"percent":"1.95","mkt_cap":"1.739"},"RI":{"count":4,"percent":"0.07","mkt_cap":"0.043"},"SC":{"count":12,"percent":"0.21","mkt_cap":"0.040"},"SD":{"count":4,"percent":"0.07","mkt_cap":"0.019"},"TN":{"count":24,"percent":"0.42","mkt_cap":"0.226"},"TX":{"count":74,"percent":"1.30","mkt_cap":"0.686"},"UT":{"count":21,"percent":"0.37","mkt_cap":"0.418"},"VA":{"count":73,"percent":"1.28","mkt_cap":"1.933"},"VT":{"count":2,"percent":"0.04","mkt_cap":"0.001"},"WA":{"count":50,"percent":"0.88","mkt_cap":"3.934"},"WI":{"count":49,"percent":"0.86","mkt_cap":"0.441"},"WV":{"count":6,"percent":"0.11","mkt_cap":"0.026"},"WY":{"count":12,"percent":"0.21","mkt_cap":"0.002"}},"2019":{"AK":{"count":3,"percent":"0.05","mkt_cap":"0.003"},"AL":{"count":2,"percent":"0.03","mkt_cap":"0.000"},"AR":{"count":6,"percent":"0.10","mkt_cap":"0.075"},"AZ":{"count":8,"percent":"0.14","mkt_cap":"0.034"},"CA":{"count":69,"percent":"1.20","mkt_cap":"3.733"},"CO":{"count":38,"percent":"0.66","mkt_cap":"0.016"},"CT":{"count":15,"percent":"0.26","mkt_cap":"0.125"},"DC":{"count":6,"percent":"0.10","mkt_cap":"0.063"},"DE":{"count":3428,"percent":"59.56","mkt_cap":"66.089"},"FL":{"count":90,"percent":"1.56","mkt_cap":"0.790"},"GA":{"count":38,"percent":"0.66","mkt_cap":"0.680"},"HI":{"count":5,"percent":"0.09","mkt_cap":"0.031"},"IA":{"count":16,"percent":"0.28","mkt_cap":"0.049"},"ID":{"count":3,"percent":"0.05","mkt_cap":"0.018"},"IL":{"count":27,"percent":"0.47","mkt_cap":"0.609"},"IN":{"count":52,"percent":"0.90","mkt_cap":"1.037"},"KS":{"count":9,"percent":"0.16","mkt_cap":"0.007"},"KY":{"count":12,"percent":"0.21","mkt_cap":"0.043"},"LA":{"count":17,"percent":"0.30","mkt_cap":"0.071"},"MA":{"count":173,"percent":"3.01","mkt_cap":"0.791"},"MD":{"count":422,"percent":"7.33","mkt_cap":"2.641"},"ME":{"count":6,"percent":"0.10","mkt_cap":"0.006"},"MI":{"count":42,"percent":"0.73","mkt_cap":"0.558"},"MN":{"count":67,"percent":"1.16","mkt_cap":"0.585"},"MO":{"count":27,"percent":"0.47","mkt_cap":"0.497"},"MS":{"count":10,"percent":"0.17","mkt_cap":"0.052"},"MT":{"count":2,"percent":"0.03","mkt_cap":"0.014"},"NC":{"count":30,"percent":"0.52","mkt_cap":"1.396"},"ND":{"count":3,"percent":"0.05","mkt_cap":"0.000"},"NE":{"count":4,"percent":"0.07","mkt_cap":"0.020"},"NH":{"count":4,"percent":"0.07","mkt_cap":"0.004"},"NJ":{"count":63,"percent":"1.09","mkt_cap":"3.675"},"NM":{"count":3,"percent":"0.05","mkt_cap":"0.013"},"NV":{"count":397,"percent":"6.90","mkt_cap":"0.742"},"NY":{"count":108,"percent":"1.88","mkt_cap":"1.934"},"OH":{"count":79,"percent":"1.37","mkt_cap":"1.945"},"OK":{"count":17,"percent":"0.30","mkt_cap":"0.226"},"OR":{"count":20,"percent":"0.35","mkt_cap":"0.600"},"PA":{"count":109,"percent":"1.89","mkt_cap":"1.805"},"RI":{"count":4,"percent":"0.07","mkt_cap":"0.052"},"SC":{"count":12,"percent":"0.21","mkt_cap":"0.037"},"SD":{"count":4,"percent":"0.07","mkt_cap":"0.020"},"TN":{"count":23,"percent":"0.40","mkt_cap":"0.203"},"TX":{"count":73,"percent":"1.27","mkt_cap":"1.072"},"UT":{"count":22,"percent":"0.38","mkt_cap":"0.444"},"VA":{"count":72,"percent":"1.25","mkt_cap":"1.979"},"VT":{"count":2,"percent":"0.03","mkt_cap":"0.001"},"WA":{"count":48,"percent":"0.83","mkt_cap":"4.586"},"WI":{"count":47,"percent":"0.82","mkt_cap":"0.599"},"WV":{"count":6,"percent":"0.10","mkt_cap":"0.028"},"WY":{"count":13,"percent":"0.23","mkt_cap":"0.003"}},"2020":{"AK":{"count":3,"percent":"0.05","mkt_cap":"0.002"},"AL":{"count":3,"percent":"0.05","mkt_cap":"0.000"},"AR":{"count":6,"percent":"0.10","mkt_cap":"0.066"},"AZ":{"count":8,"percent":"0.14","mkt_cap":"0.025"},"CA":{"count":67,"percent":"1.15","mkt_cap":"5.774"},"CO":{"count":37,"percent":"0.64","mkt_cap":"0.020"},"CT":{"count":15,"percent":"0.26","mkt_cap":"0.111"},"DC":{"count":6,"percent":"0.10","mkt_cap":"0.002"},"DE":{"count":3476,"percent":"59.81","mkt_cap":"65.791"},"FL":{"count":86,"percent":"1.48","mkt_cap":"0.771"},"GA":{"count":36,"percent":"0.62","mkt_cap":"0.624"},"HI":{"count":5,"percent":"0.09","mkt_cap":"0.022"},"IA":{"count":16,"percent":"0.28","mkt_cap":"0.038"},"ID":{"count":3,"percent":"0.05","mkt_cap":"0.013"},"IL":{"count":26,"percent":"0.45","mkt_cap":"0.632"},"IN":{"count":52,"percent":"0.89","mkt_cap":"0.832"},"KS":{"count":8,"percent":"0.14","mkt_cap":"0.005"},"KY":{"count":12,"percent":"0.21","mkt_cap":"0.038"},"LA":{"count":15,"percent":"0.26","mkt_cap":"0.036"},"MA":{"count":177,"percent":"3.05","mkt_cap":"0.781"},"MD":{"count":424,"percent":"7.30","mkt_cap":"1.908"},"ME":{"count":6,"percent":"0.10","mkt_cap":"0.004"},"MI":{"count":41,"percent":"0.71","mkt_cap":"0.504"},"MN":{"count":66,"percent":"1.14","mkt_cap":"0.642"},"MO":{"count":26,"percent":"0.45","mkt_cap":"0.388"},"MS":{"count":10,"percent":"0.17","mkt_cap":"0.036"},"MT":{"count":2,"percent":"0.03","mkt_cap":"0.012"},"NC":{"count":30,"percent":"0.52","mkt_cap":"1.268"},"ND":{"count":3,"percent":"0.05","mkt_cap":"0.000"},"NE":{"count":4,"percent":"0.07","mkt_cap":"0.013"},"NH":{"count":4,"percent":"0.07","mkt_cap":"0.002"},"NJ":{"count":61,"percent":"1.05","mkt_cap":"2.605"},"NM":{"count":3,"percent":"0.05","mkt_cap":"0.011"},"NV":{"count":422,"percent":"7.26","mkt_cap":"0.790"},"NY":{"count":107,"percent":"1.84","mkt_cap":"1.864"},"OH":{"count":79,"percent":"1.36","mkt_cap":"1.600"},"OK":{"count":18,"percent":"0.31","mkt_cap":"0.111"},"OR":{"count":21,"percent":"0.36","mkt_cap":"0.668"},"PA":{"count":111,"percent":"1.91","mkt_cap":"1.593"},"RI":{"count":4,"percent":"0.07","mkt_cap":"0.038"},"SC":{"count":12,"percent":"0.21","mkt_cap":"0.037"},"SD":{"count":3,"percent":"0.05","mkt_cap":"0.014"},"TN":{"count":21,"percent":"0.36","mkt_cap":"0.192"},"TX":{"count":69,"percent":"1.19","mkt_cap":"2.144"},"UT":{"count":22,"percent":"0.38","mkt_cap":"0.410"},"VA":{"count":71,"percent":"1.22","mkt_cap":"1.700"},"VT":{"count":2,"percent":"0.03","mkt_cap":"0.001"},"WA":{"count":46,"percent":"0.79","mkt_cap":"5.341"},"WI":{"count":46,"percent":"0.79","mkt_cap":"0.486"},"WV":{"count":6,"percent":"0.10","mkt_cap":"0.022"},"WY":{"count":15,"percent":"0.26","mkt_cap":"0.012"}},"2021":{"AK":{"count":3,"percent":"0.05","mkt_cap":"0.002"},"AL":{"count":5,"percent":"0.09","mkt_cap":"0.001"},"AR":{"count":6,"percent":"0.10","mkt_cap":"0.075"},"AZ":{"count":7,"percent":"0.12","mkt_cap":"0.018"},"CA":{"count":64,"percent":"1.12","mkt_cap":"5.395"},"CO":{"count":38,"percent":"0.66","mkt_cap":"0.015"},"CT":{"count":15,"percent":"0.26","mkt_cap":"0.100"},"DC":{"count":6,"percent":"0.10","mkt_cap":"0.019"},"DE":{"count":3443,"percent":"60.03","mkt_cap":"66.950"},"FL":{"count":85,"percent":"1.48","mkt_cap":"0.727"},"GA":{"count":38,"percent":"0.66","mkt_cap":"0.523"},"HI":{"count":5,"percent":"0.09","mkt_cap":"0.024"},"IA":{"count":14,"percent":"0.24","mkt_cap":"0.034"},"ID":{"count":3,"percent":"0.05","mkt_cap":"0.013"},"IL":{"count":25,"percent":"0.44","mkt_cap":"0.643"},"IN":{"count":49,"percent":"0.85","mkt_cap":"1.143"},"KS":{"count":8,"percent":"0.14","mkt_cap":"0.008"},"KY":{"count":10,"percent":"0.17","mkt_cap":"0.040"},"LA":{"count":15,"percent":"0.26","mkt_cap":"0.035"},"MA":{"count":160,"percent":"2.79","mkt_cap":"0.768"},"MD":{"count":410,"percent":"7.15","mkt_cap":"1.507"},"ME":{"count":6,"percent":"0.10","mkt_cap":"0.004"},"MI":{"count":38,"percent":"0.66","mkt_cap":"0.417"},"MN":{"count":60,"percent":"1.05","mkt_cap":"0.570"},"MO":{"count":26,"percent":"0.45","mkt_cap":"0.391"},"MS":{"count":11,"percent":"0.19","mkt_cap":"0.042"},"MT":{"count":2,"percent":"0.03","mkt_cap":"0.014"},"NC":{"count":31,"percent":"0.54","mkt_cap":"1.251"},"ND":{"count":3,"percent":"0.05","mkt_cap":"0.004"},"NE":{"count":3,"percent":"0.05","mkt_cap":"0.011"},"NH":{"count":4,"percent":"0.07","mkt_cap":"0.002"},"NJ":{"count":55,"percent":"0.96","mkt_cap":"2.425"},"NM":{"count":3,"percent":"0.05","mkt_cap":"0.009"},"NV":{"count":444,"percent":"7.74","mkt_cap":"0.725"},"NY":{"count":105,"percent":"1.83","mkt_cap":"1.831"},"OH":{"count":76,"percent":"1.33","mkt_cap":"1.554"},"OK":{"count":18,"percent":"0.31","mkt_cap":"0.157"},"OR":{"count":20,"percent":"0.35","mkt_cap":"0.462"},"PA":{"count":110,"percent":"1.92","mkt_cap":"1.374"},"RI":{"count":4,"percent":"0.07","mkt_cap":"0.033"},"SC":{"count":12,"percent":"0.21","mkt_cap":"0.029"},"SD":{"count":2,"percent":"0.03","mkt_cap":"0.010"},"TN":{"count":20,"percent":"0.35","mkt_cap":"0.170"},"TX":{"count":67,"percent":"1.17","mkt_cap":"2.634"},"UT":{"count":21,"percent":"0.37","mkt_cap":"0.371"},"VA":{"count":71,"percent":"1.24","mkt_cap":"1.585"},"VT":{"count":2,"percent":"0.03","mkt_cap":"0.001"},"WA":{"count":46,"percent":"0.80","mkt_cap":"5.452"},"WI":{"count":44,"percent":"0.77","mkt_cap":"0.400"},"WV":{"count":6,"percent":"0.10","mkt_cap":"0.020"},"WY":{"count":16,"percent":"0.28","mkt_cap":"0.013"}},"2022":{"AK":{"count":3,"percent":"0.05","mkt_cap":"0.003"},"AL":{"count":5,"percent":"0.09","mkt_cap":"0.001"},"AR":{"count":6,"percent":"0.11","mkt_cap":"0.084"},"AZ":{"count":7,"percent":"0.13","mkt_cap":"0.024"},"CA":{"count":61,"percent":"1.09","mkt_cap":"6.543"},"CO":{"count":38,"percent":"0.68","mkt_cap":"0.013"},"CT":{"count":15,"percent":"0.27","mkt_cap":"0.075"},"DC":{"count":6,"percent":"0.11","mkt_cap":"0.009"},"DE":{"count":3349,"percent":"60.09","mkt_cap":"62.491"},"FL":{"count":82,"percent":"1.47","mkt_cap":"0.815"},"GA":{"count":36,"percent":"0.65","mkt_cap":"0.410"},"HI":{"count":5,"percent":"0.09","mkt_cap":"0.024"},"IA":{"count":13,"percent":"0.23","mkt_cap":"0.039"},"ID":{"count":4,"percent":"0.07","mkt_cap":"0.016"},"IL":{"count":25,"percent":"0.45","mkt_cap":"0.650"},"IN":{"count":46,"percent":"0.83","mkt_cap":"1.223"},"KS":{"count":8,"percent":"0.14","mkt_cap":"0.011"},"KY":{"count":10,"percent":"0.18","mkt_cap":"0.045"},"LA":{"count":15,"percent":"0.27","mkt_cap":"0.023"},"MA":{"count":157,"percent":"2.82","mkt_cap":"0.834"},"MD":{"count":403,"percent":"7.23","mkt_cap":"1.955"},"ME":{"count":6,"percent":"0.11","mkt_cap":"0.005"},"MI":{"count":37,"percent":"0.66","mkt_cap":"0.492"},"MN":{"count":56,"percent":"1.00","mkt_cap":"0.598"},"MO":{"count":26,"percent":"0.47","mkt_cap":"0.501"},"MS":{"count":11,"percent":"0.20","mkt_cap":"0.039"},"MT":{"count":2,"percent":"0.04","mkt_cap":"0.016"},"NC":{"count":30,"percent":"0.54","mkt_cap":"1.416"},"ND":{"count":3,"percent":"0.05","mkt_cap":"0.001"},"NE":{"count":3,"percent":"0.05","mkt_cap":"0.022"},"NH":{"count":4,"percent":"0.07","mkt_cap":"0.003"},"NJ":{"count":50,"percent":"0.90","mkt_cap":"3.739"},"NM":{"count":3,"percent":"0.05","mkt_cap":"0.012"},"NV":{"count":433,"percent":"7.77","mkt_cap":"0.697"},"NY":{"count":96,"percent":"1.72","mkt_cap":"2.172"},"OH":{"count":74,"percent":"1.33","mkt_cap":"1.976"},"OK":{"count":17,"percent":"0.31","mkt_cap":"0.179"},"OR":{"count":19,"percent":"0.34","mkt_cap":"0.502"},"PA":{"count":103,"percent":"1.85","mkt_cap":"1.384"},"RI":{"count":4,"percent":"0.07","mkt_cap":"0.026"},"SC":{"count":13,"percent":"0.23","mkt_cap":"0.038"},"SD":{"count":2,"percent":"0.04","mkt_cap":"0.014"},"TN":{"count":22,"percent":"0.39","mkt_cap":"0.275"},"TX":{"count":65,"percent":"1.17","mkt_cap":"1.401"},"UT":{"count":21,"percent":"0.38","mkt_cap":"0.372"},"VA":{"count":71,"percent":"1.27","mkt_cap":"1.823"},"VT":{"count":2,"percent":"0.04","mkt_cap":"0.001"},"WA":{"count":42,"percent":"0.75","mkt_cap":"6.523"},"WI":{"count":43,"percent":"0.77","mkt_cap":"0.457"},"WV":{"count":6,"percent":"0.11","mkt_cap":"0.027"},"WY":{"count":15,"percent":"0.27","mkt_cap":"0.003"}},"2023":{"AK":{"count":2,"percent":"0.04","mkt_cap":"0.002"},"AL":{"count":5,"percent":"0.10","mkt_cap":"0.001"},"AR":{"count":6,"percent":"0.11","mkt_cap":"0.078"},"AZ":{"count":7,"percent":"0.13","mkt_cap":"0.019"},"CA":{"count":59,"percent":"1.13","mkt_cap":"6.442"},"CO":{"count":37,"percent":"0.71","mkt_cap":"0.009"},"CT":{"count":14,"percent":"0.27","mkt_cap":"0.081"},"DC":{"count":6,"percent":"0.11","mkt_cap":"0.019"},"DE":{"count":3114,"percent":"59.64","mkt_cap":"64.279"},"FL":{"count":76,"percent":"1.46","mkt_cap":"0.605"},"GA":{"count":36,"percent":"0.69","mkt_cap":"0.368"},"HI":{"count":5,"percent":"0.10","mkt_cap":"0.017"},"IA":{"count":13,"percent":"0.25","mkt_cap":"0.040"},"ID":{"count":4,"percent":"0.08","mkt_cap":"0.012"},"IL":{"count":25,"percent":"0.48","mkt_cap":"0.577"},"IN":{"count":45,"percent":"0.86","mkt_cap":"1.739"},"KS":{"count":8,"percent":"0.15","mkt_cap":"0.009"},"KY":{"count":9,"percent":"0.17","mkt_cap":"0.041"},"LA":{"count":15,"percent":"0.29","mkt_cap":"0.011"},"MA":{"count":144,"percent":"2.76","mkt_cap":"0.760"},"MD":{"count":385,"percent":"7.37","mkt_cap":"1.977"},"ME":{"count":6,"percent":"0.11","mkt_cap":"0.004"},"MI":{"count":35,"percent":"0.67","mkt_cap":"0.489"},"MN":{"count":54,"percent":"1.03","mkt_cap":"0.477"},"MO":{"count":25,"percent":"0.48","mkt_cap":"0.435"},"MS":{"count":11,"percent":"0.21","mkt_cap":"0.033"},"MT":{"count":2,"percent":"0.04","mkt_cap":"0.011"},"NC":{"count":30,"percent":"0.57","mkt_cap":"1.150"},"ND":{"count":3,"percent":"0.06","mkt_cap":"0.003"},"NE":{"count":3,"percent":"0.06","mkt_cap":"0.018"},"NH":{"count":4,"percent":"0.08","mkt_cap":"0.002"},"NJ":{"count":47,"percent":"0.90","mkt_cap":"2.810"},"NM":{"count":3,"percent":"0.06","mkt_cap":"0.009"},"NV":{"count":393,"percent":"7.53","mkt_cap":"0.647"},"NY":{"count":91,"percent":"1.74","mkt_cap":"1.782"},"OH":{"count":72,"percent":"1.38","mkt_cap":"1.632"},"OK":{"count":16,"percent":"0.31","mkt_cap":"0.163"},"OR":{"count":17,"percent":"0.33","mkt_cap":"0.382"},"PA":{"count":98,"percent":"1.88","mkt_cap":"1.274"},"RI":{"count":4,"percent":"0.08","mkt_cap":"0.018"},"SC":{"count":13,"percent":"0.25","mkt_cap":"0.034"},"SD":{"count":2,"percent":"0.04","mkt_cap":"0.009"},"TN":{"count":22,"percent":"0.42","mkt_cap":"0.159"},"TX":{"count":65,"percent":"1.24","mkt_cap":"2.080"},"UT":{"count":19,"percent":"0.36","mkt_cap":"0.365"},"VA":{"count":69,"percent":"1.32","mkt_cap":"1.486"},"VT":{"count":2,"percent":"0.04","mkt_cap":"0.001"},"WA":{"count":39,"percent":"0.75","mkt_cap":"6.990"},"WI":{"count":41,"percent":"0.79","mkt_cap":"0.431"},"WV":{"count":6,"percent":"0.11","mkt_cap":"0.022"},"WY":{"count":14,"percent":"0.27","mkt_cap":"0.001"}},"2024":{"AK":{"count":2,"percent":"0.04","mkt_cap":"0.002"},"AL":{"count":5,"percent":"0.11","mkt_cap":"0.001"},"AR":{"count":6,"percent":"0.13","mkt_cap":"0.054"},"AZ":{"count":7,"percent":"0.15","mkt_cap":"0.018"},"CA":{"count":53,"percent":"1.14","mkt_cap":"6.470"},"CO":{"count":31,"percent":"0.67","mkt_cap":"0.009"},"CT":{"count":12,"percent":"0.26","mkt_cap":"0.065"},"DC":{"count":5,"percent":"0.11","mkt_cap":"0.056"},"DE":{"count":2792,"percent":"60.13","mkt_cap":"66.314"},"FL":{"count":64,"percent":"1.38","mkt_cap":"0.600"},"GA":{"count":30,"percent":"0.65","mkt_cap":"0.395"},"HI":{"count":5,"percent":"0.11","mkt_cap":"0.014"},"IA":{"count":12,"percent":"0.26","mkt_cap":"0.010"},"ID":{"count":4,"percent":"0.09","mkt_cap":"0.011"},"IL":{"count":22,"percent":"0.47","mkt_cap":"0.475"},"IN":{"count":42,"percent":"0.90","mkt_cap":"1.613"},"KS":{"count":4,"percent":"0.09","mkt_cap":"0.004"},"KY":{"count":9,"percent":"0.19","mkt_cap":"0.034"},"LA":{"count":15,"percent":"0.32","mkt_cap":"0.015"},"MA":{"count":134,"percent":"2.89","mkt_cap":"0.665"},"MD":{"count":370,"percent":"7.97","mkt_cap":"2.052"},"ME":{"count":6,"percent":"0.13","mkt_cap":"0.003"},"MI":{"count":28,"percent":"0.60","mkt_cap":"0.408"},"MN":{"count":53,"percent":"1.14","mkt_cap":"0.470"},"MO":{"count":25,"percent":"0.54","mkt_cap":"0.396"},"MS":{"count":10,"percent":"0.22","mkt_cap":"0.029"},"MT":{"count":2,"percent":"0.04","mkt_cap":"0.010"},"NC":{"count":28,"percent":"0.60","mkt_cap":"0.888"},"ND":{"count":3,"percent":"0.06","mkt_cap":"0.003"},"NE":{"count":3,"percent":"0.06","mkt_cap":"0.015"},"NH":{"count":3,"percent":"0.06","mkt_cap":"0.002"},"NJ":{"count":43,"percent":"0.93","mkt_cap":"2.283"},"NM":{"count":3,"percent":"0.06","mkt_cap":"0.008"},"NV":{"count":287,"percent":"6.18","mkt_cap":"0.522"},"NY":{"count":81,"percent":"1.74","mkt_cap":"1.937"},"OH":{"count":68,"percent":"1.46","mkt_cap":"1.387"},"OK":{"count":11,"percent":"0.24","mkt_cap":"0.185"},"OR":{"count":15,"percent":"0.32","mkt_cap":"0.042"},"PA":{"count":86,"percent":"1.85","mkt_cap":"1.047"},"RI":{"count":4,"percent":"0.09","mkt_cap":"0.015"},"SC":{"count":12,"percent":"0.26","mkt_cap":"0.027"},"SD":{"count":2,"percent":"0.04","mkt_cap":"0.008"},"TN":{"count":21,"percent":"0.45","mkt_cap":"0.109"},"TX":{"count":61,"percent":"1.31","mkt_cap":"2.539"},"UT":{"count":14,"percent":"0.30","mkt_cap":"0.263"},"VA":{"count":64,"percent":"1.38","mkt_cap":"1.210"},"VT":{"count":2,"percent":"0.04","mkt_cap":"0.000"},"WA":{"count":31,"percent":"0.67","mkt_cap":"6.889"},"WI":{"count":39,"percent":"0.84","mkt_cap":"0.409"},"WV":{"count":5,"percent":"0.11","mkt_cap":"0.016"},"WY":{"count":9,"percent":"0.19","mkt_cap":"0.000"}}}')},415:e=>{"use strict";e.exports=JSON.parse('[{"year":1990,"HQ":2741,"DE":3856,"other":1227},{"year":1991,"HQ":2802,"DE":4121,"other":1256},{"year":1992,"HQ":2908,"DE":4454,"other":1401},{"year":1993,"HQ":3110,"DE":4742,"other":1486},{"year":1994,"HQ":3110,"DE":4943,"other":1532},{"year":1995,"HQ":3123,"DE":5280,"other":1577},{"year":1996,"HQ":3070,"DE":5390,"other":1580},{"year":1997,"HQ":2928,"DE":5314,"other":1560},{"year":1998,"HQ":2819,"DE":5348,"other":1577},{"year":1999,"HQ":2751,"DE":5159,"other":1651},{"year":2000,"HQ":2577,"DE":4857,"other":1622},{"year":2001,"HQ":2435,"DE":4591,"other":1567},{"year":2002,"HQ":2309,"DE":4467,"other":1512},{"year":2003,"HQ":2221,"DE":4313,"other":1501},{"year":2004,"HQ":2129,"DE":4167,"other":1466},{"year":2005,"HQ":2049,"DE":4068,"other":1413},{"year":2006,"HQ":1953,"DE":3923,"other":1361},{"year":2007,"HQ":1840,"DE":3768,"other":1317},{"year":2008,"HQ":1744,"DE":3603,"other":1260},{"year":2009,"HQ":1708,"DE":3508,"other":1266},{"year":2010,"HQ":1658,"DE":3433,"other":1291},{"year":2011,"HQ":1621,"DE":3418,"other":1336},{"year":2012,"HQ":1585,"DE":3476,"other":1346},{"year":2013,"HQ":1562,"DE":3487,"other":1357},{"year":2014,"HQ":1518,"DE":3390,"other":1294},{"year":2015,"HQ":1456,"DE":3335,"other":1230},{"year":2016,"HQ":1388,"DE":3251,"other":1161},{"year":2017,"HQ":1340,"DE":3170,"other":1106},{"year":2018,"HQ":1296,"DE":3185,"other":1041},{"year":2019,"HQ":1229,"DE":3348,"other":1007},{"year":2020,"HQ":1217,"DE":3397,"other":1018},{"year":2021,"HQ":1186,"DE":3365,"other":1002},{"year":2022,"HQ":1153,"DE":3272,"other":976},{"year":2023,"HQ":1112,"DE":3043,"other":906},{"year":2024,"HQ":1008,"DE":2730,"other":777}]')}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.m=e,n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,i){if(1&i&&(a=this(a)),8&i)return a;if("object"===typeof a&&a){if(4&i&&a.__esModule)return a;if(16&i&&"function"===typeof a.then)return a}var r=Object.create(null);n.r(r);var s={};e=e||[null,t({}),t([]),t(t)];for(var l=2&i&&a;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>s[e]=()=>a[e]));return s.default=()=>a,n.d(r,s),r}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,a)=>(n.f[a](e,t),t)),[])),n.u=e=>"static/js/"+e+".ba5debf1.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="adamhenrycallister.github.io:";n.l=(a,i,r,s)=>{if(e[a])e[a].push(i);else{var l,o;if(void 0!==r)for(var c=document.getElementsByTagName("script"),h=0;h<c.length;h++){var d=c[h];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==t+r){l=d;break}}l||(o=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+r),l.src=a),e[a]=[i];var u=(t,n)=>{l.onerror=l.onload=null,clearTimeout(p);var i=e[a];if(delete e[a],l.parentNode&&l.parentNode.removeChild(l),i&&i.forEach((e=>e(n))),t)return t(n)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=u.bind(null,l.onerror),l.onload=u.bind(null,l.onload),o&&document.head.appendChild(l)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,a)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)a.push(i[2]);else{var r=new Promise(((n,a)=>i=e[t]=[n,a]));a.push(i[2]=r);var s=n.p+n.u(t),l=new Error;n.l(s,(a=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var r=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",l.name="ChunkLoadError",l.type=r,l.request=s,i[1](l)}}),"chunk-"+t,t)}};var t=(t,a)=>{var i,r,s=a[0],l=a[1],o=a[2],c=0;if(s.some((t=>0!==e[t]))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(o)o(n)}for(t&&t(a);c<s.length;c++)r=s[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0},a=self.webpackChunkadamhenrycallister_github_io=self.webpackChunkadamhenrycallister_github_io||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),(()=>{"use strict";var e=n(5043),t=n(4391),a=n(5475),i=n(3216),r=n(579);const s=function(){return(0,r.jsx)("nav",{className:"navbar",children:(0,r.jsxs)("ul",{className:"navbar-links",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{exact:!0,to:"/",activeClassName:"active-link",children:"Home"})}),(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{to:"/cv",activeClassName:"active-link",children:"CV"})}),(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{to:"/research",activeClassName:"active-link",children:"Research"})}),(0,r.jsxs)("li",{className:"dropdown",children:[(0,r.jsx)(a.k2,{className:"dropbtn",children:"Teaching"}),(0,r.jsxs)("ul",{className:"dropdown-content",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{to:"/corporate_finance",children:"Corporate Finance"})}),(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{to:"/ma",children:"M&A"})}),(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{to:"/sec_reg",children:"Securities Regulation"})}),(0,r.jsx)("li",{children:(0,r.jsx)(a.k2,{to:"/misc",children:"Miscellaneous"})})]})]})]})})};var l=n(1646),o=n(5898),c=n(9938),h=n(6900),d=n(5748),u=n(7018),p=n(8206),f=n(9944),m=n(1840);const x=function(){return(0,r.jsx)(a.I9,{children:(0,r.jsxs)("div",{className:"App",children:[(0,r.jsx)(s,{}),(0,r.jsx)("main",{children:(0,r.jsxs)(i.BV,{children:[(0,r.jsx)(i.qh,{path:"/",element:(0,r.jsx)(l.default,{})}),(0,r.jsx)(i.qh,{path:"/cv",element:(0,r.jsx)(o.default,{})}),(0,r.jsx)(i.qh,{path:"/research",element:(0,r.jsx)(c.default,{})}),(0,r.jsx)(i.qh,{path:"/teaching",element:(0,r.jsx)(h.default,{})}),(0,r.jsx)(i.qh,{path:"/corporate_finance",element:(0,r.jsx)(d.default,{})}),(0,r.jsx)(i.qh,{path:"/ma",element:(0,r.jsx)(u.default,{})}),(0,r.jsx)(i.qh,{path:"/misc",element:(0,r.jsx)(p.default,{})}),(0,r.jsx)(i.qh,{path:"/sec_reg",element:(0,r.jsx)(f.default,{})}),m.A.map((e=>{let{path:t,component:a,group:s,course:l}=e;const o=n(8399)("./".concat(l,"/").concat(s,"/").concat(a)).default;return(0,r.jsx)(i.qh,{path:t,element:(0,r.jsx)(o,{})},t)}))]})})]})})},g=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:a,getFCP:i,getLCP:r,getTTFB:s}=t;n(e),a(e),i(e),r(e),s(e)}))};t.createRoot(document.getElementById("root")).render((0,r.jsx)(e.StrictMode,{children:(0,r.jsx)(x,{})})),g()})()})();
//# sourceMappingURL=main.22591e2f.js.map